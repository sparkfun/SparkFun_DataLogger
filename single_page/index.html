
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A hookup guide for the SparkFun Datalogger IoT">
      
      
        <meta name="author" content="SparkFun Electronics">
      
      
        <link rel="canonical" href="https://sparkfun.github.io/SparkFun_DataLogger/single_page/">
      
      
      
      
        
      
      
      <link rel="icon" href="../assets/sfe_favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44+insiders-4.53.14">
    
    
      
        <title>Introduction - SparkFun DataLogger IoT Hookup Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.12320a83.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775m1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25m13.274 9.537zl-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074M4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5M4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75M8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.307 5.476c-.756.134-1.975-.615-2.59-1.362-.755-.922-.66-1.647-.071-2.29.883-.978 2.396-.6 2.396-.6s-2.772-2.432-5.658-.44c-2.571 1.77-1.833 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.443-.184-2.034-1.343-1.687-2.054.298-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044c-1.259.474-2.297 1.515-2.214 4.12V24s1.301-1.604 2.83-3.236c1.714-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.371-3.645 3.141-4.563.67-9.68-1.43-10.343 0 0 .34 1.438-.745 1.638"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6 6 0 0 0-.26.16 1 1 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1 1 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.61.61 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1 1 0 0 0-.34.398M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343za8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746m1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275M6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.75.75 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L6.94 8 4.97 6.03a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.25 1.25 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005 0-.009.004"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.5 3.5 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327q0 .15-.025.292c.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5q-.002.615-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A5 5 0 0 1 8 16a5 5 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5 5 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.7 1.7 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06m.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.17.17 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5m4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5M2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0"/></svg>');--md-admonition-icon--github:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>');--md-admonition-icon--arduino:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.087 6.146c-.3 0-.607.017-.907.069-2.532.367-4.23 2.239-5.18 3.674-.95-1.435-2.648-3.307-5.18-3.674a6.5 6.5 0 0 0-.907-.069C2.648 6.146 0 8.77 0 12s2.656 5.854 5.913 5.854c.3 0 .607-.017.916-.069 2.531-.376 4.23-2.247 5.18-3.683.949 1.436 2.647 3.307 5.18 3.683.299.043.607.069.915.069C21.344 17.854 24 15.23 24 12s-2.656-5.854-5.913-5.854M6.53 15.734a4 4 0 0 1-.625.043c-2.148 0-3.889-1.7-3.889-3.777 0-2.085 1.749-3.777 3.898-3.777q.312.002.624.043c2.39.35 3.847 2.768 4.347 3.734-.508.974-1.974 3.384-4.355 3.734m11.558.043c-.208 0-.416-.017-.624-.043-2.39-.35-3.856-2.768-4.347-3.734.491-.966 1.957-3.384 4.347-3.734q.312-.041.624-.043c2.149 0 3.89 1.7 3.89 3.777 0 2.085-1.75 3.777-3.89 3.777m1.65-4.404v1.134h-1.205v1.182h-1.156v-1.182H16.17v-1.134h1.206V10.19h1.156v1.183zM4.246 12.498H7.82v-1.125H4.245v1.125z"/></svg>');--md-admonition-icon--python:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.25.18.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"/></svg>');--md-admonition-icon--code:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg>');--md-admonition-icon--terminal:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.75.75 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.75.75 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53m1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5"/></svg>');--md-admonition-icon--serial:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h176l-10.7 32H160c-17.7 0-32 14.3-32 32s14.3 32 32 32h256c17.7 0 32-14.3 32-32s-14.3-32-32-32h-69.3L336 416h176c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm448 64v288H64V64z"/></svg>');--md-admonition-icon--hot:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.66 11.2c-.23-.3-.51-.56-.77-.82-.67-.6-1.43-1.03-2.07-1.66C11.33 7.26 11 4.85 11.95 3c-.95.23-1.78.75-2.49 1.32-2.59 2.08-3.61 5.75-2.39 8.9.04.1.08.2.08.33 0 .22-.15.42-.35.5-.23.1-.47.04-.66-.12a.6.6 0 0 1-.14-.17c-1.13-1.43-1.31-3.48-.55-5.12C3.78 10 2.87 12.3 3 14.47c.06.5.12 1 .29 1.5.14.6.41 1.2.71 1.73 1.08 1.73 2.95 2.97 4.96 3.22 2.14.27 4.43-.12 6.07-1.6 1.83-1.66 2.47-4.32 1.53-6.6l-.13-.26c-.21-.46-.77-1.26-.77-1.26m-3.16 6.3c-.28.24-.74.5-1.1.6-1.12.4-2.24-.16-2.9-.82 1.19-.28 1.9-1.16 2.11-2.05.17-.8-.15-1.46-.28-2.23-.12-.74-.1-1.37.17-2.06.19.38.39.76.63 1.06.77 1 1.98 1.44 2.24 2.8.04.14.06.28.06.43.03.82-.33 1.72-.93 2.27M21 13h-2V7h2zm0 4h-2v-2h2z"/></svg>');--md-admonition-icon--link:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018 2 2 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.75.75 0 0 1-1.042-.018.75.75 0 0 1-.018-1.042m-4.69 9.64a2 2 0 0 0 2.83 0l1.25-1.25a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .75.75 0 0 1-.018 1.042.75.75 0 0 1-1.042.018 2 2 0 0 0-2.83 0l-2.5 2.5a2 2 0 0 0 0 2.83"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
      <link rel="stylesheet" href="../stylesheet/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-7Y7EYCZVC1"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-7Y7EYCZVC1",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-7Y7EYCZVC1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://www.sparkfun.com/" title="SparkFun DataLogger IoT Hookup Guide" class="md-header__button md-logo" aria-label="SparkFun DataLogger IoT Hookup Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SparkFun DataLogger IoT Hookup Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="red"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="grey" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/sparkfun/SparkFun_DataLogger" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    sparkfun/SparkFun_DataLogger
  </div>
</a>
      </div>
    
  </nav>
  
    
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Navigation tabs -->
<nav
  class="md-tabs"
  aria-label="Tabs"
  data-md-component="tabs"
>
  <div class="md-tabs__inner md-grid">

    <!-- Adds tab on right side of header -->
    
    <ul class="md-tabs__list" style="float: right;">
      <li class="md-tabs__item">
        <a href="/SparkFun_DataLogger/hard_copy/" class="md-tabs__link">
          Hard Copies 🖨️
        </a>
      </li>
    </ul>
    

    <!-- Original tabbed sections -->
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../introduction/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../resources/" class="md-tabs__link">
        
  
    
  
  Resources

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../troubleshooting/" class="md-tabs__link">
          
  
  Support

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Determine base classes -->


  



<!-- Navigation -->
<nav
  class="md-nav md-nav--primary md-nav--lifted"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Site title -->
  <!-- title="SparkFun DataLogger IoT Hookup Guide" -->
  <label class="md-nav__title" for="__drawer">
    <a
      href="https://www.sparkfun.com/"
      title="SparkFun Product Page"
      class="md-nav__button md-logo"
      aria-label="SparkFun DataLogger IoT Hookup Guide"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>

    </a>
    SparkFun DataLogger IoT Hookup Guide
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/sparkfun/SparkFun_DataLogger" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    sparkfun/SparkFun_DataLogger
  </div>
</a>
    </div>
  

  <!-- Navigation list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Hardware Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_hookup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Hardware Hookup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prepare_your_microsd_card/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Preparing Your MicroSD Card
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wifi_network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Connecting to a WiFi Network
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_timestamp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Adding a Timestamp to Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../factory_reset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Factory Reset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../updating_firmware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Updating Firmware
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_mqtt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    MQTT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    AWS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_thingspeak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    ThingSpeak
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Azure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    HTTP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_arduino_iot_cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Arduino Cloud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_iot_web_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Viewing and Downloading Log Files using the IoT Web Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_CSV_to_spreadsheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    How to Convert Comma Separated Values (CSV) to a Spreadsheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supported_devices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Appendix - Supported Qwiic Devices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Resources
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Support
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Support
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../file_issue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Submit Issues
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contribute
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    

    <!-- Add Hard Copies to NAV menu -->
    <li class="md-nav__item">
      <a href="/SparkFun_DataLogger/hard_copy/" class="md-nav__link">
      <span class="md-ellipsis">
          Hard Copies&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.5c-1.35-.85-3.8-1.5-5.5-1.5-1.65 0-3.35.3-4.75 1.05-.1.05-.15.05-.25.05-.25 0-.5-.25-.5-.5V6c.6-.45 1.25-.75 2-1 1.11-.35 2.33-.5 3.5-.5 1.95 0 4.05.4 5.5 1.5 1.45-1.1 3.55-1.5 5.5-1.5 1.17 0 2.39.15 3.5.5.75.25 1.4.55 2 1v14.6c0 .25-.25.5-.5.5-.1 0-.15 0-.25-.05-1.4-.75-3.1-1.05-4.75-1.05-1.7 0-4.15.65-5.5 1.5M12 8v11.5c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5V7c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5m1 3.5c1.11-.68 2.6-1 4.5-1 .91 0 1.76.09 2.5.28V9.23c-.87-.15-1.71-.23-2.5-.23q-2.655 0-4.5.84zm4.5.17c-1.71 0-3.21.26-4.5.79v1.69c1.11-.65 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24v-1.5c-.87-.16-1.71-.23-2.5-.23m2.5 2.9c-.87-.16-1.71-.24-2.5-.24-1.83 0-3.33.27-4.5.8v1.69c1.11-.66 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24z"/></svg>
      </span>
      </a>
    </li>
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#required-materials" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Required Materials<a class="headerlink" href="#required-materials" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-sensors" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          The Sensors<a class="headerlink" href="#the-sensors" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#suggested-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Suggested Reading<a class="headerlink" href="#suggested-reading" title="Permanent link"></a>
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                

  




              
              <article class="md-content__inner md-typeset">
                

<!-- Adds file-eye icon to view hookup guide as a single page -->

    <a href="/SparkFun_DataLogger/single_page" title="View Guide as Single-Page" class="md-content__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
        <!-- .icons/fontawesome/solid/scroll.svg -->
    </a>




                  
  



  
    <a href="https://github.com/sparkfun/SparkFun_DataLogger/blob/main/docs/single_page.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 12h8v2H8zm2 8H6V4h7v5h5v3.1l2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4zm-2-2h4.1l.9-.9V16H8zm12.2-5c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link"></a></h1>
<p>The SparkFun DataLogger IoT is a data logger that comes preprogrammed to automatically log IMU, GPS, and various pressure, humidity, and distance sensors.  All without writing a single line of code! They come in two flavors: The <a href="https://www.sparkfun.com/products/20594">SparkFun DataLogger IoT - 9DoF</a> and the <a href="https://www.sparkfun.com/products/22462">SparkFun DataLogger IoT</a>. Both versions of the DataLogger IoT automatically detects, configures, and logs Qwiic sensors. It was specifically designed for users who just need to capture a lot of data to a CSV or JSON file, and get back to their larger project. Save the data to a microSD card or send it wirelessly to your preferred Internet of Things (IoT) service!</p>
<div class="grid cards col-2">
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/20594">
      <figure markdown>
        <img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_01.jpg" style="width:140px; height:140px; object-fit:contain;" alt="SparkFun DataLogger IoT - 9DoF">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/products/20594">
  <b>SparkFun DataLogger IoT - 9DoF</b>
  <br />
  DEV-20594
  <br />
  <center><a class="md-button md-button--primary" href="https://www.sparkfun.com/products/20594">Purchase from SparkFun <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 24C0 10.7 10.7 0 24 0h45.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5l-51.6-271c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24m128 440a48 48 0 1 1 96 0 48 48 0 1 1-96 0m336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96M252 160c0 11 9 20 20 20h44v44c0 11 9 20 20 20s20-9 20-20v-44h44c11 0 20-9 20-20s-9-20-20-20h-44V96c0-11-9-20-20-20s-20 9-20 20v44h-44c-11 0-20 9-20 20"/></svg></span></a></center>
</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/22462">
      <figure markdown>
        <img src="../assets/22462-_DEV_SparkFun_DataLogger_IoT-1.jpg" style="width:140px; height:140px; object-fit:contain;" alt="SparkFun DataLogger IoT">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/products/22462">
  <b>SparkFun DataLogger IoT</b>
  <br />
  DEV-22462
  <br />
  <center><a class="md-button md-button--primary" href="https://www.sparkfun.com/products/22462">Purchase from SparkFun <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 24C0 10.7 10.7 0 24 0h45.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5l-51.6-271c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24m128 440a48 48 0 1 1 96 0 48 48 0 1 1-96 0m336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96M252 160c0 11 9 20 20 20h44v44c0 11 9 20 20 20s20-9 20-20v-44h44c11 0 20-9 20-20s-9-20-20-20h-44V96c0-11-9-20-20-20s-20 9-20 20v44h-44c-11 0-20 9-20 20"/></svg></span></a></center>
</a></p>
</li>
</ul>
</div>
<div style="text-align: center">
  <table>
    <tr>
      <td style="text-align: center; vertical-align: middle;">
        <iframe width="400" height="225" src="https://www.youtube.com/embed/RwCu-60sQOI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </td>
      <td style="text-align: center; vertical-align: middle;">
        <iframe width="400" height="225" src="https://www.youtube.com/embed/iGVVyN-xJf0?si=d3GTB3DwZ8cHWhl_" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </td>
    </tr>
  </table>
</div>

<h3 id="required-materials">Required Materials<a class="headerlink" href="#required-materials" title="Permanent link"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Battery Polarity</p>
<p>Please make sure that you use one of our recommended Lithium Ion batteries. Some batteries use the same JST connector as ours but have the <a href="https://learn.sparkfun.com/tutorials/polarity/all#other-polarized-components">opposite polarity</a>. Connecting one of these to your DataLogger IoT will destroy it. If you are going to use your own battery, it is up to you to ensure it has the correct polarity.</p>
</div>
<p>To follow along with this tutorial, you will need the following materials. You may not need everything though depending on what you have. Add it to your cart, read through the guide, and adjust the cart as necessary.</p>
<ul>
<li>1x SparkFun DataLogger IoT<ul>
<li><a href="https://www.sparkfun.com/products/20594">SparkFun DataLogger IoT - 9DoF [DEV-20594]</a></li>
<li><a href="https://www.sparkfun.com/products/22462">SparkFun DataLogger IoT [DEV-22462]</a></li>
</ul>
</li>
<li>1x <a href="https://www.sparkfun.com/products/15107">microSD card formatted with FAT32 [COM-15107]</a></li>
<li>1x A USB-C cable for configuring and LiPo charging<ul>
<li>Our <a href="https://www.sparkfun.com/products/15092">USB 2.0 A to C Cable [CAB-15092]</a> will do nicely</li>
<li>Our <a href="https://www.sparkfun.com/products/14743">USB 3.1 A to C Cable [CAB-14743]</a> is a good choice too</li>
</ul>
</li>
<li>1x <a href="https://www.sparkfun.com/products/18286">Lithium Ion Battery</a></li>
<li>At least one Qwiic cable<ul>
<li>A single <a href="https://www.sparkfun.com/products/14426">50mm Cable</a> is all you need to get going</li>
<li>Our <a href="https://www.sparkfun.com/products/15081">Qwiic Cable Kit</a> covers all the options</li>
</ul>
</li>
<li>At least one <a href="../supported_devices">Qwiic enabled devices that is compatible</a> that you may need</li>
</ul>
<div class="grid cards col-4">
<ul>
<li>
<p><a href="https://www.sparkfun.com/products/20594">
      <figure markdown>
        <img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_01.jpg" style="width:140px; height:140px; object-fit:contain;" alt="SparkFun DataLogger IoT - 9DoF">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/products/20594">
  <b>SparkFun DataLogger IoT - 9DoF</b>
  <br />
  DEV-20594
</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/14743">
      <figure markdown>
        <img src="https://cdn.sparkfun.com//assets/parts/1/2/9/7/2/14743-USB_3.1_Cable_A_to_C_-_3_Foot-01.jpg" style="width:140px; height:140px; object-fit:contain;" alt="USB 3.1 Cable A to C - 3 Foot">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/products/14743">
  <b>USB 3.1 Cable A to C - 3 Foot</b>
  <br />
  CAB-14743
</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/15107">
      <figure markdown>
        <img src="https://cdn.sparkfun.com//assets/parts/1/3/4/7/0/15107-microSD_Card_-_1GB__Class_4_-01.jpg" style="width:140px; height:140px; object-fit:contain;" alt="microSD Card - 1GB (Class 4)">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/products/15107">
  <b>microSD Card - 1GB (Class 4)</b>
  <br>
  COM-15107
</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/14426">
      <figure markdown>
        <img src="https://cdn.sparkfun.com//assets/parts/1/2/4/5/2/14426-Qwiic_Cable_-_50mm-01.jpg" style="width:140px; height:140px; object-fit:contain;" alt="Qwiic Cable - 50mm">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/products/14426">
  <b>Qwiic Cable - 50mm</b>
  <br>
  PRT-14426
</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/products/18286">
      <figure markdown>
        <img src="https://cdn.sparkfun.com//assets/parts/1/7/6/0/6/17748-Lithium_Ion_Battery_-_1250_mAh__IEC62133_certified_-01.jpg" style="width:140px; height:140px; object-fit:contain;" alt="Lithium Ion Battery - 1250mAh (IEC62133 Certified)">
    </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/products/18286">
<b>Lithium Ion Battery - 1250mAh (IEC62133 Certified)</b>
<br>
PRT-18286
   </a></p>
</li>
</ul>
</div>
<h3 id="the-sensors">The Sensors<a class="headerlink" href="#the-sensors" title="Permanent link"></a></h3>
<p>Straight out of the <del>box</del> anti-static bag, the DataLogger IoT is ready to log data from its built-in ISM330DHCX Inertial Measurement Unit (IMU) and MMC5983MA magnetometer. Only want to log magnetometer, accelerometer, gyro or temperature data? You’re good to go! But the fun is only just beginning…</p>
<p>The DataLogger IoT is preprogrammed to automatically log data from all of the following sensors, so you may wish to add one or more of these to your shopping cart too. (More sensors are being added all the time and it is really easy to upgrade the DataLogger IoT to support them. But we'll get to that in a moment!). Currently, auto-detection is supported on the following Qwiic-enabled products (with the exception of the ISM330DHCX and MMC5983 which is built-in on the SPI port):</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a list of supported devices based on the firmware, you can check out the <a href="../supported_devices">list of supported Qwiic Devices in the appendix</a>. We simply categorized the supported devices below based on the type.</p>
</div>
<ul>
<li><strong>Any u-Blox GNSS Modules (Lat/Long, Altitude, Velocity, SIV, Time, Date) such as:</strong><ul>
<li><a href="https://www.sparkfun.com/products/15136">ZED-F9P</a> 1cm High Precision GPS</li>
<li><a href="https://www.sparkfun.com/products/15005">NEO-M8P</a> 2.5cm High Precision GPS</li>
<li><a href="https://www.sparkfun.com/products/21834">SAM-M10Q</a> 1.5m GPS</li>
<li><a href="https://www.sparkfun.com/products/15210">SAM-M8Q</a> 1.5m 72 Channel GPS</li>
<li><a href="https://www.sparkfun.com/products/15193">ZOE-M8Q</a> 1.5m Compact GPS</li>
<li><a href="https://www.sparkfun.com/products/15712">NEO-M9N</a> 1.5m GPS</li>
<li><a href="https://www.sparkfun.com/products/18037">MAX-M10S</a> 1.5m Ultra-Low Power GPS</li>
</ul>
</li>
<li><strong>Inertial Measurement Unit (Accelerometer and Gyro):</strong><ul>
<li><a href="https://www.sparkfun.com/products/19764">ISM330DHCX</a> IMU (Built-in for the 9DoF version via SPI)</li>
</ul>
</li>
<li><strong>Magnetometer:</strong><ul>
<li><a href="https://www.sparkfun.com/products/19921">MMC5983</a> (Built-in for the 9DoF version via SPI)</li>
</ul>
</li>
<li><strong>Distance:</strong><ul>
<li><a href="https://www.sparkfun.com/products/22494">STHS34PF80</a>] Human Presence Sensor - 4 Meter</li>
<li><a href="https://www.sparkfun.com/products/19036">TMF8820</a> dToF Imager</li>
<li><a href="https://www.sparkfun.com/products/19037">TMF8821</a> dToF Imager</li>
<li><a href="https://www.sparkfun.com/products/15177">VCNL4040</a> Proximity and Lux</li>
<li><a href="https://www.sparkfun.com/products/14722">VL53L1X</a> Distance - 4 Meter</li>
<li><a href="https://www.sparkfun.com/products/18993">VL53L4</a> Distance - 1.3 Meter</li>
<li><a href="https://www.sparkfun.com/products/18642">VL53L5</a> ToF Imager</li>
</ul>
</li>
<li><strong>Pressure, Altitude, Humidity and Temperature Data:</strong><ul>
<li><a href="https://www.sparkfun.com/products/15440">BME280</a> Atmospheric</li>
<li><a href="https://www.sparkfun.com/products/14767">LPS25HB</a> Absolute Pressure</li>
<li><a href="https://www.sparkfun.com/products/16476">MPR Series - MPRLS0025PA00001A</a> MicroPressure  </li>
<li><a href="https://www.sparkfun.com/products/16298">MS8607</a> Pressure, Humidity, and Temperature</li>
<li><a href="https://www.sparkfun.com/products/14688">MS5637</a> Barometric Pressure and Temperature</li>
<li><a href="https://www.sparkfun.com/products/16618">AHT20</a> Humidity and Temperature</li>
<li><a href="https://www.sparkfun.com/products/16467">SHTC3</a> Humidity and Temperature</li>
<li><a href="https://www.sparkfun.com/products/17874">SDP31</a> Differential Pressure</li>
<li><a href="https://www.sparkfun.com/products/19662">BMP384</a> Pressure and Temperature</li>
<li><a href="https://www.sparkfun.com/products/20170">BMP581</a> Pressure and Temperature</li>
</ul>
</li>
<li><strong>Air Quality and Environmental Sensors:</strong><ul>
<li><a href="https://www.sparkfun.com/products/14193">CCS811</a> Air Quality (CO2 and VOC)</li>
<li><a href="https://www.sparkfun.com/products/20844">ENS160</a> Indoor Air Quality (AQI, eCO2, and TVOC)</li>
<li><a href="https://www.sparkfun.com/products/22956">PASCO2V01</a> Air Quality (CO2)</li>
<li><a href="https://www.sparkfun.com/products/16531">SGP30</a> Air Quality (TVOC, CO2, H2, Ethanol)</li>
<li><a href="https://www.sparkfun.com/products/18345">SGP40</a> Air Quality (VOC, Humidity, Temperature)</li>
<li><a href="https://www.sparkfun.com/products/15112">SCD30</a> CO2, Humidity, and Temperature</li>
<li><a href="https://www.sparkfun.com/products/18365">SCD40</a> CO2, Humidity, and Temperature</li>
<li><a href="https://www.sparkfun.com/products/16466">BME680</a> Air Quality (Pressure, Humidity, Temperature, Gas, VOCs)</li>
<li><a href="https://www.sparkfun.com/products/19096">BME688</a> Air Quality (Pressure, Humidity, Temperature, Gas, VOCs, VSC, CO, Gas)</li>
<li><a href="https://www.sparkfun.com/products/18377">FS3000</a> Air Velocity</li>
<li><a href="https://www.sparkfun.com/products/19325">SEN54</a> Environmental Sensor Node (Particle, VOC, Humidity, and Temperature)</li>
<li><a href="https://www.sparkfun.com/products/18385">STC31</a> CO2 and Temperature sensor</li>
<li><a href="https://www.sparkfun.com/products/15089">VEML6075</a> UV  </li>
<li><a href="https://www.sparkfun.com/products/18981">VEML7700</a> Ambient Light and Lux</li>
<li><a href="https://www.sparkfun.com/products/22638">OPT4048DTSR</a> Tristimulus Color</li>
<li><a href="https://www.sparkfun.com/products/15050">AS7265x</a> Triad Spectroscopy</li>
</ul>
</li>
<li><strong>Temperature:</strong><ul>
<li><a href="https://www.sparkfun.com/products/14607">AMG8833</a> Grid-EYE Infrared Array</li>
<li><a href="https://www.sparkfun.com/products/16294">MCP9600</a> Thermocouple Amplifier</li>
<li><a href="https://www.sparkfun.com/products/16770">PT100 ADS122C04</a> PR Temperature</li>
<li><a href="https://www.sparkfun.com/products/15805">TMP117</a> High Precision Temperature</li>
</ul>
</li>
<li><strong>Power:</strong><ul>
<li><a href="https://www.sparkfun.com/products/17873">ACS37800</a> Power Meter</li>
<li><a href="https://www.sparkfun.com/products/17715">MAX17048</a> Li-Po Battery Fuel Gauge (Built-in via I2C)</li>
</ul>
</li>
<li><strong>Real Time Clock:</strong><ul>
<li><a href="https://www.sparkfun.com/products/16281">RV8803</a> RTC Module</li>
</ul>
</li>
<li><strong>NFC/RFID:</strong><ul>
<li><a href="https://www.sparkfun.com/products/19035">ST25DVxxKC</a> Dynamic NFC/RFID Tag</li>
</ul>
</li>
<li><strong>Weight:</strong><ul>
<li><a href="https://www.sparkfun.com/products/15242">NAU7802</a>  Qwiic Scale Load Cell Amplifier</li>
</ul>
</li>
<li><strong>Miscellaneous:</strong><ul>
<li><a href="https://www.sparkfun.com/products/15932">Qwiic Button</a></li>
<li><a href="https://www.sparkfun.com/products/15083">Qwiic Twist</a> RGB Rotary Encoder</li>
</ul>
</li>
<li><strong>Analog Voltage:</strong><ul>
<li><a href="https://www.sparkfun.com/products/15334">ADS1015</a> 12-bit 4-channel Differential ADC</li>
<li><a href="https://www.sparkfun.com/products/16770">ADS122C04</a> 24-bit Differential ADC found on the PT100</li>
</ul>
</li>
</ul>
<h3 id="suggested-reading">Suggested Reading<a class="headerlink" href="#suggested-reading" title="Permanent link"></a></h3>
<p>If you aren't familiar with the Qwiic system, we recommend reading <a href="https://www.sparkfun.com/qwiic">here for an overview</a>.</p>
<div style="text-align: center">
  <table style="border-style:none">
    <tr>
     <td style="text-align: center; vertical-align: middle;">
     <div style="text-align: center"><a href="https://www.sparkfun.com/qwiic"><img src="../assets/Qwiic-registered-updated.png" alt="Qwiic Connect System" title="Click to learn more about the Qwiic Connect System!"></a>
     </div>
    </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;"><div style="text-align: center"><i><a href="https://www.sparkfun.com/qwiic">Qwiic Connect System</a></i></div></td>
    </tr>
  </table>
</div>

<p>If you aren’t familiar with the following concepts, we also recommend checking out a few of these tutorials before continuing.</p>
<div class="grid cards col-4">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/accelerometer-basics">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/6/7/e/5/a/516c6b6ece395f0f49000000.jpeg" style="width:264px; height:148px; object-fit:contain;" alt="Accelerometer Basics">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/accelerometer-basics">
  <b>Accelerometer Basics</b>
</a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/gyroscope">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/d/6/5/6/a/5112ed4ece395f2f2a000003.gif" style="width:264px; height:148px; object-fit:contain;" alt="Gyroscope">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/gyroscope">
  <b>Gyroscope</b>
</a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/qwiic-9dof---ism330dhcx-mmc5983ma-hookup-guide">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/learn_tutorials/2/6/1/6/19895_Diag.jpg" style="width:264px; height:148px; object-fit:contain;" alt="Qwiic 9DoF - ISM330DHCX, MMC5983MA Hookup Guide">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/qwiic-9dof---ism330dhcx-mmc5983ma-hookup-guide">
  <b>Qwiic 9DoF - ISM330DHCX, MMC5983MA Hookup Guide</b>
</a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/terminal-basics">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/learn_tutorials/1/1/2/terminalThumb.jpg" style="width:264px; height:148px; object-fit:contain;" alt="Serial Terminal Basics">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/terminal-basics">
  <b>Serial Terminal Basics</b>
</a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/how-to-work-with-jumper-pads-and-pcb-traces">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/learn_tutorials/6/6/4/PCB_TraceCutLumenati.jpg"style="width:264px; height:148px; object-fit:contain;" alt="How to Work with Jumper Pads and PCB Traces">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/how-to-work-with-jumper-pads-and-pcb-traces">
  <b>How to Work with Jumper Pads and PCB Traces</b>
</a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/i2c">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/learn_tutorials/8/2/I2C-Block-Diagram.jpg" style="width:264px; height:148px; object-fit:contain;" alt="I2C">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/i2c">
  <b>I2C</b>
</a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/battery-technologies">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/a/6/5/e/f/5114447cce395f697e000009.jpg" style="width:264px; height:148px; object-fit:contain;" alt="Battery Technologies">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/battery-technologies">
<b>Battery Technologies</b>
</a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/single-cell-lipo-battery-care">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/c/264-148/assets/learn_tutorials/3/0/4/5/Remove_2-pin_JST-PH_Connector_LiPo_Battery_Needle_Nose_Pliers_Wiggling-3.jpg" style="width:264px; height:148px; object-fit:contain;" alt="Single Cell LiPo Battery Care">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/single-cell-lipo-battery-care">
  <b>Single Cell LiPo Battery Care</b>
</a></p>
</li>
</ul>
</div>
<h1 id="hardware-overview">Hardware Overview<a class="headerlink" href="#hardware-overview" title="Permanent link"></a></h1>
<p>In this section, we will highlight the hardware and pins that are broken out on the SparkFun DataLogger IoT. At the time of writing, we highlighted the SparkFun DataLogger IoT - 9DoF. However, this also applies for the SparkFun DataLogger IoT.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-9DOF_top.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-9DOF_top.jpg" width="600px" height="600px" alt="DataLogger IoT - 9DoF (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-9DOF_bottom.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-9DOF_bottom.jpg" width="600px" height="600px" alt="DataLogger IoT - 9DoF (Bottom View)"></a></td>
    </tr>
    <tr style="vertical-align:middle;">
      <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT - 9DoF (Top View)</i></td>
      <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT - 9DoF (Bottom View)</i></td>
    </tr>
  </table>
</div>

<p>The SparkFun DataLogger is pretty much the same with the exception of the following features listed below. We'll include notes highlighting the differences in each section.</p>
<ul>
<li>No built - in 6DoF IMU - ISM330DHCX</li>
<li>No built - in magnetometer - MMC5983</li>
<li>The addressable RGB LED - WS2812 is replaced with the side emitting addressable RGB LED - B3DQ3BRG</li>
<li>No IMU INT2 jumper</li>
<li>No Mag INT jumper</li>
<li>Included MEAS PTH Jumper</li>
<li>The "35 / A7" PTH on the edge of the board is replace with a "5" PTH.</li>
</ul>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT-Top.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT-Top.jpg" width="600px" height="600px" alt="DataLogger IoT (Top View)"></a>
     </td>   
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT-Bottom.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT-Bottom.jpg" width="600px" height="600px" alt="DataLogger IoT (Bottom View)"></a>
     </td>
    </tr>
    <tr style="vertical-align:middle;">
      <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT (Top View)</i></td>
      <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT (Bottom View)</i></td>
    </tr>
  </table>
</div>

<h2 id="esp32-wroom-module">ESP32-WROOM Module<a class="headerlink" href="#esp32-wroom-module" title="Permanent link"></a></h2>
<p>The DataLogger IoT is populated with <a href="https://www.sparkfun.com/products/17830">Espressif's ESP32-WROOM-32E module</a>. Espressif's ESP32 WROOM ubiquitous IoT microcontroller is a powerful WiFi, BT, and BLE MCU module that targets a wide variety of applications. For the DataLogger IoT, the firmware currently utilizes the WiFi feature.</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32.jpg" width="600px" height="600px" alt="ESP32-WROOM Highlighted on the DataLogger IoT - 9DoF"></a></td>
   </tr>
  </table>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently the DataLogger IoT does not have BT or BLE. However, BT or BLE is being considered on a future firmware build to include this as a feature.</p>
</div>
<h2 id="power">Power<a class="headerlink" href="#power" title="Permanent link"></a></h2>
<p>There are a variety of power and power-related nets broken out to connectors and through hole pads. Below list a few methods of powering the board up. There are protection diodes for the USB-C, 5V pin, and single cell LiPo battery. Power is regulated down to <a href="https://learn.sparkfun.com/tutorials/logic-levels/all">3.3V for the system voltage</a>.  Depending on the settings and what is connected to the DataLogger IoT, the board can pull a minimum of 200&micro;A in low power mode by itself.</p>
<ul>
<li>USB-C</li>
<li>5V Pin</li>
<li>Single Cell LiPo Battery</li>
<li>3V3 Pin</li>
</ul>
<h3 id="usb-c-and-5v">USB-C and 5V<a class="headerlink" href="#usb-c-and-5v" title="Permanent link"></a></h3>
<p>The DataLogger IoT comes equipped with a USB type C socket which you can use to connect it to your computer to view the output and configuration through the serial terminal, or plug in a USB-C power supply. The DataLogger IoT includes the configuration channel resistors needed to tell the power supply to deliver <strong>5V</strong>. You can use your USB-C laptop charger as the power source should you need to, even though it normally delivers a much higher voltage.</p>
<p>There is also a <strong>5V</strong> power input pin. You can use this to feed in 5V power from an external source. The maximum voltage is <strong>6.0V</strong>. The 5V pin is diode-protected and so is the USB-C power input, so it is OK to have both connected at the same time. This pin is ideal if you want to power your DataLogger from regulated solar power or a different type of power supply. You can not use the 5V pin as an output.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">
       <a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_Power_In_USB_5V_PTH.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_Power_In_USB_5V_PTH.jpg" width="600px" height="600px" alt="USB C Connector, 3.3V Voltage regulator, 5V PTH"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">
       <a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Power_In_5V_PTH.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Power_In_5V_PTH.jpg" width="600px" height="600px" alt="5V PTH"></a></td>
    </tr>
  </table>
</div>

<p>Voltage from the USB is regulated down to the XC6222 <strong>3.3V</strong>/700mA voltage regulators for the system voltage and Qwiic-enabled devices. USB power is also connected to the MCP73831 to charge a single cell LiPo battery at a default rate of <strong>500mA</strong>.</p>
<p>For customers in North America, our <a href="https://www.sparkfun.com/products/15448">NEMA Raspberry Pi Wall Adapter</a> is a perfect choice. You can power the DataLogger IoT from our <a href="https://www.sparkfun.com/products/15204">USB Battery Pack / Power Bank - TOL-15204</a> but you will need a USB-C cable too:</p>
<ul>
<li>Our <a href="https://www.sparkfun.com/products/15092">USB 2.0 A to C Cable - CAB-15092</a> will do nicely</li>
<li>Our <a href="https://www.sparkfun.com/products/14743">USB 3.1 A to C Cable - CAB-14743</a> is a good choice too</li>
</ul>
<h3 id="lipo-battery-input-charger-and-fuel-gauge">LiPo Battery Input, Charger, and Fuel Gauge<a class="headerlink" href="#lipo-battery-input-charger-and-fuel-gauge" title="Permanent link"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><b>Battery Polarity:</b> Please make sure that you use one of our recommended Lithium Ion batteries. Some batteries use the same JST connector as ours but have the <a href="https://learn.sparkfun.com/tutorials/polarity/all#other-polarized-components">opposite polarity</a>. Connecting one of these to your DataLogger IoT will destroy it. If you are going to use your own battery, it is up to you to ensure it has the correct polarity.</p>
</div>
<p>But of course you’re going to want to use the DataLogger IoT to log sensor data while on the move too. You can connect one of our <a href="https://www.sparkfun.com/products/13855">standard single cell LiPo batteries</a> to the DataLogger IoT and power it for hours, days or weeks depending on what sensors you have attached and how often you log data. The DataLogger IoT uses the built-in MCP73831 charger too which will charge your battery at 500mA when USB-C is connected. Please make sure your battery capacity is at least <strong>500mAh</strong> (0.5Ah); bad things will happen if you try to charge our smallest batteries at 500mA. The board also includes the MAX17048 LiPo Fuel Gauge which allows you to determine how much power your LiPo battery has available. The 2-pin JST connector pins are broken out to PTHs on the edge of the board if you decide to solder a single cell LiPo battery directly to the board or power another device.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_MAX17043_Fuel_Gauge_LiPo_Charger_MCP73831_Battery_Input.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_MAX17043_Fuel_Gauge_LiPo_Charger_MCP73831_Battery_Input.jpg" width="600px" height="600px" alt="LiPo Charger and Fuel Gauge Circuit Highlighted on teh DataLogger IoT -  9DoF (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Battery_Input.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Battery_Input.jpg" width="600px" height="600px" alt="LiPo Charger and Fuel Gauge Circuit Highlighted on teh DataLogger IoT -  9DoF (Bottom View)"></a></td>
    </tr>
  </table>
</div>

<h3 id="3v3-pins">3V3 Pins<a class="headerlink" href="#3v3-pins" title="Permanent link"></a></h3>
<p>For those going the old school route, you can also bypass the voltage regulators by <a href="https://learn.sparkfun.com/tutorials/how-to-solder-through-hole-soldering">soldering</a> directly to the 3V3 and GND pin to provide power if your application has a regulated 3.3V. Note that this is only connected to the system voltage. You will also need to provide power to the 3V3 SWCH or Qwiic-enabled devices should you decide to bypass the voltage regulator.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_3V3_System_Qwiic.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_3V3_System_Qwiic.jpg" width="600px" height="600px" alt="3.3V Voltage Regulators, PTHs, and Qwiic Connectors Highlighted on the DataLogger IoT - 9DoF (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_3V3_System_Qwiic.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_3V3_System_Qwiic.jpg" width="600px" height="600px" alt="3.3V Voltage Regulators, PTHs, and Qwiic Connectors Highlighted on the DataLogger IoT - 9DoF (Bottom View)"></a></td>
    </tr>
  </table>
</div>

<h2 id="ch340-usb-to-serial-converter">CH340 USB-to-Serial Converter<a class="headerlink" href="#ch340-usb-to-serial-converter" title="Permanent link"></a></h2>
<p>The top side of the board includes a CH340 USB-to-Serial Converter. The chip can be used to send serial data between the device and computer. You can view the output or configure the device through a serial terminal.</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_CH340_USB-to-Serial.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_CH340_USB-to-Serial.jpg" alt="CH340 Highlighted on the DataLogger IoT - 9DoF (Top View)"></a></td>
    </tr>
  </table>
</div>

<p>The driver should automatically install on most operating systems. However, there is a wide range of operating systems out there. You may need to install drivers the first time you connect the chip to your computer's USB port or when there are operating system updates. For more information, check out our <a href="https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers">How to Install CH340 Drivers Tutorial</a>.</p>
<div style="text-align: center">
  <table>
    <tr>
      <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">
        <a href="https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers">
          <div style="text-align: center"><img src="https://cdn.sparkfun.com/c/178-100/assets/learn_tutorials/9/0/8/USB-to-serial_converter_CH340-closeup.jpg" alt="How to Install CH340 Drivers" style="width:500px; height:282px; object-fit:contain;"></div>
          <hr />
          <h3 style="text-align: left">
            <b>How to Install CH340 Drivers</b>
          </h3>
        </a>
      </td>
    </tr>
  </table>
</div>

<h2 id="uart">UART<a class="headerlink" href="#uart" title="Permanent link"></a></h2>
<p>The hardware serial UART pins are broken out on the edge of the board. For more information about Serial UART, check out the tutorial about <a href="https://learn.sparkfun.com/tutorials/serial-communication/all#wiring-and-hardware">Serial Communication</a> for more information.</p>
<ul>
<li><strong>TXD</strong>: UART transmit pin. This is connected to pin <code>16</code>.</li>
<li><strong>RXD</strong>: UART receive pin. This is connected to pin <code>17</code>.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The UART pins are not currently supported in the firmware for data logging.</p>
</div>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_UARTs.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_UARTs.jpg" width="600px" height="600px" alt="UART Pins Highlighted on the DataLogger IoT - 9DoF (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_UART.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_UART.jpg" width="600px" height="600px" alt="UART Pins Highlighted on the DataLogger IoT - 9DoF (Bottom View)"></a></td>
    </tr>
  </table>
</div>

<h2 id="qwiic-and-i2c">Qwiic and I<sup>2</sup>C<a class="headerlink" href="#qwiic-and-i2c" title="Permanent link"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may notice a thin film over the vertial Qwiic connector. This is used by a pick-and-place machine when populating the component on the board before it goes through the reflow oven. This can be removed if you decide to use the vertical Qwiic connector with Qwiic-enabled devices.</p>
</div>
<p><a href="https://www.sparkfun.com/qwiic">SparkFun's Qwiic Connect System</a> uses 4-pin JST style connectors to quickly interface development boards with I<sup>2</sup>C sensors and more. No soldering required and there's no need to worry about accidentally swapping the SDA and SCL wires. The Qwiic connector is polarized so you know you’ll have it wired correctly every time, right from the start. Qwiic boards are daisy chain-able too so you can connect multiple sensors to the DataLogger IoT and log readings from all of them.</p>
<p>The board is populated with vertical and horizontal Qwiic connectors. These are also broken out to PTHs on the edge of the board.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_Qwiic_I2C.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_Qwiic_I2C.jpg" width="600px" height="600px" alt="Qwiic Connector and I2C PTH Highlighted on the DataLogger IoT - 9DoF (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Qwiic_I2C.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Qwiic_I2C.jpg" width="600px" height="600px" alt="Qwiic Connector and I2C PTH Highlighted on the DataLogger IoT - 9DoF (Bottom View)"></a></td>
    </tr>
  </table>
</div>

<ul>
<li><strong>SCL</strong>: I<sup>2</sup>C clock pin. This is connected to pin <code>22</code> and a 2.2k&ohm; pull-up resistor.</li>
<li><strong>SDA</strong>: I<sup>2</sup>C data pin. This is connected to pin <code>21</code> and a 2.2k&ohm; pull-up resistor.</li>
<li><strong>3V3 SW</strong>: The 3.3v pin is connected to the XC6222 voltage regulator's output to power the Qwiic devices.</li>
<li><strong>GND</strong>: Common, ground voltage (0V reference) for the system</li>
</ul>
<p>Connected to the line I<sup>2</sup>C line is the MAX17048 LiPo fuel gauge (7-bit unshifted address = <strong>0x36</strong>).</p>
<p>Sometimes you might want to connect more than one of the same type of sensor to the DataLogger IoT. On the I<sup>2</sup>C bus, each device needs to have a unique address. On many of our boards, there are jumpers links which you can use to change the address and some have addresses that can be configured in software. But there are some where you cannot change the address. Typically, one would use a multiplexor. However, we currently do not have the DataLogger IoT configured to work with any multiplexors (i.e. Qwiic Mux Breakout).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently the Qwiic Mux is not compatible with the DataLogger IoT.</p>
</div>
<p>The DataLogger IoT includes a dedicated 3.3V regulator for the Qwiic connector. This has several advantages including:</p>
<ul>
<li>The DataLogger IoT can completely power-down the I<sup>2</sup>C sensors during sleep to prolong your battery life</li>
<li>There’s no risk of the Qwiic bus gulping too much current and causing problems for the ESP32</li>
</ul>
<h2 id="spi">SPI<a class="headerlink" href="#spi" title="Permanent link"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Besides the built-in ISM330DHCX and MMC5983MA, the SPI pins are not currently supported in the firmware for data logging.</p>
</div>
<p>The SPI pins are broken out on the edge of the board. For those that are unfamiliar to PICO and POCI, check out the <a href="https://learn.sparkfun.com/tutorials/serial-peripheral-interface-spi/all#receiving-data">SPI tutorial</a> for more information.</p>
<ul>
<li><strong>SCK</strong>: SPI clock pin. This is connect to pin <code>18</code>.</li>
<li><strong>PICO</strong>: SPI Peripheral In Controller Out. This is connected to pin <code>23</code>.</li>
<li><strong>POCI</strong>: SPI Peripheral Out Controller In. This is connected to pin <code>19</code>.</li>
</ul>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_SPI.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_SPI.jpg" width="600px" height="600px" alt="SPI Pins Highlighted on the DataLogger IoT -9DoF (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_SPI.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_SPI.jpg" width="600px" height="600px" alt="SPI Pins Highlighted on the DataLogger IoT - 9DoF (Bottom View)"></a></td>
    </tr>
  </table>
</div>

<p>Not shown in the image are the chip select (CS) pins. The 6DoF IMU's CS pin is connected to pin <code>5</code>. The magnetometer's CS pin is connected to pin <code>27</code> which is not broken out.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On the DataLogger IoT, the IMU and magnetometer are not connected to the SPI port since they are not included on the board. Instead of pin "35 / A7" being broken out, pin "5" is broken out on the edge of the board.</p>
<p><div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT_Pin_5-Top.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT_Pin_5-Top.jpg" width="600px" height="600px" alt="Pin 5 Highlighted on the DataLogger IoT (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT_Pin_5-Bottom.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT_Pin_5-Bottom.jpg" width="600px" height="600px" alt="Pin 5 Highlighted on the DataLogger IoT (Bottom View)"></a></td>
    </tr>
  </table>
</div></p>
</div>
<h2 id="microsd-card-socket">MicroSD Card Socket<a class="headerlink" href="#microsd-card-socket" title="Permanent link"></a></h2>
<p>The DataLogger IoT supports full 4-bit SDIO for fast logging and uses common microSD cards to record clear text, comma separated files. Flip over the DataLogger IoT and you'll see the latching microSD card socket. You probably already have a microSD card laying around. However, if you need any additional units, we have plenty <a href="https://www.sparkfun.com/categories/351">in the SparkFun catalog</a>. The DataLogger can use any size microSD card and supports FAT32 cards in addition to FAT16. Please ensure that your SD card is formatted correctly; we recommend the <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager Tool</a>.</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_microSD_Card.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_microSD_Card.jpg" width="600px" height="600px" alt="MicroSD Card"></a></td>
    </tr>
  </table>
</div>

<p>Slide in your formatted SD card and it will click neatly into place. The edge of the SD card will stick out on the edge of the circuit board when it is inserted correctly.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You should only insert or remove the SD card while the power is turned off or disconnected. Removing the card while the DataLogger IoT is logging will almost certainly corrupt your data.</p>
</div>
<h2 id="9-degrees-of-freedom-9dof">9 Degrees of Freedom (9DOF)<a class="headerlink" href="#9-degrees-of-freedom-9dof" title="Permanent link"></a></h2>
<p>As stated earlier, included on every DataLogger IoT - 9DoF is a 6DoF Inertial Measurement Unit (IMU) for built-in logging of triple-axis accelerometer and gyro. There is also a built-in triple-axis magnetometer for a complete 9 degrees of freedom. Beside each IC is a silkcreen showing the reference axis. Both are connected to the ESP32 via the SPI port. Combined, you have 9 degrees of inertial measurement! Whereas the <a href="https://www.sparkfun.com/products/14001">original 9DOF Razor</a> used the old MPU-9250, this uses the ISM330DHCX and MMC5983MA. Oh, and if that wasn’t enough, it comes with a built-in temperature sensor on each IC too. So if you want to use the DataLogger IoT as a transportation logger, it will do that straight out of the anti-static bag!  </p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_9DoF_IMU_Accelerometer_Gyro_Magnetometer.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_9DoF_IMU_Accelerometer_Gyro_Magnetometer.jpg" width="600px" height="600px" alt="Accelerometer, Gyro, and Magnetometer"></a></td>
    </tr>
  </table>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For users using the SparkFun DataLogger, there 6DoF IMU and magnetometer is not populated on the board. The associated silkscreen and jumpers for the sensors are also not included on the board.</p>
<p><div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT-Top.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT-Top.jpg" width="600px" height="600px" alt="DataLogger IoT (Top View)"></a>
     </td> <br />
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT-Bottom.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT-Bottom.jpg" width="600px" height="600px" alt="DataLogger IoT (Bottom View)"></a>
     </td>
    </tr>
  </table>
</div></p>
</div>
<h2 id="analog-pins">Analog Pins<a class="headerlink" href="#analog-pins" title="Permanent link"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The analog pins are not currently supported in the firmware for data logging.</p>
</div>
<p>There are three 12-bit analog pins available and broken out on edge of the board.</p>
<ul>
<li><strong>36 / A0</strong>: Analog A0. This is connected to pin <code>36</code>.</li>
<li><strong>39 / A3</strong>: Analog A3. This is connected to pin <code>39</code>.</li>
<li><strong>35 / A7</strong>: Analog A7. This is connected to pin <code>35</code>.</li>
</ul>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_Analog.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_Analog.jpg" width="600px" height="600px" alt="Analog Pins Highlighted on the DataLogger IoT (Top View)"></a></td>   
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Analog.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Analog.jpg" width="600px" height="600px" alt="Analog Pins Highlighted on the DataLogger IoT (Bottom View)"></a></td>
    </tr>
  </table>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Instead of pin "35 / A7" being broken out on the DataLogger IoT, pin "5" is broken out on the edge of the board.</p>
<p><div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT_Pin_5-Top.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT_Pin_5-Top.jpg" width="600px" height="600px" alt="Pin 5 Highlighted on the DataLogger IoT (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT_Pin_5-Bottom.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT_Pin_5-Bottom.jpg" width="600px" height="600px" alt="Pin 5 Highlighted on the DataLogger IoT (Bottom View)"></a></td>
    </tr>
  </table>
</div></p>
</div>
<h2 id="reset-and-boot-buttons">Reset and Boot Buttons<a class="headerlink" href="#reset-and-boot-buttons" title="Permanent link"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may notice a thin film over buttons. This is used by a pick-and-place machine when populating the component on the board before it goes through the reflow oven. This can be removed.</p>
</div>
<p>There are two buttons available on the board for reset and boot. These are also broken out on the edge of the board as PTHs. If you have your DataLogger IoT mounted in an enclosure, you can also attach an external boot or reset switch too. Any Single Pole Normally-Open Push-To-Close momentary switch will do. Solder pin headers or wires to the RST and GND breakout pins and connect your external switch to those.</p>
<ul>
<li><strong><span STYLE="text-decoration:overline">RESET</span></strong>: Pressing this button will pull the pin LOW and reset the program running on the ESP32 without unplugging the board.</li>
<li><strong>BOOT</strong>: The boot button usually allows users to force the ESP32 into bootloader mode to manually flash new firmware to the ESP32. The ESP32 will remain in this mode until there is a power cycle or the reset button is pressed. As of firmware v01.00.02, this button has an extra function: pressing down on the user button for 20 seconds will erase on-board preference storage and restart the board. This is connected to pin <code>0</code> on the ESP32.</li>
</ul>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_Reset_Boot_Buttons.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_Reset_Boot_Buttons.jpg" width="600px" height="600px" alt="Reset and Boot Buttons (and associated PTHs) Highlighted on the DataLogger IoT - 9DoF (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Reset_Boot_Buttons.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Reset_Boot_Buttons.jpg" width="600px" height="600px"  alt="Reset and Boot Buttons (and associated PTHs) Highlighted on the DataLogger IoT - 9DoF (Bottom View)"></a></td>
    </tr>
  </table>
</div>

<p>Like other ESP32 development boards, these buttons are populated so that users can place the ESP32 module in bootloader mode. For users that need to place the board in bootloader mode when powered, you will need to:</p>
<ul>
<li>Press the BOOT button.</li>
<li>While holding on the BOOT button, press the RESET button momentarily.</li>
<li>Finally, release the BOOT button.</li>
</ul>
<p>Most of the time, users will simply have the board executing the firmware that is loaded on the ESP32 module and updating through the configuration menu either through the microSD card or OTA.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Please think very carefully before uploading any Arduino sketches to your DataLogger IoT.</p>
<p><strong>You will overwrite the DataLogger IoT firmware, leaving it unable to update or restore itself.</strong></p>
<p>The DataLogger IoT comes pre-programmed with amazing firmware which can do <em>so</em> much. It is designed to be able to update itself and restore itself if necessary. But it can not do that if you overwrite the firmware with any Arduino sketch. It is just like erasing the restore partition on your computer hard drive. Do not do it - unless you <em>really</em> know what you are doing.</p>
<p>Really. We mean it.</p>
</div>
<h2 id="leds">LEDs<a class="headerlink" href="#leds" title="Permanent link"></a></h2>
<p>There are three LEDs populated on the board. These can be disabled with their respective jumpers on the back of the board.</p>
<ul>
<li><strong>STAT</strong>: The status LED is connected to pin <code>25</code>.</li>
<li><strong>RGB</strong>: The WS2812-2020 RGB addressable LED is connected to pin <code>26</code>. In addition to being disabled through the jumper on the back, you can also disable the LED through software. The following colors represent different states that the board is in.<ul>
<li><strong>White</strong>: A solid white LED indicates that the board is currently being configured through the configuration menu.</li>
<li><strong>Green</strong>: A solid green LED indicates that the board is initializing. As of firmware v01.00.02, the LED blinks green when on battery power indicating that the battery level is <em>VBATT</em> &gt; 50%.</li>
<li><strong>Blue</strong>: A blinking blue LED indicates that the board is reading sensor data and logging the values.</li>
<li><strong>Yellow</strong>: A solid yellow LED indicates that a firmware update is in progress. As of firmware v01.00.02, the LED blinks yellow when on battery power indicating that the battery level is between 50% &gt; <em>VBATT</em> &gt; 10%.</li>
<li><strong>Red</strong>: As of firmware v01.00.02, the LED blinks red when on battery power indicating that the battery level is <em>VBATT</em> &lt; 10%.</li>
</ul>
</li>
<li><strong>CHG</strong>: The on-board yellow CHG LED can be used to get an indication of the <strong>charge status</strong> of your battery. Below is a table of other status indicators depending on the state of the charge IC.</li>
</ul>
<div style="text-align: center;">
  <table>
      <tr style="vertical-align:middle;">
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><b>Charge State</b></td>
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><b>LED status</b></td>
      </tr>
      <tr style="vertical-align:middle;">
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">No Battery</td>
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">Floating (should be OFF, but may flicker)</td>
      </tr>
      <tr style="vertical-align:middle;">
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">Shutdown</td>
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">Floating (should be OFF, but may flicker)</td>
      </tr>
      <tr style="vertical-align:middle;">
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">Charging</td>
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">ON</td>
      </tr>
      <tr style="vertical-align:middle;">
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">Charge Complete</td>
          <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">OFF</td>
      </tr>
  </table>
</div>

<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_User_LED_RGB_WS2812.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Top_User_LED_RGB_WS2812.jpg" width="600px" height="600px" alt="LEDs"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_User_LED_RGB_WS2812.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_User_LED_RGB_WS2812.jpg" width="600px" height="600px" alt="PTHS connected to LEDs"></a></td>
    </tr>
   </table>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On the DataLogger IoT, we included the B3DQ3BRG addressable RGB LED instead of the WS2812 with the light emitting from the top of the IC. This side emitting LED uses the same protocol as the WS2812 and was a design choice for users placing the board in an enclosure.</p>
<p><div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-_DEV-_SparkFun_DataLogger_IoT_RGB_LED.jpg"><img src="../assets/22462-_DEV-_SparkFun_DataLogger_IoT_RGB_LED.jpg" width="600px" height="600px" alt="side emitting B3DQ3BRG Addressable RGB LED"></a></td>
    </tr>
  </table>
</div></p>
</div>
<h2 id="jumpers">Jumpers<a class="headerlink" href="#jumpers" title="Permanent link"></a></h2>
<p>There are seven jumpers on the back of the DataLogger IoT - 9DoF. For more information, check out our <a href="https://learn.sparkfun.com/tutorials/how-to-work-with-jumper-pads-and-pcb-traces/all">tutorial on working with jumper pads and PCB traces</a> should you decide to cut the traces with a hobby knife.</p>
<ul>
<li><strong>SHLD</strong>: This jumper connects the USB Type C connector's shield pin to GND. Cut this to isolate the USB Type C connector's shield pin.</li>
<li><strong>I<sup>2</sup>C</strong>: This three way jumper labeled as I<sup>2</sup>C are closed by default. By cutting the jumpers, it will disconnect the 2.2k&ohm; pull-up resistors for the I<sup>2</sup>C bus. Most of the time you can leave these alone unless your project requires you to <a href="https://learn.sparkfun.com/tutorials/i2c/all#i2c-at-the-hardware-level">disconnect the pull-up resistors</a>.</li>
<li><strong>STAT</strong>: This jumper connects the status LED to pin <code>25</code> and it is closed by default. Open the jumper to disable the LED.</li>
<li><strong>RGB</strong>: This jumper connects the WS2812-2020 RGB addressable LED to pin <code>26</code> and it is closed by default. Open the jumper to disable the LED.</li>
<li><strong>CHG</strong>:  This jumper connects the charge LED on the MCP73831 charge IC and it is closed by default. Open the jumper to disable the LED.</li>
<li><strong>IMU INT2</strong>: This jumper connects the ISM330DHCX IMU's interrupt pin to pin <code>35</code> and it is open by default. Add a solder jumper to connect.</li>
<li><strong>MAG INT</strong>: This jumper connects the MMC5983MA  magnetometer's interrupt pin to pin <code>35</code> and it is open by default. Add a solder jumper to connect.</li>
</ul>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Jumpers.jpg"><img src="../assets/20594-SparkFun_DataLogger_IoT-ESP32_Bottom_Jumpers.jpg" width="600px" height="600px" alt="Jumpers"></a></td>
    </tr>
  </table>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On the DataLogger IoT, the IMU INT2 or MAG INT jumpers are not included since it does not have the built in 6DoF IMU or magnetometer. With the extra real estate on the board, we were able to include a <strong>MEAS</strong> PTH and jumper on the board. By default, the jumper is closed. You can cut this jumper on the bottom side of the board to measure the DataLogger IoT’s current draw from external power.</p>
<p><div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT_MEAS_Jumper-Top.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT_MEAS_Jumper-Top.jpg" width="600px" height="600px" alt="MEAS Jumper on the DataLogger IoT (Top View)"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/22462-DEV_SparkFun_DataLogger_IoT_MEAS_Jumper-Bottom.jpg"><img src="../assets/22462-DEV_SparkFun_DataLogger_IoT_MEAS_Jumper-Bottom.jpg" width="600px" height="600px"  alt="MEAS Jumper on the DataLogger IoT (Bottom View))"></a></td>
    </tr>
  </table>
</div></p>
</div>
<h2 id="board-dimensions">Board Dimensions<a class="headerlink" href="#board-dimensions" title="Permanent link"></a></h2>
<p>The overall length and width with the antenna connector is about 1.66" x 2.00". There are four mounting holes in the center of the board. Due to the size of the board and the ESP32 module, the mounting holes are positioned in a way for users to add two Qwiic enabled boards with a width of 1.0" instead of one Qwiic board.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">
       <a href="../assets/board_files/DataLogger_IoT_9DoF/SparkFun_Datalogger_IoT_9DOF_Board_Dimensions.png"><img src="../assets/board_files/DataLogger_IoT_9DoF/SparkFun_Datalogger_IoT_9DOF_Board_Dimensions.png" width="600px" height="600px" alt="DataLogger IoT - 9DoF Board Dimensions"></a>
      </td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">
       <a href="../assets/board_files/DataLogger_IoT/SparkFun_DataLogger_IoT_Board_Dimensions.png"><img src="../assets/board_files/DataLogger_IoT/SparkFun_DataLogger_IoT_Board_Dimensions.png" width="600px" height="600px"  alt="DataLogger IoT Board Dimensions"></a>
       </td>
    </tr>
    <tr style="vertical-align:middle;">
      <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT - 9DoF</i></td>
      <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT</i></td>
    </tr>
  </table>
</div>

<h1 id="hardware-hookup">Hardware Hookup<a class="headerlink" href="#hardware-hookup" title="Permanent link"></a></h1>
<p>In this section, we will go over how to connect to the SparkFun DataLogger IoT. At the time of writing, we used the DataLogger IoT - 9DoF. This hardware hookup explained in this section also applies for the DataLogger IoT.</p>
<h2 id="soldering-to-the-pths">Soldering to the PTHs<a class="headerlink" href="#soldering-to-the-pths" title="Permanent link"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The UART, SPI, analog, and digital I/O pins are not currently supported in the firmware for data logging.</p>
</div>
<p>For users that are interested in soldering to the edge of the board, we recommend <a href="https://learn.sparkfun.com/tutorials/how-to-solder-through-hole-soldering">soldering</a> headers to the PTHs on the breakout for a permanent connection and using jumper wires. Of course, you could also solder wires to the breakout board as well. For a temporary connection during prototyping, you can use <a href="https://www.sparkfun.com/products/9741">IC hooks like these</a>.</p>
<div class="grid cards col-4">
<ul>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/how-to-solder-through-hole-soldering">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/c/500-282/assets/e/3/9/9/4/51d9fbe1ce395f7a2a000000.jpg" style="width:264px; height:148px; object-fit:contain;" alt="How to Solder: Through-Hole Soldering">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/how-to-solder-through-hole-soldering">
  <b>How to Solder: Through-Hole Soldering</b>
</a></p>
</li>
<li>
<p><a href="https://learn.sparkfun.com/tutorials/working-with-wire">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/0/5/0/0/f/5138de3cce395fbb1b000002.JPG" style="width:264px; height:148px; object-fit:contain;" alt="Working with Wire">
      </figure>
    </a></p>
<hr />
<p><a href="https://learn.sparkfun.com/tutorials/working-with-wire">
  <b>Working with Wire</b>
</a></p>
</li>
</ul>
</div>
<h2 id="microsd-card">MicroSD Card<a class="headerlink" href="#microsd-card" title="Permanent link"></a></h2>
<p>If all you want to do is display your sensor readings in a serial terminal or monitor (connected via USB-C) then, strictly, you don’t need to add a microSD card. But of course the whole point of the DataLogger IoT is that it can log readings from whatever sensors you have attached to microSD card. The data is logged in easy-to-read Comma Separated Value (CSV) text format by default. You can also set the format as JSON.</p>
<p>You probably already have a microSD card laying around but if you need any additional units, we have plenty <a href="https://www.sparkfun.com/products/15107">in the store</a>. The DataLogger IoT can use any size microSD card as long as it is formatted correctly. Please ensure your SD card is formatted correctly. There are different software tools available. Some are built into your operating system. We recommend using the <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager Tool</a> to easily format the memory card as FAT32 using the GUI. Flip over the DataLogger IoT and you’ll see the latching microSD card socket. Slide in your formatted SD card and it will click neatly into place. Part of the edge of the SD card will stick out when fully inserted in the microSD card socket.</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_Insert_MicroSD_Card.jpg"><img src="../assets/DataLogger_IoT_Insert_MicroSD_Card.jpg" width="1000" height="667" alt="Inserting MicroSD card"></a></td>
    <tr>
  </table>
</div>

<p>You should only insert or remove the SD card while the power is turned off or disconnected. Removing the card while the DataLogger IoT is logging will almost certainly corrupt your data. You can tell when the board has just logged by observing the addressable RGB LED. When enabled, the LED will blink blue after it has logged one data point.</p>
<p>After you’ve logged some data, you will find a new file on your SD card. There may also be additional files if you manually saved the firmware or preferences to the memory card.</p>
<ul>
<li><strong>sfe0001.txt</strong>: This is the file that contains the CSV or JSON sensor data. The format will depend on how you configured the DataLogger's output. We use .TXT as the file type so that your computer can open it in a simple text editor. The contents are all human-readable. But, if you want to, you can rename it as .CSV or .JSON instead. The file number is incremented for the next logging session.</li>
<li><strong>datalogger.json</strong>: This file only appears when you save the settings as your fallback storage. The file will include all preferences saved for any connected device, WiFi credentials, certificates, and keys.</li>
<li><strong>SparkFun_DataLoggerIoT*.bin</strong>: This file only appears when you save the firmware to the microSD card. Note that the asterisk (<strong>&ast;</strong>) is the firmware version number (i.e. <strong>SparkFunDataLoggerIoT_01.00.01.bin</strong>).</li>
</ul>
<p>To remove the microSD card, make sure power is disconnected from the DataLogger IoT. Then press the microSD card into the microSD socket. The memory card will be ejected and you will hear a click again. Once the card is ejected, you can insert it into a microSD card adapter or USB reader to be read on a computer.</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="https://cdn.sparkfun.com//assets/parts/7/6/3/6/11609-Action.jpg"><img src="https://cdn.sparkfun.com//assets/parts/7/6/3/6/11609-Action.jpg" width="500" height="500" alt="Memory Card Adapter and USB Reader for microSD cards"></a></td>
    <tr>
  </table>
</div>

<h2 id="qwiic-sensors">Qwiic Sensors<a class="headerlink" href="#qwiic-sensors" title="Permanent link"></a></h2>
<p>If you are going to attach extra sensors or any Qwiic-enabled device to the DataLogger IoT, then those need to be connected first before attaching a USB cable. It is a good idea to only attach or disconnect Qwiic sensors when the power is turned off or disconnected. The Qwiic bus is pretty tolerant to “hot swapping”, but: disconnecting a sensor while it is in use will confuse the DataLogger IoT software (most likely each value associated with the device will remain constant); and a new sensor won’t be detected until the firmware restarts.</p>
<p>Plug one end of your Qwiic cable into the DataLogger IoT and plug the other end into your sensor. If you want to add extra sensors, you can simply connect them to each other in a daisy chain. You will need a Qwiic cable for each sensor. Our <a href="https://www.sparkfun.com/products/15081">Qwiic Cable Kit</a> covers all the options.</p>
<div style="text-align:center">
<table>
  <tr style="vertical-align:middle;">
   <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_Qwiic_u-blox_GNSS_SAM-M10Q_Module.jpg"><img src="../assets/DataLogger_IoT_Qwiic_u-blox_GNSS_SAM-M10Q_Module.jpg" width="1000" height="667"  alt="DataLogger IoT and a Qwiic Device"></a></td>
   <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_Qwiic_Daisy_Chained.jpg"><img src="../assets/DataLogger_IoT_Qwiic_Daisy_Chained.jpg" width="1000" height="667" alt="DataLogger and several Qwiic-Enabled Devices Daisy Chained"></a></td>
  </tr>
  <tr style="vertical-align:middle;">
    <td style="text-align:center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT and a Qwiic-Enabled Device</i></td>
    <td style="text-align:center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT and several Qwiic-Enabled Devices Daisy Chained</i></td>
  </tr>
</table>
</div>

<p>Our Qwiic sensors usually all have power indicator LEDs and I<sup>2</sup>C pull-up resistors. Depending on your application, you may want or need to disable these by cutting the jumper links on the sensor circuit boards. We have a <a href="https://learn.sparkfun.com/tutorials/how-to-work-with-jumper-pads-and-pcb-traces">tutorial</a> that will show you how to do that safely.</p>
<p>Sometimes you might want to connect more than one of the same type of sensor to the DataLogger IoT. On the I<sup>2</sup>C bus, each device needs to have a unique address. On many of our boards, there are jumpers links which you can use to change the address and some have addresses that can be configured in software. But there are some where you cannot change the address - the <a href="https://www.sparkfun.com/products/15242">NAU7802 Qwiic Scale</a> being one example.</p>
<p>Typically one would use a multiplexor. However, we currently do not have the DataLogger IoT configured to work with any multiplexors (i.e. Qwiic Mux Breakout).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently the Qwiic Mux is not compatible with the DataLogger IoT.</p>
</div>
<h2 id="lipo-battery">LiPo Battery<a class="headerlink" href="#lipo-battery" title="Permanent link"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Battery Polarity</p>
<p>Please make sure that you use one of our recommended Lithium Ion batteries. Some batteries use the same JST connector as ours but have the opposite polarity. Connecting one of these to your DataLogger IoT will destroy it. If you are going to use your own battery, it is up to you to ensure it has the correct polarity.</p>
</div>
<p>Now is a good time to attach a LiPo battery, if you want the DataLogger IoT to keep logging when you disconnect USB-C.</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;">  <a href="../assets/DataLogger_IoT_LiPo_Battery.jpg"><img src="../assets/DataLogger_IoT_LiPo_Battery.jpg" width="1000" height="667" alt="LiPo Battery Inserted"></a></td>
    <tr>
  </table>
</div>

<p>You can connect one of our standard single cell LiPo batteries to the DataLogger IoT and power it for hours, days or weeks depending on what sensors you have attached and how often you log data. The DataLogger IoT has a built-in charger too which will charge your battery at <strong>500mA</strong> when USB-C is connected. Please make sure your battery capacity is at least 500mAh (0.5Ah); bad things will happen if you try to charge our smallest batteries at 500mA. The yellow CHG charging LED will light up while the battery is charging and will go out once charging is complete.</p>
<div class="admonition danger">
<p class="admonition-title">Warning</p>
<p>The MCP73831 charge IC on the board is used on a few SparkFun products. For more information about the CHG status LED, we recommend taking look at the Hardware Overview. We also recommend taking a look at this tutorial for <a href="https://learn.sparkfun.com/tutorials/single-cell-lipo-battery-care">Single Cell LiPo Battery Care</a>.</p>
</div>
<h2 id="usb-cable">USB Cable<a class="headerlink" href="#usb-cable" title="Permanent link"></a></h2>
<p>The USB-C connector provides power to the DataLogger IoT and acts as a serial interface for configuration and data display.</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_USB.jpg"><img src="../assets/DataLogger_IoT_USB.jpg" width="1000" height="667" alt="Insert USB"></a></td>
    <tr>
  </table>
</div>

<p>If you are going to use a microSD card to store your data, and why wouldn’t you, then insert that first before attaching your USB cable. You should only insert or remove the SD card while the power is turned off or disconnected. Removing the card while the DataLogger IoT is logging will almost certainly corrupt your data.</p>
<p>Likewise, it is a good idea to only attach or disconnect Qwiic sensors when the power is turned off or disconnected. The Qwiic bus is pretty tolerant to “hot swapping”, but: disconnecting a sensor while it is in use will confuse the DataLogger IoT software; and a new sensor won’t be detected until the firmware restarts.</p>
<p>Depending on what ports your computer has available, you will need one of the following cables:</p>
<ul>
<li><a href="https://www.sparkfun.com/products/15092">USB 2.0 A to C Cable</a></li>
<li><a href="https://www.sparkfun.com/products/14743">USB 3.1 A to C Cable</a></li>
<li><a href="https://www.sparkfun.com/products/16395">USB 2.0 C to C Cable</a></li>
</ul>
<p>Use the cable to connect your DataLogger IoT to your computer and you will see the LEDs light as the DataLogger IoT starts up. The addressable RGB RGB LED will light up green for a second or two while the DataLogger IoT configures itself. It will flash blue while data is being logged to the microSD card. If you have jumped the gun and have a LiPo battery already connected, the yellow CHG charging LED may light up too.</p>
<p>If the addressable RGB LED does not light up, your DataLogger IoT is probably in deep sleep following a previous logging session. Pressing the RST reset button will wake it.</p>
<p>You’ll find full instructions on how to configure the DataLogger IoT later in this tutorial.</p>
<h2 id="standoffs">Standoffs<a class="headerlink" href="#standoffs" title="Permanent link"></a></h2>
<p>For users interested in stacking the Qwiic-enabled device on the DataLogger IoT or mounting in an enclosure, you will need some <a href="https://www.sparkfun.com/categories/257">standoffs</a> to mount the boards. When mounting, note that all four mounting holes are not positioned exactly for a 1.0"x1.0" sized Qwiic board. Only two of the four mounting holes are compatible for a 1.0"x1.0" sized Qwiic board. For example the image below shows the boards stacked on each side of the DataLogger IoT. On top, the Qwiic GPS (SAM-M10Q) breakout was also able to stack by rotating the board slightly and aligning the mounting holes on the 1.6"x1.6" sized board to the other mounting holes</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_Stacked_Standoffs.jpg"><img src="../assets/DataLogger_IoT_Stacked_Standoffs.jpg" width="1000" height="667" alt="Qwiic-enabled boards connected and stacked on the DataLogger Using Standoffs"></a></td>
    <tr>
  </table>
</div>

<h1 id="preparing-your-microsd-card">Preparing Your MicroSD card<a class="headerlink" href="#preparing-your-microsd-card" title="Permanent link"></a></h1>
<p>Not all microSD cards are created equal. The <a href="https://learn.sparkfun.com/tutorials/sd-cards-and-writing-images">capacity, read/write speed, and format</a> vary depending on the manufacturer. In order to log data to the microSD card, you will need to ensure that your memory card is formatted as <strong>FAT32</strong>. You can also use FAT16. If the memory card is formatted as a different memory card, the DataLogger IoT will not be able to recognize the microSD card.</p>
<h2 id="checking-microsd-card-format">Checking MicroSD Card Format<a class="headerlink" href="#checking-microsd-card-format" title="Permanent link"></a></h2>
<p>While you can simply insert the microSD card into your DataLogger IoT and start logging, there may be a chance that the it will not recognize the memory card due to the format.</p>
<h3 id="checking-microsd-card-format-windows">Checking MicroSD Card Format - Windows<a class="headerlink" href="#checking-microsd-card-format-windows" title="Permanent link"></a></h3>
<p>To check to see if it is the correct format on a Windows you could head to the drive, right click, and select <strong>Properties</strong>.</p>
<div style="text-align: center">
  <a href="../assets/microSD_Card_Properties.JPG">
  <img src="../assets/microSD_Card_Properties.JPG" width="600" height="600" alt="microSD Card Properties"></a>
</div>

<p>Once the properties are open, you should be able to tell what file system that the memory card uses. In this case, it was exFAT which is not compatible with the DataLogger IoT. You will need to reformat the memory card since it is not formatted as FAT32.</p>
<div style="text-align: center">
  <a href="../assets/microSD_Card_Check_File_System_exFAT.JPG">
  <img src="../assets/microSD_Card_Check_File_System_exFAT.JPG" width="439" height="439" alt="Check File System Windows"></a>
</div>

<h3 id="checking-microsd-card-format-macos">Checking MicroSD Card Format - macOS<a class="headerlink" href="#checking-microsd-card-format-macos" title="Permanent link"></a></h3>
<p>To check to see if it is the correct format on a macOS, you could head to the drive on your desktop. Then right click, and select <strong>Get Info</strong>.</p>
<div style="text-align: center">
  <a href="../assets/mac_get_info.png">
  <img src="../assets/mac_get_info.png" width="600" height="600" alt="Get Info on MicroSD Card"></a>
</div>

<p>A window will pop up indicating the microSD card properties. Under <strong>General:</strong> &gt; <strong>Format:</strong>, you should be able to tell what file system that the memory card uses. In this case, it was exFAT which is not compatible with the DataLogger IoT. You will need to reformat the memory card since it is not formatted as FAT32.</p>
<div style="text-align: center">
  <a href="../assets/mac_microSD_exFat.png">
  <img src="../assets/mac_microSD_exFat.png" width="300" height="300" alt="exFAT"></a>
</div>

<h2 id="download-raspberry-pi-imager">Download Raspberry Pi Imager<a class="headerlink" href="#download-raspberry-pi-imager" title="Permanent link"></a></h2>
<p>There are a few methods and programs available to reformat your microSD card as a FAT32. We found it easier to use the <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager Tool</a>. Of course, you will only be using the tool to erase the contents of the microSD card and formatting it as a FAT32 system. You will not actually flash any image to the memory card. Click on the button below to download the tool from the Raspberry Pi Foundation. It is supported on <em>Windows</em>, <em>macOS</em>, and <em>Ubuntu for x86</em>.</p>
<div style="text-align: center"><a href="https://www.raspberrypi.com/software/" target="rpi_imager_tool" class="md-button">Raspberry Pi Imager Tool</a></div>

<h2 id="formatting-as-fat32-using-the-raspberry-pi-imager">Formatting as FAT32 using the Raspberry Pi Imager<a class="headerlink" href="#formatting-as-fat32-using-the-raspberry-pi-imager" title="Permanent link"></a></h2>
<p>After downloading and installing the software, open the Raspberry Pi Imager.</p>
<div style="text-align: center">
  <a href="../assets/Raspberry_Pi_Imager.JPG">
  <img src="../assets/Raspberry_Pi_Imager.JPG" width="600" height="600" alt="Raspberry Pi Imager"></a>
</div>

<p>Under "<strong>Operating System</strong>", select "<strong>Erase</strong>" to "format card as FAT32."</p>
<div style="text-align: center">
  <a href="../assets/Raspberry_Pi_Imager_Erase_Format.JPG">
  <img src="../assets/Raspberry_Pi_Imager_Erase_Format.JPG" width="600" height="600" alt="Raspberry Pi Imager - Erase : Format as FAT32"></a>
</div>

<p>Under "<strong>Storage</strong>", select the drive that the microSD card appeared as on your computer.</p>
<div style="text-align: center">
  <a href="../assets/Raspberry_Pi_Imager_Select_Drive.JPG">
  <img src="../assets/Raspberry_Pi_Imager_Select_Drive.JPG" width="600" height="600" alt="Raspberry Pi Imager - Select Storage Drive"></a>
</div>

<p>When ready, select "<strong>Write</strong>". After a few minutes, the microSD card should be formatted with FAT32.</p>
<div style="text-align: center">
  <a href="../assets/Raspberry_Pi_Imager_Write.JPG">
  <img src="../assets/Raspberry_Pi_Imager_Write.JPG" width="600" height="600" alt="Raspberry Pi Imager - Write"></a>
</div>

<p>Once the memory card has finished formatting, eject the microSD from your computer. To check to see if the microSD card is formatted as FAT32, you can check its properties as explained earlier with your operating system. Below shows a screenshot from a Windows and macOS showing that the microSD card reformatted as a FAT32 file system.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/microSD_Card_Check_File_System_FAT32.JPG">
     <img src="../assets/microSD_Card_Check_File_System_FAT32.JPG" width="439" height="439" alt="Check File System Windows"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/mac_microSD_FAT32.png">
     <img src="../assets/mac_microSD_FAT32.png" width="250" height="250" alt="Check File System macOS"></a></td>
    </tr>
  </table>
</div>

<h1 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link"></a></h1>
<!--
Note for future screen shots with Tera Term.
The size is about width="80px" height="35px".

-->

<p>Configuring the settings is as easy as opening a serial menu. You can use any serial monitor or terminal emulator to quickly and easily change and store the DataLogger IoT settings via its USB-C interface.</p>
<p>There are plenty of free alternatives out there to configure the DataLogger IoT. For the scope of this tutorial we will be using Tera Term.</p>
<ul>
<li><a href="https://learn.sparkfun.com/tutorials/terminal-basics/all#tera-term-windows">Tera Term (Windows)</a></li>
<li><a href="https://learn.sparkfun.com/tutorials/terminal-basics/all#real-term-windows">RealTerm (Windows)</a></li>
<li>Minicom (Linux, Unix, MacOS)</li>
<li><a href="https://learn.sparkfun.com/tutorials/terminal-basics/all#command-line-windows-mac-linux">Screen (Linux, Unix, MacOS)</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will need a serial terminal client that supports edit characters. Most if not all modern serial terminal programs will have the ability to support interactive edits. Unfortunately, we have not had any success with CoolTerm. We have tested the DataLogger IoT with Tera Term, Minicom, and Screen.</p>
</div>
<p>If this is the your first time using a terminal window, We recommend checking out the tutorial below for more information on serial terminal basics.</p>
<!-- <div class="grid cards" style="width:500px;" markdown>

-   <a href="https://learn.sparkfun.com/tutorials/terminal-basics">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/learn_tutorials/1/1/2/terminalThumb.jpg" style="width:500px; height:282px; object-fit:contain;" alt="Serial Terminal Basics">
      </figure>
    </a>

    ---

    <a href="https://learn.sparkfun.com/tutorials/terminal-basics">
      <b>Serial Terminal Basics</b>
    </a>
</div> -->

<div style="text-align: center">
  <table>
    <tr>
      <td style="text-align: center; vertical-align: middle;">
        <a href="https://learn.sparkfun.com/tutorials/terminal-basics">
          <div style="text-align: center"><img src="https://cdn.sparkfun.com/assets/learn_tutorials/1/1/2/terminalThumb.jpg" alt="Serial Terminal Basics" style="width:500px; height:282px; object-fit:contain;"></div>
          <hr />
          <h3 style="text-align: left">
            <b>Serial Terminal Basics</b>
          </h3>
        </a>
      </td>
    </tr>
  </table>
  </div>

<p>The above guides will show you how to open the correct port for the DataLogger IoT and how to set the baud rate to <strong>115200</strong> baud. You can change the DataLogger IoT's baud rate through the configuration menus too should you need to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For users with an Arduino IDE, you could also use the Arduino Serial Monitor by setting the line ending to <strong>Newline</strong>. Users will also need to <kbd>CTRL</kbd> + <kbd>Enter</kbd> when sending any character to the DataLogger IoT. However, we recommend using one of the terminals mentioned earlier.</p>
</div>
<h2 id="initialization-and-serial-output">Initialization and Serial Output<a class="headerlink" href="#initialization-and-serial-output" title="Permanent link"></a></h2>
<p>Connect the DataLogger IoT to a USB cable and connect to your computer. The addressable RGB LED will light up green as it initializes. As of firmware <strong>v1.0.2.00 - build 00013e</strong>, a <strong>Startup Menu</strong> was added to the system. This allows you to change the behavior of the DataLogger at start-up. This change only affects the current system session.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_DataLogger_IoT-ESP32_Start-Up_Menu.jpg"><img src="../assets/SparkFun_DataLogger_IoT-ESP32_Start-Up_Menu.jpg" width="600" height="600" alt="Output when DataLogger IoT - 9DoF Start-up menu"></a>
</div>

<ul>
<li>'n' &mdash; Normal startup</li>
<li>'a' &mdash; Disable I2C device auto load on startup</li>
<li>'l' &mdash; List the I2C devices supported. This device table is discarded after auto-load</li>
<li>'w' &mdash; Disable WiFi</li>
<li>'s' &mdash; Disable preference restore during startup</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The amount of time the start-up menu is displayed is adjustable. This settings can be configured in the <strong>Settings/Application Settings</strong> page, under the Advanced section.</p>
</div>
<p>You should see the following output when the board initializes:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Initializing_v1p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Initializing_v1p02p00.JPG" width="600" height="600" alt="Output when DataLogger IoT - 9DoF is initializing"></a>
</div>

<p>The messages in the serial terminal provide us with the DataLogger's configuration and will vary depending on the firmware version that is loaded on the board.</p>
<ul>
<li>The DataLogger IoT software version (in this case is <strong>v01.02.00 - build 00013e</strong>).</li>
<li>As the DataLogger IoT is initializing, the system settings are being restored from the last saved preference.</li>
<li>There no WiFi credentials and the board has failed to connect. This output will change once you provide the WiFi credentials and are able to connect to the network.</li>
<li>There are 3x devices currently detected and they are connected through I<sup>2</sup>C through the Qwiic port and SPI. These are the on-board sensors for the DataLogger IoT. There may be more devices that are detected depending on the firmware and what is connected to the ports. Since these were recognized, they were loaded onto the DataLogger IoT.</li>
<li>The current date and time is shown (by default), the date and time is set to <strong>1-1-1970</strong> and <strong>00:00:00</strong>). This value will change depending on the clock source through NTP, RTC, or a u-blox GNSS module.</li>
<li>The time the board has been running will be shown in the uptime.</li>
<li>The primary external time source that the board syncs is currently through the <strong>NTP client</strong>. This can be configured depending on your clock source.</li>
<li>The board name (in this case, it was <strong>SparkFun DataLogger IoT - 9DoF</strong>)</li>
<li>The board ID (in this case, it was <strong>SFD16C8F0D1AD6B8</strong>)</li>
<li>The microSD card has been found, the type of memory card it is, the size of the memory card, how much memory is used, and how much is available.</li>
<li>If there is a WiFi network name saved, the SSID will be shown along with information indicating whether the board was able to connect to the WiFi network. By default there is no SSID saved in memory.</li>
<li>If there is a battery connected, the LiPo Battery Fuel Guage will indicate if there is one attached to the board.</li>
<li>Parameters for low power mode will be provided indicating if deep sleep is enabled, sleep interval, and wake interval.</li>
<li>Parameters for logging are also provided for the logging interval, the format for the serial output, format for the microSD card, current saved filename, and file rotation period.</li>
<li>The board will also show the available IoT services that are enabled for the DataLogger IoT.</li>
<li>Current settings to download log files via a web interface (included in firmware v01.02.00)</li>
<li>Supported devices through Qwiic or SPI will be listed if they are connected.</li>
<li>The output will finish by telling you what devices are connected to the DataLogger IoT again.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of firmware v01.02.00, there is also a compact mode! By adjusting the setting, the ESP32 will output less at startup. This settings can be configured in the <strong>Settings/Application Settings</strong> page, under the Advanced section.</p>
<p><div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Initializing_Compactv1p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Initializing_Compactv1p02p00.JPG" width="600" height="600" alt="Output when DataLogger IoT - 9DoF is initializing, compact"></a>
</div></p>
</div>
<p>Once the DataLogger IoT has initialized, the DataLogger IoT will begin outputting comma separated values (CSV). This is the default output that is set for the DataLogger IoT - 9DoF. Of course, you will not have as many readings on the DataLogger IoT since the 6DoF IMU and magnetometer are not populated on that version of the board.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Output_v1p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Output_v1p02p00.JPG" width="600" height="600" alt="CSV Output on the DataLogger IoT - 9DoF v01.02.00"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your DataLogger IoT preferences, your device may output as a JSON format like the image shown below.
 <div style="text-align: center">
   <a href="../assets/SparkFun_Datalogger_IoT_Output_JSON_v01p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Output_JSON_v01p02p00.JPG" width="600" height="600" alt="JSON Output on the DataLogger -IoT - 9DoF"></a>
 </div></p>
</div>
<p>The data scrolling up the screen show what each device's output is along with their associated unit if it is available. Your mileage will vary depending on the board version that you have and what device is connected:</p>
<ul>
<li><code>MAX17048.Voltage (V)</code></li>
<li><code>MAX17048.State of Charge (%)</code></li>
<li><code>MAX17048.Charge Rate (%/hr)</code></li>
<li><code>ISM330.Accel X (milli-g)</code></li>
<li><code>ISM330.Accel Y (milli-g)</code></li>
<li><code>ISM330.Accel Z (milli-g)</code></li>
<li><code>ISM330.Gyro X (milli-dps)</code></li>
<li><code>ISM330.Gyro Y (milli-dps)</code></li>
<li><code>ISM330.Gyro Z (milli-dps)</code></li>
<li><code>ISM330.Temperature (C)</code></li>
<li><code>MMC5983.X Field (Gauss)</code></li>
<li><code>MMC5983.Y Field (Gauss)</code></li>
<li><code>MMC5983.Z Field (Gauss)</code></li>
<li><code>MMC5983.Temperature (C)</code></li>
</ul>
<p>The output will vary depending on what is connected so you may get additional readings in the output and it may not be in the following order listed above. The logging rate defaults to about 0.067Hz (or 15000ms), so as the data scrolls past, you will see the last value settle at about 0.067Hz.</p>
<h2 id="main-menu">Main Menu<a class="headerlink" href="#main-menu" title="Permanent link"></a></h2>
<p>Right! Let's open the main menu by pressing on any key in the serial terminal program.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Main_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Main_Menu.JPG" width="600" height="600" alt="DataLogger IoT Main Menu"></a>
</div>

<p>You will be prompted with a few options. Once in the configuration menu, all three colors of the addressable RGB LED will turn on to produce the color white indicating that you are navigating through the menu. Before we dive into the settings, lets check out a few commands and saving settings.</p>
<h3 id="quick-command-reference">Quick (!) Command Reference<a class="headerlink" href="#quick-command-reference" title="Permanent link"></a></h3>
<p>As of firmware v01.02.00, commands can be executed directly from the serial console thus bypassing the serial menu system! The following commands are supported.</p>
<div style="text-align: center;">
    <table>
        <tr>
            <th style="text-align: center; border: solid 1px #cccccc; width:300px">Quick Command
            </th>
            <th style="text-align: center; border: solid 1px #cccccc; width:500px"> Command Description
            </th>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!about</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Display the system about page
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!clear-settings</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Clear the on board system preferences with a yes/no prompt
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!clear-settings-forced</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Clear the on board system preferences with no prompt
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!devices</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              List the currently connected devices
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!factory-reset</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Perform a factory reset - presents a Y/N prompt
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!heap</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Display the current system heap memory usage
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!help</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              List the available quick commands
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!json-settings</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              For setting the device settings via a serial connection. When this command is sent, the system expects to receive a JSON settings file
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!log-now</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Perform a log observation event
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!log-rate</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              If log rate measurement is enabled, the current log rate is printed
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!reset-device</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Reset the device - erasing any saved settings and restarting the device
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!reset-device-forced</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Reset the device, but without a Y/N prompt
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!restart</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Restart the device
            </td>
        </tr><tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!restart-forced</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Restart the device without a Y/N prompt
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!save-settings</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Save the current settings to on-board flash
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!sdcard</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Output the current SD card usage statistics
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!systime</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Output current system time
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!uptime</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              The uptime of the device
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!device-id</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              The ID for the device
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!version</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              The version of the firmware
            </td>
        </tr>
        <tr>        
            <td style="text-align: center; border: solid 1px #cccccc;">
              <kbd>!wifi</kbd>
            </td>
            </td>
            <td style="text-align: center; border: solid 1px #cccccc;">
              Output current system WiFi state
            </td>
        </tr>
    </table>
</div>

<p>Typing a quick command and hitting the <kbd>Enter</kbd> button will result in the DataLogger IoT executing the command without the need to go through the menu system. Below is an example showing the <code>!about</code> quick command being sent and then executing the command as the DataLogger IoT is outputting CSV values to the serial terminal.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Output_Quick_Command.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Output_Quick_Command.JPG" width="600" height="600" alt="Quick Command Entered"></a>
</div>

<h3 id="exiting-and-saving">Exiting and Saving<a class="headerlink" href="#exiting-and-saving" title="Permanent link"></a></h3>
<p>When exiting the menus, you will be prompted with either an <kbd>x</kbd> or <kbd>b</kbd>. You can use either character when exiting the menus as well as <kbd>X</kbd> or <kbd>B</kbd>. Note that you will need to use either of these keys when making a change in order for the DataLogger IoT to save any changes in memory. Make sure that you receive the following message indicating that the settings were saved: <code>[I] Saving System Settings</code>. The DataLogger IoT will the continue reading the devices and outputting the readings through the serial terminal.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings"></a>
</div>

<h3 id="cancelling-changes">Cancelling Changes<a class="headerlink" href="#cancelling-changes" title="Permanent link"></a></h3>
<p>You can also use any of your <kbd>Esc</kbd> or arrow keys (i.e. <kbd>&#8593;</kbd>, <kbd>&#8595;</kbd>, <kbd>&#8592;</kbd>, <kbd>&#8594;</kbd>) to exit. However, using the escape or arrow keys will not save any changes in memory once the reset button is hit or whenever power is cycled.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Escape_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Escape_Menu.JPG" width="600" height="600" alt="Output when Cancelling Changes"></a>
</div>

<h3 id="timeout-from-inactivity">Timeout from Inactivity<a class="headerlink" href="#timeout-from-inactivity" title="Permanent link"></a></h3>
<p>The menus will slowly exit out after 2 minutes of inactivity, so if you do not press a key the DataLogger IoT will return to its previous menu. It will continue to move back until it reaches the main menu. After another additional 2 minutes of inactivity, the board will exit begin logging data again. When the menu exits from inactivity, any changes will not be saved in memory as well.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_No_User_Input_Exit_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_No_User_Input_Exit_Menu.JPG" width="600" height="600" alt="Output when Timing Out"></a>
</div>

<h2 id="settings">Settings<a class="headerlink" href="#settings" title="Permanent link"></a></h2>
<p>Let's start by configuring the DataLogger's system settings. Send a <kbd>1</kbd> through the serial terminal. You will have the option to adjust various settings ranging from the your preferences, time source to synchronize the date and time, WiFi network, how the device logs data, which IoT service to use, and firmware updates.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Settings_Menu_v01p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Settings_Menu_v01p02p00.JPG" width="600" height="600" alt="Settings Menu Options"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may notice after entering a <kbd>1</kbd> that there is a slight delay before the DataLogger IoT responds. The delay was added to allow some time for the DataLogger IoT to receive an additional digit for any option greater than 9. If you want to head to option 1 immediately without the slight delay, you can hit the <kbd>Enter</kbd> key to enter the Application Settings.</p>
</div>
<p>We'll go over each of these options below.</p>
<h3 id="general-application-settings">General: Application Settings<a class="headerlink" href="#general-application-settings" title="Permanent link"></a></h3>
<p>In the Settings Menu, send a <kbd>1</kbd> to adjust the Application Settings. As of firmware v01.00.02, users can now adjust the baud rate of the serial console output and the menu system's timeout value.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Applications_Settings_Menu_2-v01p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Applications_Settings_Menu_2-v01p02p00.JPG" width="600" height="600" alt="Application Settings Options"></a>
</div>

<p>In the Application Settings Menu, users will be able to configure the addressable RGB's LED through software, menu timeout, microSD card's output format, serial console's output format, terminal's baud rate, deep sleep parameters, and view the current settings of the DataLogger IoT similar to when the board was initialized. Depending on your preference and how you are logging data, you can adjust the data as CSV or JSON.</p>
<ul>
<li><kbd>1</kbd> <strong>LED Enabled</strong> &mdash; Enable/Disable the on-board RGB LED activity<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>0</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Menu Timeout</strong> &mdash; Inactivity timeout period for the menu system<ul>
<li>Accepts the following values:<ul>
<li><kbd>1</kbd> 30 Seconds = 30</li>
<li><kbd>2</kbd> 60 Seconds = 60 <em>(default)</em></li>
<li><kbd>3</kbd> 2 Minutes = 120</li>
<li><kbd>4</kbd> 5 Minutes = 300</li>
<li><kbd>5</kbd> 10 Minutes = 600</li>
<li><kbd>b</kbd> Back</li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Color Output</strong> &mdash; Use color output with the Serial console. <em>(added as of firmware v01.02.00)</em><ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>0</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>Board Name</strong> &mdash; A specific name for this DataLogger<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>SD Card Format</strong> &mdash; Enable and set the output format<ul>
<li>Accepts the following values:<ul>
<li><kbd>1</kbd> to disable = 0</li>
<li><kbd>2</kbd> CSV format <em>(default)</em> = 1</li>
<li><kbd>3</kbd> JSON format = 2</li>
</ul>
</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Serial Console Format</strong> &mdash; Enable and set the output format<ul>
<li>Accepts the following values:<ul>
<li><kbd>1</kbd> to disable = 0</li>
<li><kbd>2</kbd> CSV format <em>(default)</em> = 1</li>
<li><kbd>3</kbd> JSON format = 2</li>
</ul>
</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>JSON Buffer Size</strong> &mdash; Output buffer size in bytes<ul>
<li>Accepts an integer between <kbd>100</kbd> to <kbd>5000</kbd> :<ul>
<li>1600 bytes <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Terminal Baud Rate</strong> &mdash; Update terminal baud rate. Changes take effect on restart.<ul>
<li>Accepts an unsigned integer between <strong>1200</strong> to <strong>50000</strong>:<ul>
<li><strong>115200</strong> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>9</kbd> <strong>Enable System Sleep</strong> &mdash; If enabled, sleep the system<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>10</kbd> <strong>Sleep Interval (sec)</strong> &mdash; The interval the system will sleep for<ul>
<li>Accepts an integer between <kbd>5</kbd> to <kbd>86400</kbd> :<ul>
<li><kbd>30</kbd> seconds <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>11</kbd> <strong>Wake Interval (sec)</strong> &mdash; The interval the system will operate between sleep period<ul>
<li>Accepts an unsigned integer between <kbd>60</kbd> to <kbd>86400</kbd> :<ul>
<li><kbd>120</kbd> seconds <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>12</kbd> <strong>Startup Messages</strong> Level of message output at startup<ul>
<li>Accepts a value between <kbd>1</kbd> to <kbd>3</kbd> :</li>
<li><kbd>1</kbd> Normal = 0 <em>(default)</em></li>
<li><kbd>2</kbd> Compact = 1</li>
<li><kbd>3</kbd> Disabled = 2</li>
</ul>
</li>
<li><kbd>13</kbd> <strong>Startup Delay</strong> Startup Menu Delay in Seconds<ul>
<li>Accepts a value between <kbd>0</kbd> to <kbd>60</kbd> :<ul>
<li><kbd>2</kbd> seconds <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>14</kbd> <strong>Device Names</strong> Name always includes the device address<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>0</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>15</kbd> <strong>About...</strong> &mdash; Details about the system</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once the baud rate is changed and saved, make sure to adjust the baud rate of your serial terminal when the board is reset. If you forgot the baud rate, you can hold the BOOT button down for 20 seconds to erase the on-board preferences (besides the baud rate, this also includes any other settings that were saved) and restart the board.</p>
</div>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Save Settings Menu"></a>
</div>

<h3 id="general-save-settings">General: Save Settings<a class="headerlink" href="#general-save-settings" title="Permanent link"></a></h3>
<p>In the Settings menu, send a <kbd>2</kbd> to adjust the Save Settings. As of firmware v01.01.01, the JSON output buffer size is now user configurable. This will be under option "<strong>JSON File Buffer Size</strong>" when in the Save Settings Menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Save_Settings_Menu.JPG"" width="600" height="600"></a>
</div>

<p>In the Save Settings Menu, users will be able to save, restore, or clear any preferences in memory (i.e. persistent storage) or a saved file to a fallback device (i.e. microSD card). Note that any passwords and secret keys are not saved in the save settings file. You will need to manually enter those values in the file saved on the microSD card.</p>
<ul>
<li><kbd>1</kbd> <strong>Fallback Restore</strong> &mdash; If unable to restore settings, use the fallback source (JSON File)<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>0</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Fallback Save</strong> &mdash; Save settings also saves on the fallback storage (JSON File)<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>JSON File Buffer Size</strong> &mdash; The size in bytes used for the internal I/O buffer<ul>
<li>Accepts an unsigned integer:</li>
<li><kbd>6400</kbd> <em>(default, as of firmware v01.01.01)</em></li>
</ul>
</li>
<li><kbd>4</kbd> <strong>Save Settings</strong> &mdash; Save current settings to persistent storage<ul>
<li>Accepts a yes/no:<ul>
<li><kbd>Y</kbd> or <kbd>y</kbd> for yes</li>
<li><kbd>N</kbd> or <kbd>n</kbd> for no</li>
</ul>
</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Restore Settings</strong> &mdash; Restore saved settings<ul>
<li>Accepts a yes/no:<ul>
<li><kbd>Y</kbd> or <kbd>y</kbd> for yes</li>
<li><kbd>N</kbd> or <kbd>n</kbd> for no</li>
</ul>
</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Clear Settings</strong> &mdash; Erase the saved settings on the device<ul>
<li>Accepts a yes/no:<ul>
<li><kbd>Y</kbd> or <kbd>y</kbd> for yes</li>
<li><kbd>N</kbd> or <kbd>n</kbd> for no</li>
</ul>
</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Save to Fallback</strong> &mdash; Save System Settings to the fallback storage (JSON File)<ul>
<li>Accepts a yes/no:<ul>
<li><kbd>Y</kbd> or <kbd>y</kbd> for yes</li>
<li><kbd>N</kbd> or <kbd>n</kbd> for no</li>
</ul>
</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Restore from Fallback</strong> &mdash; Restore system settings from the fallback storage (JSON File)<ul>
<li>Accepts a yes/no:<ul>
<li><kbd>Y</kbd> or <kbd>y</kbd> for yes</li>
<li><kbd>N</kbd> or <kbd>n</kbd> for no</li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<p>If you have the Fallback Save enabled or selected the option <strong>Save to Fallback</strong>, you will notice an additional file called <strong>datalogger.json</strong> saved in the microSD card. This is the fallback file that is saved. Using a text editor, you can edit this file to adjust the settings or provide WiFi credentials, certificates, and keys. You can use option <kbd>7</kbd> to restore the settings on your DataLogger IoT.</p>
<div style="text-align: center">
  <a href="../assets/Datalogger_IoT_Preferences_saved_fallback_file.JPG"><img src="../assets/Datalogger_IoT_Preferences_saved_fallback_file.JPG" width="600" height="600" alt="Fall Back Saved Settings Saved in the MicroSD Card as a JSON File"></a>
</div>

<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<h3 id="general-time-sources">General: Time Sources<a class="headerlink" href="#general-time-sources" title="Permanent link"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure to connect the ESP32-WROOM to a 2.4GHz WiFi network and ensure that is not a guest network that requires you to sign in. Unfortunately, 5GHz WiFi is not supported on the ESP32-WROOM module.</p>
</div>
<p>In the Settings Menu, send <kbd>3</kbd> to manage the time reference sources. As of firmware v01.01.01, time zone support is at the clock level, not tied to NTP. The option to adjust the Time Zone is moved to the Time Sources menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Time_Sources_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Time_Sources_Menu.JPG" width="600" height="600" alt="Time Source Menu Options"></a>
</div>

<p>In this menu, you will have options to update the primary reference clock, update interval, add a secondary reference clock, and update it's interval. By default, the primary reference clock is set to use the Network Time Protocol (NTP). To synchronization the time, you will need to connect to a 2.4GHz WiFi network in order to update the time. To add a secondary clock, make sure to connect a compatible Qwiic-enabled devices that can keep track of time (i.e. Qwiic Real Time Clock Module - RV-8803 or a Qwiic-enabled u-blox GNSS module).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To adjust the time zone, you will need to enter a POSIX timezone string variable. Try <a href="https://github.com/nayarsystems/posix_tz_db/blob/master/zones.csv">checking out this CSV in this GitHub repo</a> and searching for the timezone string variable in your area. For more information about <a href="https://developer.ibm.com/articles/au-aix-posix/">POSIX format specification check out this article from IBM</a>.</p>
</div>
<ul>
<li><kbd>1</kbd> <strong>The Time Zone</strong> &mdash; Time zone setting string for the device<ul>
<li>Accepts a string:<ul>
<li><kbd>MST7MDT,M3.2.0,M11.1.0</kbd> <em>(default, as of firmware v01.01.01)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Reference Clock</strong> &mdash; The current reference clock source<ul>
<li>Accepts the following values:<ul>
<li><kbd>1</kbd> for no clock</li>
<li><kbd>2</kbd> for NTP Client <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Update Interval</strong> &mdash; Main clock update interval in minutes. 0 = No update<ul>
<li>Accepts an unsigned integer:<ul>
<li><kbd>0</kbd> = No update</li>
<li><kbd>60</kbd> seconds <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>Enable Clock Fallback</strong> &mdash; Use a valid reference clock if the primary is not available<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>0</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Dependant Interval</strong> &mdash; Connected depedant clock update interval in minutes. 0 = No update<ul>
<li>Accepts an unsigned integer:<ul>
<li><kbd>0</kbd> = No update</li>
<li><kbd>60</kbd> seconds <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Update Connected</strong> &mdash; Update connected clocks on main clock update<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>0</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As an alternative to using the NTP, users can also add a compatible Qwiic-enabled device that can keep track of time (i.e. Qwiic Real Time Clock Module - RV-8803 or a Qwiic-enabled u-blox GNSS module). These can be set as the primary or secondary clock.</p>
<p><div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_Qwiic_u-blox_GNSS_SAM-M10Q_Module.jpg"><img src="../assets/DataLogger_IoT_Qwiic_u-blox_GNSS_SAM-M10Q_Module.jpg" alt="u-blox GNSS Module Attached via Qwiic"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../DataLogger_IoT_Qwiic_RTC.jpg"><img src="../assets/DataLogger_IoT_Qwiic_RTC.jpg" alt="Qwiic Real Time Clock Module - RV-8803 Attached via Qwiic"></a></td>
    </tr>
  </table>
</div></p>
<p>Once attached, you will be prompted with additional options to select a primary reference clock.</p>
<p><div style="text-align: center">
  <a href="../assets/Additional_Time_Sources_GNSS_RTC.PNG"><img src="../assets/Additional_Time_Sources_GNSS_RTC.PNG" width="600" height="600" alt="Time Source Reference Clock Options"></a>
</div></p>
<p>If you are using a u-blox GNSS module, make sure that you have enough satellites in view. The option to add or configure the GNSS will not be available if there are not enough satellites in view. If you are using the Qwiic Real Time Clock Module - RV-8803, you may need to go into the device settings to manually adjust the date and time.</p>
</div>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<h3 id="network-wifi-network">Network: WiFi Network<a class="headerlink" href="#network-wifi-network" title="Permanent link"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ESP32-WROOM can only connect to a 2.4GHz WiFi network. Unfortunately, 5GHz is not supported on the ESP32-WROOM module.</p>
</div>
<p>In the Settings Menu, send a <kbd>4</kbd> to configure the WiFi settings. As of firmware v01.00.02, up to 4 sets of WiFi credentials can be saved.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_WiFi_Network_Menu_2.JPG"><img src="../assets/SparkFun_Datalogger_IoT_WiFi_Network_Menu_2.JPG" width="600" height="600" alt="WiFi Network Menu Options"></a>
</div>

<p>Once you are in the WiFi Network menu, you can enable/disable WiFi and save the WiFi network credentials. Once connected to a 2.4GHz WiFi network, you can synchronize the date and time, connect to an IoT service to log data, and update the latest firmware over-the-air. Since the WiFi is turned on by default, you will simply need to save the WiFi network's name and password.</p>
<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable the WiFi Network connection<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>0</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Network Name</strong> &mdash; The SSID of the WiFi network<ul>
<li>Accepts a string:<ul>
<li>For example, if my network name is "<code>MY_NETWORK_NAME</code>", you would manually type <kbd>MY_NETWORK_NAME</kbd>. When finished hit the <kbd>ENTER</kbd> key</li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Password</strong> &mdash; The Password to connect to the WiFi network<ul>
<li>Accepts a string:<ul>
<li>For example, if my network name is "<code>MY_SUPER_SECRET_PASSWORD</code>", you would manually type <kbd>MY_SUPER_SECRET_PASSWORD</kbd>. Note that as you type the password, each character will be replaced with an asterisk (<code>*</code>). When finished hit the <kbd>ENTER</kbd> key.</li>
</ul>
</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>Network 2 Name</strong> &mdash; Alternative network 2 SSID<ul>
<li>Accepts a string:<ul>
<li>For example, if my network name is "<code>MY_NETWORK_NAME_2</code>", you would manually type <kbd>MY_NETWORK_NAME_2</kbd>. When finished hit the <kbd>ENTER</kbd> key</li>
</ul>
</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Network 2 Password</strong> &mdash; Alternative network 2 Password<ul>
<li>Accepts a string:<ul>
<li>For example, if my network name is "<code>MY_SUPER_SECRET_PASSWORD_2</code>", you would manually type <kbd>MY_SUPER_SECRET_PASSWORD_2</kbd>. Note that as you type the password, each character will be replaced with an asterisk (<code>*</code>). When finished hit the <kbd>ENTER</kbd> key.</li>
</ul>
</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Network 3 Name</strong> &mdash; Alternative network 2 SSID<ul>
<li>Accepts a string:<ul>
<li>For example, if my network name is "<code>MY_NETWORK_NAME_3</code>", you would manually type <kbd>MY_NETWORK_NAME_3</kbd>. When finished hit the <kbd>ENTER</kbd> key</li>
</ul>
</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Network 3 Password</strong> &mdash; Alternative network 3 Password<ul>
<li>Accepts a string:<ul>
<li>For example, if my network name is "<code>MY_SUPER_SECRET_PASSWORD_3</code>", you would manually type <kbd>MY_SUPER_SECRET_PASSWORD_3</kbd>. Note that as you type the password, each character will be replaced with an asterisk (<code>*</code>). When finished hit the <kbd>ENTER</kbd> key.</li>
</ul>
</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Network 4 Name</strong> &mdash; Alternative network 2 SSID<ul>
<li>Accepts a string:<ul>
<li>For example, if my network name is "<code>MY_NETWORK_NAME_4</code>", you would manually type <kbd>MY_NETWORK_NAME_4</kbd>. When finished hit the <kbd>ENTER</kbd> key</li>
</ul>
</li>
</ul>
</li>
<li><kbd>9</kbd> <strong>Network 4 Password</strong> &mdash; Alternative network 4 Password<ul>
<li>Accepts a string:<ul>
<li>For example, if my network name is "<code>MY_SUPER_SECRET_PASSWORD_4</code>", you would manually type <kbd>MY_SUPER_SECRET_PASSWORD_4</kbd>. Note that as you type the password, each character will be replaced with an asterisk (<code>*</code>). When finished hit the <kbd>ENTER</kbd> key.</li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<p>Press the reset button or cycle power to restart the DataLogger IoT. You can also go through the menu and reset the device through software as well. Once the board is reset, the DataLogger will attempt to connect to a WiFi network. If you are successful, the output will indicate that the board connected to a WiFi network and will update the current time through a NTP Client.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Initializing_WiFi_Connected.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Initializing_WiFi_Connected.JPG" width="600" height="600" alt="DataLogger IoT Re-initializing and Outputting WiFi Connected Message"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have a <a href="https://www.sparkfun.com/products/21274">Qwiic Dynamic NFC/RFID Tag</a> connected to the board's Qwiic connector, you can easily update your WiFi credentials! Just make sure to save the WiFi credentials to the tag.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you saved your preferences to a JSON file on your microSD card's root directory, you can also save your WiFi credentials and load the system settings from the menu as well!</p>
</div>
<h3 id="network-ntp-client">Network: NTP Client<a class="headerlink" href="#network-ntp-client" title="Permanent link"></a></h3>
<p>In the Settings menu, send a <kbd>5</kbd> to adjust the NTP Client settings. As of firmware v01.01.01, time zone support is at the clock level, not tied to the NTP. The option to adjust the Time Zone is moved to the Time Sources menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_NTP_Client_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_NTP_Client_Menu.JPG" width="600" height="600" alt="NTP Client Menu Options"></a>
</div>

<p>In this menu, users will have the option to enable/disable the NTP client, select the primary/secondary server, or adjust the time zone for your area.</p>
<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable the NTP Client<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>0</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>NTP Server One</strong> &mdash; The primary NTP Server to use<ul>
<li>Accepts a string:<ul>
<li><kbd>time.nist.gov</kbd> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>NTP Server Two</strong> &mdash;  The secondary NTP Server to use<ul>
<li>Accepts a string:<ul>
<li><kbd>pool.ntp.org</kbd> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<h3 id="logging-logger">Logging: Logger<a class="headerlink" href="#logging-logger" title="Permanent link"></a></h3>
<p>In the Settings menu, send a <kbd>6</kbd> to adjust how data is logged.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Logger_Menu_v01p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Logger_Menu_v01p02p00.JPG" width="600" height="600" alt="Logger Menu Options"></a>
</div>

<p>In the Logger menu, users will have the option to add a timestamp, increment sample numbering, data format, or reset the sample counter. Note that the timestamp is the system clock and syncs with the reference clock that was chosen. Data from the Qwiic-enabled devices that keep track of time can also be included for each data entry by default.</p>
<ul>
<li><kbd>1</kbd> <strong>Timestamp Mode</strong> &mdash; Enable timestamp output and set the format of a log entry timestamp<ul>
<li><kbd>1</kbd> for no timestamp <em>(default)</em> = 0</li>
<li><kbd>2</kbd> for milliseconds since program start = 1</li>
<li><kbd>3</kbd> for seconds since Epoch = 2</li>
<li><kbd>4</kbd> for Date Time - USA Date format = 3</li>
<li><kbd>5</kbd> for Date Time = 4</li>
<li><kbd>6</kbd> for ISO08601 Timestamp = 5</li>
<li><kbd>7</kbd> for ISO08601 Timestamp with Time Zone = 6</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Sample Numbering</strong> &mdash; An incremental count of the current log entry<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Numbering Increment</strong> &mdash; Increment amount for Sample Numbering<ul>
<li>Accepts an unsigned integer between <kbd>1</kbd> to <kbd>10000</kbd>:<ul>
<li><kbd>1</kbd> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>Output ID</strong> &mdash; Include the Board ID in the log output <em>(added as of firmware v01.02.00)</em><ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Output Name</strong> &mdash; Include the Board Name in the log output <em>(added as of firmware v01.02.00)</em><ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Rate Metric</strong> &mdash; Enable to record the logging rate data <em>(added as of firmware v01.02.00)</em><ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>SD Card Format</strong> &mdash; Enable and set the output format<ul>
<li>Accepts an integer:<ul>
<li><kbd>1</kbd> to disable  = 0</li>
<li><kbd>2</kbd> CSV format  = 1 <em>(default)</em></li>
<li><kbd>3</kbd> JSON format = 2</li>
</ul>
</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Serial Console Format</strong> &mdash; Enable and set the output format<ul>
<li>Accepts an integer:<ul>
<li><kbd>1</kbd> to disable  = 0</li>
<li><kbd>2</kbd> CSV format  = 1 <em>(default)</em></li>
<li><kbd>3</kbd> JSON format = 2</li>
</ul>
</li>
</ul>
</li>
<li><kbd>9</kbd> <strong>System Info</strong> &mdash; Log system information <em>(added as of firmware v01.02.00)</em><ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>10</kbd> <strong>Reset Sample Counter</strong> &mdash; Reset the sample number counter to the provided value<ul>
<li>Accepts an unsigned integer between <kbd>0</kbd> to <kbd>10000</kbd>:<ul>
<li><kbd>0</kbd> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<p>Press the reset button or cycle power to restart the DataLogger IoT. You can also go through the menu and reset the device through software as well. Below is an example with the ISO08601 time that was added to the output.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Output_Timestamp.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Output_Timestamp.JPG" width="600" height="600" alt="DataLogger IoT Re-initializing and Outputting Time in ISO08601 Time Format"></a>
</div>

<h3 id="logging-logging-timer">Logging: Logging Timer<a class="headerlink" href="#logging-logging-timer" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>7</kbd> to adjust the Logging Timer.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Logger_Timer_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Logger_Timer_Menu.JPG" width="600" height="600" alt="Logging Timer Menu Options"></a>
</div>

<p>Adjusting the interval for the Logging Timer will change the amount of time between log entries.</p>
<ul>
<li><kbd>1</kbd> <strong>Interval</strong> &mdash; The timer interval in milliseconds<ul>
<li>Accepts an integer:<ul>
<li><kbd>15000</kbd> milliseconds <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<h3 id="logging-data-file">Logging: Data File<a class="headerlink" href="#logging-data-file" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>8</kbd> to adjust the Logging Data File.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_File_Rotation_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_File_Rotation_Menu.JPG" width="600" height="600" alt="Data File Menu Options"></a>
</div>

<p>Adjusting these parameters allows you to change the filename prefix, the number the files starts at, and how often the DataLogger will create a new file on the microSD card. For example, the default file will be saved as <strong>sfe0001.txt</strong>. After 1 day, the DataLogger will rotate files by creating a new file named <strong>sfe0002.txt</strong>. The DataLogger will begin logging data in this new file. The purpose of this log rotation is to limit the size of each file prevent issues when opening large files.</p>
<ul>
<li><kbd>1</kbd> <strong>Rotate Period</strong> &mdash; Time between file rotation<ul>
<li>Accepts the following values:<ul>
<li><kbd>1</kbd> for 6 hours = 6</li>
<li><kbd>2</kbd> for 12 hours  = 12</li>
<li><kbd>3</kbd> for 1 day (24 hours)  = 24 <em>(default)</em></li>
<li><kbd>4</kbd> for 2 days (48 hours)  = 48</li>
<li><kbd>5</kbd> for 1 week (168 hours)  = 168</li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>File Start Number</strong> &mdash; The number the filename rotation starts with<ul>
<li>Accepts an unsigned integer:<ul>
<li><kbd>1</kbd> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Filename Prefix</strong> &mdash; The prefix string for the generated filenames<ul>
<li>Accepts a string:<ul>
<li><kbd>sfe</kbd> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<p>The contents of the file will depend on how the data was saved (either CSV or JSON). Make sure that the SD Card format is enabled to either CSV or JSON with your desired device outputs turned on so that the DataLogger can save the readings.</p>
<p>When removing the microSD card, make sure to remove your power source. Then insert into it into microSD card adapter or USB reader. When connecting the memory card to your computer, you can use a text editor to view the saved readings. In this case, a Windows operating system was viewing the file <strong>sfe0000.txt</strong> and it was only file available in the microSD card.</p>
<div style="text-align: center">
   <a href="../assets/Datalogger_IoT_text_file.JPG"><img src="../assets/Datalogger_IoT_text_file.JPG" width="600" height="600" alt="Readings Saved in Text File Shown in a Windows File Explorer"></a>
 </div>

<h3 id="iot-services-mqtt-client">IoT Services: MQTT Client<a class="headerlink" href="#iot-services-mqtt-client" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>9</kbd> to adjust settings for the MQTT Client.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_MQTT_Client_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_MQTT_Client_Menu.JPG" width="600" height="600" alt="MQTT Client Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable MQTT Client<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Port</strong> &mdash; The MQTT broker port to connect to<ul>
<li>Accepts an unsigned integer:<ul>
<li><kbd>1883</kbd> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Server</strong> &mdash; The MQTT server to connect to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>MQTT Topic</strong> &mdash; The MQTT  topic to publish to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Client Name</strong> &mdash; Name of this device used for MQTT Communications<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Username</strong> &mdash; Username to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Password</strong> &mdash; Password to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Buffer Size</strong> &mdash; MQTT payload buffer size. If 0, the buffer size is dynamic<ul>
<li>Accepts an unsigned int16:<ul>
<li><kbd>0</kbd> for dynamic buffer size <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<h3 id="iot-services-mqtt-secure-client">IoT Services: MQTT Secure Client<a class="headerlink" href="#iot-services-mqtt-secure-client" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>10</kbd> to adjust settings for the MQTT Secure Client.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_MQTT_Secure_Client_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_MQTT_Secure_Client_Menu.JPG" width="600" height="600" alt="MQTT Secure Client Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable MQTT Secure Client<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Port</strong> &mdash; The MQTT broker port to connect to<ul>
<li>Accepts an unsigned integer:<ul>
<li><kbd>8883</kbd> <em>(default, as of firmware v01.00.04)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Server</strong> &mdash; The MQTT server to connect to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>MQTT Topic</strong> &mdash; The MQTT  topic to publish to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Client Name</strong> &mdash; Name of this device used for MQTT Communications<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Username</strong> &mdash; Username to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Password</strong> &mdash; Password to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Buffer Size</strong> &mdash; MQTT payload buffer size. If 0, the buffer size is dynamic<ul>
<li>Accepts an unsigned int16:<ul>
<li><kbd>0</kbd> for dynamic buffer size <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>9</kbd> <strong>CA Cert Filename</strong> &mdash; The File to load the certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>10</kbd> <strong>Client Cert Filename</strong> &mdash; The File to load the client certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>11</kbd> <strong>Client Key Filename</strong> &mdash; The File to load the client key from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<h3 id="iot-services-aws-iot">IoT Services: AWS IoT<a class="headerlink" href="#iot-services-aws-iot" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>11</kbd> to adjust settings for the AWS IoT.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_AWS_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_AWS_Menu.JPG" width="600" height="600" alt="AWS IoT Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable AWS IoT<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Port</strong> &mdash; The MQTT broker port to connect to<ul>
<li>Accepts an unsigned integer:<ul>
<li><kbd>8883</kbd> <em>(default, as of firmware v01.00.04)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Server</strong> &mdash; The MQTT server to connect to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>MQTT Topic</strong> &mdash; The MQTT  topic to publish to<ul>
<li>Accepts a string<ul>
<li><strong>$aws/things//shadow/update</strong> <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Client Name</strong> &mdash; Name of this device used for MQTT Communications<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Username</strong> &mdash; Username to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Password</strong> &mdash; Password to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Buffer Size</strong> &mdash; MQTT payload buffer size. If 0, the buffer size is dynamic<ul>
<li>Accepts an unsigned int16:<ul>
<li><kbd>0</kbd> for dynamic buffer size <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>9</kbd> <strong>CA Cert Filename</strong> &mdash; The File to load the certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>10</kbd> <strong>Client Cert Filename</strong> &mdash; The File to load the client certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>11</kbd> <strong>Client Key Filename</strong> &mdash; The File to load the client key from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<h3 id="iot-services-thingspeak-mqtt">IoT Services: ThingSpeak MQTT<a class="headerlink" href="#iot-services-thingspeak-mqtt" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>12</kbd> to adjust settings for ThingSpeak MQTT</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_ThingSpeak_MQTT_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_ThingSpeak_MQTT_Menu.JPG" width="600" height="600" alt="ThingSpeak MQTT Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable ThingSpeak MQTT<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Port</strong> &mdash; The MQTT broker port to connect to<ul>
<li>Accepts an unsigned integer:<ul>
<li><kbd>8883</kbd> <em>(default, as of firmware v01.00.04)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Server</strong> &mdash; The MQTT server to connect to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>MQTT Topic</strong> &mdash; The MQTT  topic to publish to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Client Name</strong> &mdash; Name of this device used for MQTT Communications<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Username</strong> &mdash; Username to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Password</strong> &mdash; Password to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Buffer Size</strong> &mdash; MQTT payload buffer size. If 0, the buffer size is dynamic<ul>
<li>Accepts an unsigned int16:<ul>
<li><kbd>0</kbd> for dynamic buffer size <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>9</kbd> <strong>CA Cert Filename</strong> &mdash; The File to load the certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>10</kbd> <strong>Client Cert Filename</strong> &mdash; The File to load the client certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>11</kbd> <strong>Client Key Filename</strong> &mdash; The File to load the client key from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>12</kbd> <strong>Channels</strong> &mdash; Comma separated list of <device name>=<thingspeak channel ID><ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<h3 id="iot-services-azure-iot">IoT Services: Azure IoT<a class="headerlink" href="#iot-services-azure-iot" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>13</kbd> to adjust settings for the Azure IoT.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Azure_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Azure_Menu.JPG" width="600" height="600" alt="Azure IoT Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable Azure IoT<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Port</strong> &mdash; The MQTT broker port to connect to<ul>
<li>Accepts an unsigned integer:<ul>
<li><kbd>8883</kbd> <em>(default, as of firmware v01.00.04)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Server</strong> &mdash; The MQTT server to connect to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>MQTT Topic</strong> &mdash; The MQTT  topic to publish to<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Client Name</strong> &mdash; Name of this device used for MQTT Communications<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Username</strong> &mdash; Username to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Password</strong> &mdash; Password to connect to an MQTT broker, if required.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Buffer Size</strong> &mdash; MQTT payload buffer size. If 0, the buffer size is dynamic<ul>
<li>Accepts an unsigned int16:<ul>
<li><kbd>0</kbd> for dynamic buffer size <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>9</kbd> <strong>CA Cert Filename</strong> &mdash; The File to load the certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>10</kbd> <strong>Client Cert Filename</strong> &mdash; The File to load the client certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>11</kbd> <strong>Client Key Filename</strong> &mdash; The File to load the client key from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>11</kbd> <strong>Device ID</strong> &mdash; The device id for the Azure IoT device<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>12</kbd> <strong>Device Key</strong> &mdash; The device key for the Azure IoT device<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<h3 id="iot-services-http-iot">IoT Services: HTTP IoT<a class="headerlink" href="#iot-services-http-iot" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>14</kbd> to adjust settings for the Azure IoT.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_HTTP_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_HTTP_Menu.JPG" width="600" height="600" alt="HTTP IoT Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable the HTTP Client<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>URL</strong> &mdash; The URL to call with log information<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>CA Cert Filename</strong> &mdash; The File to load the certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<h3 id="iot-services-machinechat">IoT Services: MachineChat<a class="headerlink" href="#iot-services-machinechat" title="Permanent link"></a></h3>
<p>In the Settings menu, send an <kbd>15</kbd> to adjust settings for MachineChat.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_MachineChat_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_MachineChat_Menu.JPG" width="600" height="600" alt="Machine Chat Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable the HTTP Client<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>URL</strong> &mdash; The URL to call with log information<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>CA Cert Filename</strong> &mdash; The File to load the certificate from<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<h3 id="iot-services-arduino-cloud">IoT Services: Arduino Cloud<a class="headerlink" href="#iot-services-arduino-cloud" title="Permanent link"></a></h3>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>At the time of writing, Arduino's IoT service was referred to as the "Arduino IoT Cloud." <a href="https://blog.arduino.cc/2023/11/15/announcing-a-better-arduino-cloud-together/">Arduino updated the service with a different UI and is now referring to the service as the "Arduino Cloud"</a>."  When referencing the Arduino IoT or Arduino IoT Cloud in this tutorial, we are referring to the Arduino Cloud.</p>
</div>
<p>In the Settings menu, send an <kbd>16</kbd> to adjust settings for Arduino Cloud. This feature was added as of firmware v01.01.01.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_DataLogger_IoT_Arduino_IoT_Cloud_Menu.JPG"><img src="../assets/SparkFun_DataLogger_IoT_Arduino_IoT_Cloud_Menu.JPG" width="600" height="600" alt="Arduino Cloud Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enable or Disable the Arduino IoT Client<ul>
<li>Accepts a boolean value:<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Thing Name</strong> &mdash; The Thing Name to use for the IoT Device connection<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Thing ID</strong> &mdash; The Thing ID to use for the IoT Device connection<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>API Client ID</strong> &mdash; The Arduino Cloud API Client ID<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>API Secret</strong> &mdash; The Arduino Cloud API Secret<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Device Secret</strong> &mdash; The Arduino IoT Device Secret<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Device ID</strong> &mdash; The Arduino IoT Cloud Device ID<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<h3 id="iot-web-server">IoT Web Server<a class="headerlink" href="#iot-web-server" title="Permanent link"></a></h3>
<p>As of firmware v01.02.00, log files can be viewed and downloaded using the IoT Web Server feature if mDNS (multicast DNS) is supported on your network. This functionality is accessed via the Settings Menu, Type <kbd>17</kbd> to enter the System Update menu. Once this menu entry is selected, the following menu options are presented:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Web_Server_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Web_Server_Menu.JPG" width="600" height="600" alt="IoT Web Server Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Enabled</strong> &mdash; Enabled or Disable the Web Server<ul>
<li>Accepts a boolean value<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Username</strong> &mdash; Web access control. Leave empty to disable authentication<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Password</strong> &mdash; Web access control.<ul>
<li>Accepts a string</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>mDNS Support</strong> &mdash; Enable a name for the web address this device<ul>
<li>Accepts a boolean value<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>0</kbd> to disable <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>mDNS Name</strong> &mdash; mDNS Name used for this device address<ul>
<li>Accepts a string<ul>
<li>dataloggerXXXXX, where XXXXX is the taken from the last 5x characters from your DataLogger IoT's board ID <em>(default)</em></li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will need to make sure that the ESP32 is on the same network as your computer in order to access the log files.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When authentication is enabled, some browsers might require a second login depending on user settings.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The SparkFun Datalogger IoT requires restarting if the web interface is enabled.</p>
</div>
<p>For more information on how to use this feature, check out the <a href="../example_iot_web_server/">section on viewing and downloading log files using the IoT web server</a>.</p>
<div style="text-align: center"><a href="../example_iot_web_server" class="md-button">Examples: Viewing and Downloading Log Files using the IoT Web Server</a></div>

<h3 id="advanced-system-update">Advanced: System Update<a class="headerlink" href="#advanced-system-update" title="Permanent link"></a></h3>
<p>New sensors and features are being added all the time and we've made it really easy for you to keep your DataLogger IoT up to date. The System Update option provides the following functionality to the end user:</p>
<ul>
<li>Restart the device</li>
<li>Performing a Factory Reset on the device</li>
<li>Updated the device firmware from a file on an SD Card.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>What's going on here?!? This tutorial was updated for firmware version <strong>01.02.00</strong>!!! You will notice this menu option has changed to <kbd>18</kbd> !!!</p>
</div>
<p>This functionality is accessed via the Settings Menu, which is required to use this capability. Type <kbd>18</kbd> to enter the System Update menu. Once this menu entry is selected, the following menu options are presented:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Restart_Factory_Restore_Update_Firmware_v01p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Restart_Factory_Restore_Update_Firmware_v01p02p00.JPG" width="600" height="600" alt="System Update Menu Options"></a>
</div>

<ul>
<li><kbd>1</kbd> <strong>Device Restart</strong> &mdash; Restart/reboot the device<ul>
<li>Accepts the following values:<ul>
<li><kbd>Y</kbd> or <kbd>Y</kbd> to restart or reboot the device using the current firmware and system preferences</li>
<li><kbd>N</kbd> or <kbd>n</kbd> to cancel</li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Factory Reset</strong> &mdash; Erase all settings and revert to original firmware<ul>
<li>Accepts the following values:<ul>
<li><kbd>Y</kbd> or <kbd>Y</kbd> to factory reset the device</li>
<li><kbd>N</kbd> or <kbd>n</kbd> to cancel</li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Update Firmware - SD Card</strong> &mdash; Update the firmware from the SD card<ul>
<li>Accepts firmware in the <strong>/root</strong> directory of the microSD card with the file naming pattern <strong>SparkFunDataLoggerIoT*.bin</strong>, where the asterisk <strong>&ast;</strong> is the firmware version number (i.e. <strong>SparkFunDataLoggerIoT_01.00.01.bin</strong>).</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>Update Firmware - OTA</strong> &mdash; Update the firmware over-the-air<ul>
<li>Connects to a server and searches for the latest firmware that is available. Note that you must be connected to a WiFi network to be able to update the board over-the-air.</li>
<li>Accepts the following values if there is new firmware available.<ul>
<li><kbd>Y</kbd> or <kbd>Y</kbd> to update over-the-air</li>
<li><kbd>N</kbd> or <kbd>n</kbd> to cancel</li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<p>For more information on how to update firmware manually or over-the-air, check out the section under <a href="../updating_firmware/">Examples: Updating Firmware</a>.</p>
<div style="text-align: center"><a href="../updating_firmware/" class="md-button">Examples: Updating Firmware</a></div>

<h2 id="device-settings">Device Settings<a class="headerlink" href="#device-settings" title="Permanent link"></a></h2>
<p>In the Main Menu, send a <kbd>2</kbd> through the serial terminal to adjust the devices settings.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Device_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Device_Settings_Menu.JPG" width="600" height="600" alt="Device Settings Menu Options"></a>
</div>

<p>This will bring up the connected devices that are currently available. You can configure each device and enable/disable each output. Below is a sample of the on-board devices available for the DataLogger IoT - 9DoF when only the MAX17048, ISM330, and MMC5983 are connected. As the DataLogger IoT - 9DoF initializes, the board will populate additional devices in this window if they are detected. Your mileage will vary depending on what is connected. On the DataLogger IoT you will not see the ISM330 or MMC5983  as an option since the 6DoF IMU and magnetometer are not populated on that version of the board.</p>
<ul>
<li><kbd>1</kbd> <strong>MAX17048</strong> &mdash; MAX17048 LiPo Battery Fuel Gauge<ul>
<li><kbd>1</kbd> <strong>Voltage (V)</strong> &mdash; Battery voltage (Volts)<ul>
<li><kbd>1</kbd> to enable Voltage (V) <em>(default)</em></li>
<li><kbd>2</kbd> to disable Voltage (V)</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>State of Charge (%)</strong> &mdash; Battery state of charge (%)<ul>
<li><kbd>1</kbd> to enable state of charge (%) <em>(default)</em></li>
<li><kbd>2</kbd> to disable state of charge  (%)</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Charge Rate (%/hr)</strong> &mdash; Battery charge change rate (%/hr)<ul>
<li><kbd>1</kbd> to enable change rate (%/hr) <em>(default)</em></li>
<li><kbd>2</kbd> to disable change rate (%/hr)</li>
</ul>
</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>ISM330</strong> &mdash; ISM330 Inertial Measurement Unit<ul>
<li><kbd>1</kbd> <strong>Accel Data Rate (HZ)</strong> &mdash; Accelerometer Data Rate (Hz)<ul>
<li><kbd>1</kbd> for Off</li>
<li><kbd>2</kbd> for 12.5 Hz</li>
<li><kbd>3</kbd> for 26 Hz</li>
<li><kbd>4</kbd> for 52 Hz</li>
<li><kbd>5</kbd> for 104 Hz <em>(default)</em></li>
<li><kbd>6</kbd> for 208 Hz</li>
<li><kbd>7</kbd> for 416 Hz</li>
<li><kbd>8</kbd> for 833 Hz</li>
<li><kbd>9</kbd> for 1666 Hz</li>
<li><kbd>10</kbd> for 3332 Hz</li>
<li><kbd>11</kbd> for 6667 Hz</li>
<li><kbd>12</kbd> for 1.6 Hz</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Accel Full Scale (g)</strong> &mdash; Accelerometer Full Scall (g)<ul>
<li><kbd>1</kbd> for 2 g</li>
<li><kbd>2</kbd> for 16 g</li>
<li><kbd>3</kbd> for 4 g <em>(default)</em></li>
<li><kbd>4</kbd> for 8 g</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>Gyro Data Rate (Hz)</strong> &mdash; Gyro Data Rate (Hz)<ul>
<li><kbd>1</kbd> for Off</li>
<li><kbd>2</kbd> for 12.5 Hz</li>
<li><kbd>3</kbd> for 26 Hz</li>
<li><kbd>4</kbd> for 52 Hz</li>
<li><kbd>5</kbd> for 104 Hz <em>(default)</em></li>
<li><kbd>6</kbd> for 208 Hz</li>
<li><kbd>7</kbd> for 416 Hz</li>
<li><kbd>8</kbd> for 833 Hz</li>
<li><kbd>9</kbd> for 1666 Hz</li>
<li><kbd>10</kbd> for 3332 Hz</li>
<li><kbd>11</kbd> for 6667 Hz</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>Gyro Full Scale (dps)</strong> &mdash; Gyro Full Scale (dps)<ul>
<li><kbd>1</kbd> for 125 dps</li>
<li><kbd>2</kbd> for 250 dps</li>
<li><kbd>3</kbd> for 500 dps <em>(default)</em></li>
<li><kbd>4</kbd> for 1000 dps</li>
<li><kbd>5</kbd> for 2000 dps</li>
<li><kbd>6</kbd> for 4000 dps</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Accel Filter LP2</strong> &mdash; Accelerometer Filter LP2<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Gyro Filter LP1</strong> &mdash; Gyro Filter LP1<ul>
<li><kbd>1</kbd> to enable <em>(default)</em></li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>7</kbd> <strong>Accel Slope Filter</strong> &mdash; Accelerometer Slope Filter<ul>
<li><kbd>1</kbd> for ODR/4</li>
<li><kbd>2</kbd> for ODR/10</li>
<li><kbd>3</kbd> for for ODR/20</li>
<li><kbd>4</kbd> for ODR/45</li>
<li><kbd>5</kbd> for ODR/100 <em>(default)</em></li>
<li><kbd>6</kbd> for ODR/200</li>
<li><kbd>7</kbd> for ODR/400</li>
<li><kbd>8</kbd> for ODR/800</li>
</ul>
</li>
<li><kbd>8</kbd> <strong>Gyro LP1 Filter Bandwidth</strong> &mdash;  Gyro LP1 Filter Bandwidth<ul>
<li><kbd>1</kbd> Ultra Light</li>
<li><kbd>2</kbd> Very Light</li>
<li><kbd>3</kbd> Light</li>
<li><kbd>4</kbd> Medium <em>(default)</em></li>
<li><kbd>5</kbd> Strong</li>
<li><kbd>6</kbd> Very Strong</li>
<li><kbd>7</kbd> Aggressive</li>
<li><kbd>8</kbd> Extreme</li>
</ul>
</li>
<li><kbd>9</kbd> <strong>Accel X (milli-g)</strong> &mdash; Accelerometer X (milli-g)<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>10</kbd> <strong>Accel Y (milli-g)</strong> &mdash; Accelerometer Y (milli-g)<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>11</kbd> <strong>Accel Z (milli-g)</strong> &mdash; Accelerometer Z (milli-g)<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>12</kbd> <strong>Gyro X (milli-dps)</strong> &mdash; Gyro X (milli-g)<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>13</kbd> <strong>Gyro Y (milli-dps)</strong> &mdash; Gyro Y (milli-g)<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>14</kbd> <strong>Gyro Z (milli-dps)</strong> &mdash; Gyro Z (milli-g)<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>15</kbd> <strong>Temperature (C)</strong> &mdash; The temperature in degrees C<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>MMC5983</strong> &mdash; MMC5983 Magnetometer<ul>
<li><kbd>1</kbd> <strong>Filter Bandwidth (Hz)</strong> &mdash; The filter bandwidth in Hz<ul>
<li><kbd>1</kbd> 100 Hz <em>(default)</em></li>
<li><kbd>2</kbd> 200 Hz</li>
<li><kbd>3</kbd> 400 Hz</li>
<li><kbd>4</kbd> 800 Hz</li>
</ul>
</li>
<li><kbd>2</kbd> <strong>Auto-Reset</strong> &mdash; Auto-Reset<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>3</kbd> <strong>X Field (Gauss)</strong> &mdash; The X Field strength in Gauss<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>4</kbd> <strong>Y Field (Gauss)</strong> &mdash; The Y Field strength in Gauss<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>5</kbd> <strong>Z Field (Gauss)</strong> &mdash; The Z Field strength in Gauss<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
<li><kbd>6</kbd> <strong>Temperature (C)</strong> &mdash; The ambient temperature in degrees C<ul>
<li><kbd>1</kbd> to enable</li>
<li><kbd>2</kbd> to disable</li>
</ul>
</li>
</ul>
</li>
<li><kbd>b</kbd> <strong>Back</strong></li>
</ul>
<p>When finished, you will need to exit the menus so that the DataLogger IoT saves the changes. Send a <kbd>b</kbd> to exit out this menu, <kbd>b</kbd> to exit out of the DataLogger IoT settings, and <kbd>x</kbd> to exit out of the main menu.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt=" Output Save Settings Confirmation"></a>
</div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As you connect additional devices to the DataLogger IoT, the values associated with each device in this menu will change! Make sure to check your device settings menu after additional devices are attached should you decide to configure the additional devices and enable/disable their outputs.
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Device_Settings_Menu_Additional_Devices.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Device_Settings_Menu_Additional_Devices.JPG" width="600" height="600" alt="Additional Devices Connected and Showing up as Menu Options"></a>
</div></p>
</div>
<h1 id="example-connecting-to-a-wifi-network">Example - Connecting to a WiFi Network<a class="headerlink" href="#example-connecting-to-a-wifi-network" title="Permanent link"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ESP32-WROOM can only connect to a 2.4GHz WiFi network. Unfortunately, 5GHz is not supported on the ESP32-WROOM module.</p>
</div>
<p>To take advantage of syncing the DataLogger to the Network Time Protocol (NTP), logging data to an IoT service, or updating firmware OTA, you will need to connect to a 2.4GHz WiFi network.</p>
<p>Open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to  <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then send a <kbd>4</kbd> to configure the WiFi settings.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_WiFi_Network_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_WiFi_Network_Menu.JPG" width="600" height="600" alt="WiFi Network Menu Options"></a>
</div>

<p>Send a <kbd>2</kbd> to set the WiFi Network Name. You'll be prompted to set the network name. In this case, the network name is <code>sparkfun</code>. Once you enter the name, hit the <kbd>enter</kbd> key.</p>
<div style="text-align: center">
  <a href="../assets/Configure_WiFi_Network.PNG">
  <img src="../assets/Configure_WiFi_Network.PNG" width="600" height="600" alt="Configure WiFi Network"></a>
</div>

<p>Send a <kbd>2</kbd> to set the WiFi  password. You'll be prompted to set the password. As you send the password, each character will be masked by a asterisk (i.e. &ast;) Once you enter the name, hit the <kbd>enter</kbd> key.</p>
<div style="text-align: center">
  <a href="../assets/Configure_WiFi_Password.PNG">
  <img src="../assets/Configure_WiFi_Password.PNG" width="600" height="600" alt="Configure WiFi Password"></a>
</div>

<p>Follow the prompts to exit out of the menu properly so that the DataLogger IoT saves the settings.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Save_Settings_Menu.JPG" width="600" height="600" alt="Output Save Settings Confirmation"></a>
</div>

<p>Once you see the message <code>[I] Saving System Settings</code> and data on the output, hit the reset button on the board. You can also use the menu to perform a device restart, however you will need to ensure that you receive the message indicating that the settings were saved before restarting the device.</p>
<p>Once the device has restarted, the DataLogger will provide an output as it is initializing. If the WiFi credentials are saved properly, you will receive a message indicating that your chosen network is connected to your WiFi network. If the time source is set to the default NTP client, you will also notice that the time will be synced to the latest date and time!</p>
<div style="text-align: center">
  <a href="../assets/WiFi_Connected_NTP_Synced.PNG">
  <img src="../assets/WiFi_Connected_NTP_Synced.PNG" width="600" height="600" alt="Configure WiFi Password"></a>
</div>

<h1 id="example-adding-a-timestamp-to-data">Example - Adding a Timestamp to Data<a class="headerlink" href="#example-adding-a-timestamp-to-data" title="Permanent link"></a></h1>
<p>Open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to  <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then send a <kbd>6</kbd> to adjust how data is logged.</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Logger_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Logger_Menu.JPG" width="600" height="600" alt="Logger Menu Options"></a>
</div>

<p>Send a <kbd>1</kbd> to configure the timestamp for each log entry. The settings in this menu relate to the system clock and is dependent on the reference clock. You&apos;ll be prompted with different formats. In this example, we sent a a <kbd>4</kbd> to have a timestamp with the USA date format.</p>
<div style="text-align: center">
  <a href="../assets/Configure_Timestamp.PNG">
  <img src="../assets/Configure_Timestamp.PNG" width="600" height="600" alt="Configure Timestamp"></a>
</div>

<p>Follow the prompts to exit out of the menu properly so that the DataLogger IoT saves the settings. Once you see the message <code>[I] Saving System Settings</code>, the DataLogger IoT will add a timestamp with your preferred format to each log entry. Assuming that you have the output set to the serial terminal, you should see the timestamp attached to the output after the system settings are saved like the image below.  </p>
<div style="text-align: center">
  <a href="../assets/Timestamped_CSV.PNG">
  <img src="../assets/Timestamped_CSV.PNG" width="600" height="600" alt="Timestamped Data"></a>
</div>

<h1 id="example-factory-reset">Example - Factory Reset<a class="headerlink" href="#example-factory-reset" title="Permanent link"></a></h1>
<p>A factory reset will move the boot firmware of the device to the firmware imaged installed at the <strong><em>factory</em></strong> and erase any on-board stored settings on the device. This is helpful if an update fails, or an update has issues that prevent proper operations.</p>
<p>This option is available on ESP32 devices that contained a <strong><em>factory</em></strong> firmware partition that contains a bootable firmware image. Consult the specific product's production and build system for further details.</p>
<p>Open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to  <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>16</kbd> to enter the System Update Menu. Finally, type <kbd>2</kbd> to enter the Factory Reset option.</p>
<p>The user is presented a prompt to continue. To launch a factory reset, the value of <kbd>Y</kbd> should be entered. To abort the update, enter <kbd>n</kbd> or press the <kbd>Esc</kbd> key.</p>
<div style="text-align: center">
  <a href="../assets/act_sysfirm_reset.png">
  <img src="../assets/act_sysfirm_reset.png" width="600" height="600" alt="Reset Prompt"></a>
</div>

<p>When a <kbd>Y</kbd> is entered, the system performs the following:</p>
<ul>
<li>Set the boot image to the Factory installed firmware</li>
<li>Erase any settings stored in the on-board flash memory</li>
<li>Reboot the device</li>
</ul>
<div style="text-align: center">
  <a href="../assets/act_sysfirm_reset_y.png">
  <img src="../assets/act_sysfirm_reset_y.png" width="600" height="600" alt="Reset Reboot"></a>
</div>

<h1 id="example-updating-firmware">Example - Updating Firmware<a class="headerlink" href="#example-updating-firmware" title="Permanent link"></a></h1>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Please think very carefully before uploading any Arduino sketches to your DataLogger IoT.</p>
<p><strong>You will overwrite the DataLogger IoT firmware, leaving it unable to update or restore itself.</strong></p>
<p>Each DataLogger IoT comes pre-programmed with amazing firmware which can do <em>so</em> much. It is designed to be able to update itself and restore itself if necessary. But it can not do that if you overwrite the firmware with any Arduino sketch. It is just like erasing the restore partition on your computer hard drive. Do not do it - unless you <em>really</em> know what you are doing.</p>
<p>Really. We mean it.</p>
</div>
<h2 id="firmware-update-sd-card">Firmware Update - SD Card<a class="headerlink" href="#firmware-update-sd-card" title="Permanent link"></a></h2>
<p>This action enables the ability to update the onboard firmware to an image file contained an SD card. This user is presented a list of available firmware images files contained in root directory of the on-board SD card, and updates the board to the selected file.</p>
<p>This option is available on ESP32 devices that contained two update firmware (OTA type) partitions within the on-board device flash memory. Consult the specific products production and build system for further details.</p>
<p>To download the latest firmware and update through the microSD card, you will need to head to the <a href="https://github.com/sparkfun/SparkFun_DataLogger/releases">GitHub repository containing the firmware</a>. Select the firmware version and download.</p>
<div style="text-align: center"><a href="https://github.com/sparkfun/SparkFun_DataLogger/releases" target="sfe_datalogger_firmware" class="md-button">GitHub: SparkFun DataLogger | Firmware Releases</a></div>

<p>Once downloaded, insert the microSD card into a card reader or USB adapter. Then move the files into the memory card's root directory. Below shows an image of v01.00.01 and v01.00.02 on a Windows OS.</p>
<div style="text-align: center">
  <a href="../assets/Explorer_MicroSD_Card_Firmware_Files.PNG">
  <img src="../assets/Explorer_MicroSD_Card_Firmware_Files.PNG" width="600" height="600" alt="microSD Card Firmware Files"></a>
</div>

<p>Once the files are copied to the memory card, eject the microSD card from your computer. Insert the card back into the DataLogger IoT's microSD card socket. Connect the DataLogger IoT to your computer using a USB cable.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_Insert_MicroSD_Card.jpg"><img src="../assets/DataLogger_IoT_Insert_MicroSD_Card.jpg" width="1000" height="667" alt="Insert MicroSD Card"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_USB.jpg"><img src="../assets/DataLogger_IoT_USB.jpg" width="1000" height="667" alt="DataLogger IoT Connecting USB"></a></td>
    </tr>
  </table>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>What's going on here?!? This tutorial was updated for firmware version <strong>01.01.00</strong>!!! You will notice this menu option has changed to <kbd>17</kbd> !!!</p>
</div>
<p>Open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to  <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>17</kbd> to enter the System Update Menu. Finally, type <kbd>3</kbd> to update the firmware from the microSD card. You should see an image similar to the output below.</p>
<div style="text-align: center">
  <a href="../assets/act_sysfirm_up_sel.png">
  <img src="../assets/act_sysfirm_up_sel.png" width="600" height="600" alt="Firmware Files"></a>
</div>

<p>The system will search the root directory of the on-board SD card for available firmware files. The firmware files are selected using the following criteria:</p>
<ul>
<li>The file is contained in the root "<strong>/</strong>" folder of the SD card.</li>
<li>The filename has a "<strong>.bin</strong>" extension.</li>
<li>The filename starts with a specified name <strong><em>prefix</em></strong>. The prefix is optional and is set by the developers at SparkFun using this action.<ul>
<li>For example, the DataLogger IoT boards use a prefix value of "<strong>SparkFun_DataLoggerIoT_</strong>".</li>
</ul>
</li>
</ul>
<p>Once a file is selected, the system new firmware is read off the SD card and written to the device.</p>
<div style="text-align: center">
  <a href="../assets/act_sysfirm_updating.png">
  <img src="../assets/act_sysfirm_updating.png" width="600" height="600" alt="Updating"></a>
</div>

<p>And once updated, the system is rebooted and starts using the new firmware image!</p>
<div style="text-align: center">
  <a href="../assets/act_sysfirm_up-boot.png">
  <img src="../assets/act_sysfirm_up-boot.png" width="600" height="600" alt="Reboot"></a>
</div>

<h2 id="firmware-update-over-the-air-ota">Firmware Update - Over-the-Air (OTA)<a class="headerlink" href="#firmware-update-over-the-air-ota" title="Permanent link"></a></h2>
<p>This action enables the ability to update the onboard firmware to an image file contained on an update server, which is accessed via the WiFi network the system is connected to. This Over-The-Air (OTA) capability contacts the systems update server and searches for newer firmware (later version) for the specific board.</p>
<p>This option is available on ESP32 devices that contained two update firmware (OTA type) partitions within the on-board device flash memory. Consult the specific products production and build system for further details.</p>
<p>If you have not already, connect the DataLogger IoT to your computer using a USB cable.</p>
<div style="text-align: center">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_USB.jpg"><img src="../assets/DataLogger_IoT_USB.jpg" width="1000" height="667" alt="DataLogger IoT Connecting USB"></a></td>
 <tr>
</table>
</div>

<p>Open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to  <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>16</kbd> to enter the System Update Menu. Finally, type <kbd>4</kbd> to update the firmware over-the-air.</p>
<div style="text-align: center"><a href="../assets/SparkFun_Datalogger_IoT_System_Restart_Factory_Restore_Update_Firmware.JPG"><img src="../assets/SparkFun_Datalogger_IoT_System_Restart_Factory_Restore_Update_Firmware.JPG" width="600" height="600" alt="System Update Menu Options"></a>
</div>

<p>When this option is selected, the system will contact the update server and search for available upgrade firmware, selecting the latest version available. If a newer version is found, a prompt is presented to confirm the upgrade.</p>
<div style="text-align: center">
  <a href="../assets/DataLogger_IoT_OTA_Update_1.PNG">
  <img src="../assets/DataLogger_IoT_OTA_Update_1.PNG" width="600" height="600" alt="Select OTA Update"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the upgrade option to occur, a the system must be connected to a network and have access to the firmware OTA server.</p>
</div>
<p>Typing <kbd>Y</kbd> (or hitting enter) starts the update operation. As the firmware is downloaded, the percent complete status is updated. If connectivity fails during the download, the operation is halted and the update aborted.</p>
<div style="text-align: center">
  <a href="../assets/DataLogger_IoT_OTA_Update_2.PNG">
  <img src="../assets/DataLogger_IoT_OTA_Update_2.PNG" width="600" height="600" alt="OTA Update Downloading"></a>
</div>

<p>Once the update file is downloaded, it is verified as being the correct file. Once verified, the system is rebooted and starts using the new firmware image! You will notice the firmware version change as the DataLogger IoT initializes.</p>
<div style="text-align: center">
  <a href="../assets/DataLogger_IoT_OTA_Update_3.PNG">
  <img src="../assets/DataLogger_IoT_OTA_Update_3.PNG" width="600" height="600" alt="Updated OTA and Rebooted"></a>
</div>

<h1 id="example-mqtt">Example - MQTT<a class="headerlink" href="#example-mqtt" title="Permanent link"></a></h1>
<h2 id="connecting-and-publishing-data-to-mqtt">Connecting and Publishing Data to MQTT<a class="headerlink" href="#connecting-and-publishing-data-to-mqtt" title="Permanent link"></a></h2>
<p>One of the key features of the DataLogger IoT is it's simplified access to IoT service providers and servers. This document outlines how output from a DataLogger device is sent to an MQTT Broker.</p>
<div style="text-align: center">
  <a href="https://mqtt.org/"><img src="../assets/MQTT_Logo.png" width="300" length="300" alt="MQTT Logo"></a>
  <br />
  <i>Image Courtesy of <a href="https://mqtt.org/">MQTT</a></i>
</div>

<p>The following is covered by this document:</p>
<ul>
<li>Overview of the MQTT connection</li>
<li>How a user configures and uses the MQTT connection</li>
<li>MQTT examples</li>
</ul>
<h2 id="general-operation">General Operation<a class="headerlink" href="#general-operation" title="Permanent link"></a></h2>
<p>MQTT connectivity allows data generated by the DataLogger IoT to be published to an MQTT Broker under a user configured topic. MQTT is an extremely flexible and low overhead data protocol that is widely used in the IoT field.</p>
<p>The general use pattern for MQTT is that data is <em>published</em> to a <em>topic</em> on a MQTT broker. The data is then sent to any MQTT client that has subscribed to the specified <em>topic</em>.</p>
<div style="text-align: center">
  <a href="../assets/iot_mqtt_overview.png"><img src="../assets/iot_mqtt_overview.png" width="1000" height="667" alt="MQTT Overview"></a>
</div>

<p>The DataLogger IoT supports MQTT connections, allowing an end user to enter the parameters for the particular MQTT Broker for the application to publish data to. When the application outputs data to the broker, the DataLogger IoT publishes the available information to the specified "topic" with the payload that is a JSON document.</p>
<h3 id="data-structure">Data Structure<a class="headerlink" href="#data-structure" title="Permanent link"></a></h3>
<p>Data is published to the MQTT broker as a JSON object, which contains a collection of sub-objects. Each sub-object represents a data source in the sensor, and contains the current readings from that source.</p>
<p>The following is an example of the data posted - note, this representation was "pretty printed" for readability.</p>
<div class="highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nt">&quot;MAX17048&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="nt">&quot;Voltage (V)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">4.304999828</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="nt">&quot;State Of Charge (%)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">115.0625</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="nt">&quot;Change Rate (%/hr)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">  </span><span class="nt">&quot;CCS811&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="nt">&quot;CO2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">620</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="nt">&quot;VOC&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">  </span><span class="nt">&quot;BME280&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span><span class="nt">&quot;Humidity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">25.03613281</span><span class="p">,</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span><span class="nt">&quot;TemperatureF&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">79.64599609</span><span class="p">,</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="nt">&quot;TemperatureC&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">26.46999931</span><span class="p">,</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">    </span><span class="nt">&quot;Pressure&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">85280.23438</span><span class="p">,</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">    </span><span class="nt">&quot;AltitudeM&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1430.44104</span><span class="p">,</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">    </span><span class="nt">&quot;AltitudeF&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">4693.04834</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">  </span><span class="nt">&quot;ISM330&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">    </span><span class="nt">&quot;Accel X (milli-g)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-53.31399918</span><span class="p">,</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">    </span><span class="nt">&quot;Accel Y (milli-g)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-34.03800201</span><span class="p">,</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">    </span><span class="nt">&quot;Accel Z (milli-g)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1017.236023</span><span class="p">,</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="w">    </span><span class="nt">&quot;Gyro X (milli-dps)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">542.5</span><span class="p">,</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">    </span><span class="nt">&quot;Gyro Y (milli-dps)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1120</span><span class="p">,</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="w">    </span><span class="nt">&quot;Gyro Z (milli-dps)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">262.5</span><span class="p">,</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">    </span><span class="nt">&quot;Temperature (C)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="w">  </span><span class="nt">&quot;MMC5983&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="w">    </span><span class="nt">&quot;X Field (Gauss)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.200622559</span><span class="p">,</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="w">    </span><span class="nt">&quot;Y Field (Gauss)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.076416016</span><span class="p">,</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="w">    </span><span class="nt">&quot;Z Field (Gauss)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.447570801</span><span class="p">,</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="w">    </span><span class="nt">&quot;Temperature (C)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="mqtt-broker-connection-setup">MQTT Broker Connection Setup<a class="headerlink" href="#mqtt-broker-connection-setup" title="Permanent link"></a></h2>
<p>To connect to a MQTT Broker, the following information is needed:</p>
<ul>
<li>The server name/address</li>
<li>The server port</li>
<li>The topic to post to</li>
<li>[<em>optional</em>] The name of the device/Client name publishing the data</li>
<li>[<em>optional</em>] A username - if required</li>
<li>[<em>optional</em>] A password - if required</li>
</ul>
<p>These values are set using the standard DataLogger methods - the interactive menu system, or a JSON file.</p>
<h3 id="mqtt-menu-system">MQTT Menu System<a class="headerlink" href="#mqtt-menu-system" title="Permanent link"></a></h3>
<p>We'll need to adjust the settings for the MQTT Client using the MQTT Menu System.</p>
<p>For users that are interested in using the menu system, open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to  <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>.  Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>9</kbd> to enter the MQTT Client Menu. When the menu system for the MQTT connection is presented, the following options are displayed:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_MQTT_Client_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_MQTT_Client_Menu.JPG" width="600" height="600"  alt="MQTT Menu"></a>
</div>

<p>The options are:</p>
<ul>
<li>Enable/Disable the connection</li>
<li>Broker Port - The standard port for mqtt is 1883</li>
<li>Broker Server - This is just the name of the server</li>
<li>MQTT Topic - A string</li>
<li>Client Name</li>
<li>Username</li>
<li>Password</li>
<li>Buffer Size</li>
</ul>
<p>At a minimum, the Broker Port, Broker Server Name, and MQTT Topic need to be set. What parameters are required depends on the settings of the broker being used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a secure connection is being used with the MQTT broker, use the <code>MQTT Secure Client</code> option of the DataLogger IoT. This option supports secure connectivity.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>Buffer Size</code> option is <strong>dynamic</strong> by default, adapting to the size of the payload being sent. If runtime memory is a concern, set this value to a static size that supports the device operation.</p>
</div>
<p>Once all these values are set, the system will publish data to the specified MQTT Broker, following the JSON information structure noted earlier in this document.</p>
<h3 id="json-file-entries">JSON File Entries<a class="headerlink" href="#json-file-entries" title="Permanent link"></a></h3>
<p>If a JSON file is being used as an option to import settings into the DataLogger IoT, the following entries are used for the MQTT IoT connection:</p>
<div class="highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nt">&quot;MQTT Client&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1883</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="nt">&quot;Server&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my-mqttserver.com&quot;</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="nt">&quot;MQTT Topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/sparkfun/datalogger1&quot;</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="nt">&quot;Client Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mysensor system&quot;</span><span class="p">,</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">    </span><span class="nt">&quot;Buffer Size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="nt">&quot;Username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="nt">&quot;Password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">  </span><span class="p">},</span>
</span></code></pre></div>
<p>Where:</p>
<ul>
<li><code>Enabled</code> - Set to <code>true</code> to enable the connection.</li>
<li><code>Port</code> - Set to the broker port.</li>
<li><code>Server</code> - The MQTT broker server.</li>
<li><code>MQTT Topic</code> - The topic to publish to.</li>
<li><code>Client Name</code> - Optional client name.</li>
<li><code>Buffer Size</code> - Internal transfer buffer size.</li>
<li><code>Username</code> - Broker user name if being used.</li>
<li><code>Password</code> - Broker password if being used.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To load the values by the system at startup using a JSON file and microSD card, you will need to <a href="../configuration#general-save-settings">configure the Save Settings</a>. This JSON file will be created with the "<strong>Save to Fallback</strong>" option. Make sure to enable the MQTT Client as well.</p>
</div>
<h2 id="testing-the-mqtt-connection">Testing the MQTT Connection<a class="headerlink" href="#testing-the-mqtt-connection" title="Permanent link"></a></h2>
<p>Use of a MQTT connection is fairly straightforward - just requiring the entry of broker details into the connection settings.</p>
<p>To test the connection, you need a MQTT broker available. A quick method to setup a broker is by installing the <code>mosquitto</code> package on a Raspberry Pi computer. Our basic <a href="https://learn.sparkfun.com/tutorials/introduction-to-mqtt">MQTT Tutorial</a> provides some basic setup for a broker.</p>
<div style="text-align: center">
  <table>
    <tr>
     <td style="text-align: center; vertical-align: middle;">
     <div style="text-align: center"><a href="https://learn.sparkfun.com/tutorials/introduction-to-mqtt"><img src="https://cdn.sparkfun.com/assets/learn_tutorials/8/2/7/mqtt-explanation2.png" alt="Introduction to MQTT" title="Introduction to MQTT"></a>
     </div>
    </td>
    </tr>
    <tr>
      <td style="text-align: center; vertical-align: middle;"><div style="text-align: left"><b><a href="https://learn.sparkfun.com/tutorials/introduction-to-mqtt">Introduction to MQTT</a></b></div></td>
    </tr>
  </table>
</div>

<p><a href="https://randomnerdtutorials.com/how-to-install-mosquitto-broker-on-raspberry-pi/">This MQTT Broker Tutorial</a> has more details, covering the setup needed for modern mosquitto configurations.</p>
<div style="text-align: center"><a href="https://randomnerdtutorials.com/how-to-install-mosquitto-broker-on-raspberry-pi/" target="mosquitto_broker" class="md-button">Random Nerd Tutorials: Install Mosquitto Broker on Raspberry Pi</a></div>

<p>And once the broker is setup, the messages published by the IoT sensor are visible using the <code>mosquitto_sub</code> command as outlined. For example, to view messages posted to a the topic "/sparkfun/datalogger1", the following command is used:</p>
<div class="highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>mosquitto_sub<span class="w"> </span>-t<span class="w"> </span><span class="s2">&quot;/sparkfun/datalogger1&quot;</span>
</span></code></pre></div>
<p>This assumes the MQTT broker is running on the same machine, and using the default port number.</p>
<h1 id="example-aws">Example - AWS<a class="headerlink" href="#example-aws" title="Permanent link"></a></h1>
<h1 id="creating-and-connecting-to-an-aws-iot-device-thing">Creating and Connecting to an AWS IoT Device (Thing)<a class="headerlink" href="#creating-and-connecting-to-an-aws-iot-device-thing" title="Permanent link"></a></h1>
<p>One of the key features of the DataLogger IoT is it's simplified access to IoT service providers. This document outlines how an AWS IoT device is used by the DataLogger IoT.</p>
<div style="text-align: center">
    <a href="https://aws.amazon.com/iot-core/"><img src="https://d0.awsstatic.com/logos/powered-by-aws.png" width="200" length="200" alt="Powered by AWS IoT"></a>
    <br />
    <i>Image Courtesy of <a href="https://aws.amazon.com/iot-core/">Amazon Web Services (AWS)</a></i>
</div>

<p>The following is covered by this document:</p>
<ul>
<li>Device (Thing) creation in AWS</li>
<li>Securely connecting the device</li>
<li>How data is posted from the DataLogger IoT to the AWS Device via it's Shadow</li>
</ul>
<p>Currently, the AWS IoT device connection is a single direction - used to post data from the hardware to the IoT AWS Device via the AWS IoT devices <strong>shadow</strong>. Configuration information from AWS IoT to the DataLogger IoT is currently not implemented.</p>
<h2 id="general-operation_1">General Operation<a class="headerlink" href="#general-operation_1" title="Permanent link"></a></h2>
<p>AWS IoT enables connectivity between an IoT / Edge device and the AWS Cloud Platform, implementing secure endpoints and device models within the AWs infrastructure. This infrastructure allows edge devices to post updates, status and state to the AWS infrastructure for analytics, monitoring and reporting.</p>
<p>In AWS IoT, an virtual representation of an actual device is created and referred to as a <em>Thing</em>. The virtual device/Thing is allocated a connection endpoint, security certificates and a device <strong>shadow</strong> - a JSON document used to persist, communicate and manage device state within AWS.</p>
<p>The actual IoT device communicates with it's AWS representation via a secure MQTT connection, posting JSON document payloads to a set of pre-defined topics. Updates are posted to the AWS IoT device <strong>shadow</strong>, which is then accessed within AWS for further process as defined by the users particular cloud implementation.</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_overview.png"><img src="../assets/iot_aws_overview.png" width="1000" height="667" alt="MQTT Menu"></a>
</div>

<h2 id="creating-a-device-in-aws-iot">Creating a Device in AWS IoT<a class="headerlink" href="#creating-a-device-in-aws-iot" title="Permanent link"></a></h2>
<p>The following discussion outlines the basic steps taken to create a Thing in AWS IoT that the DataLogger IoT can connect to. First step is to log into your AWS account and create a thing.</p>
<div style="text-align: center"><a href="https://aws.amazon.com/iot-core/" target="aws_iot_core" class="md-button">Click Here to Log into AWS</a></div>

<p>Once logged into your AWS account, select <strong>IoT Core</strong> from the menu of services.</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_iot_core.png"><img src="../assets/iot_aws_iot_core.png" width="600" height="600" alt="AWS IoT Core"></a>
</div>

<p>From the IoT Core console page, under the <strong>Manage</strong> section, select <strong>All Devices &gt; Things</strong>  </p>
<p>On the resultant Things Page, select the <strong>Create Things</strong> button.</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_thing_create.png"><img src="../assets/iot_aws_thing_create.png" width="600" height="600" alt="AWS IoT Thing Create"></a>
</div>

<p>AWS IoT will then take you through the steps to create a device. Selections made for a demo Thing are:</p>
<ul>
<li>Create single thing</li>
<li>Thing Properties</li>
<li>Enter a name for your thing - for this example <strong><em>TestThing23</em></strong></li>
<li>Device Shadow - select <strong><em>Unnamed shadow (classic)</em></strong></li>
<li>Auto-generate a new certificate</li>
<li>Attach policies to certificate - This is discussed later in this document</li>
<li>Select <strong>Create thing</strong></li>
</ul>
<p>Upon creation, AWS IoT presents you with a list of downloadable certificates and keys. Some of these are only available at this step. The best option is to download everything presented - three of these are used by the DataLogger IoT. The following should be downloaded:</p>
<ul>
<li>Device Certificate</li>
<li>Public Key File</li>
<li>Private Key File</li>
<li>Root CA certificates - (for example:  Amazon Root CA 1 )</li>
</ul>
<p>At this point, the new AWS IoT thing is created and listed on the AWS IoT Things Console</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_thing_list.png"><img src="../assets/iot_aws_thing_list.png" width="600" height="600" alt="New Thing Listed"></a>
</div>

<h3 id="security-policy">Security Policy<a class="headerlink" href="#security-policy" title="Permanent link"></a></h3>
<p>To write to the IoT device, a security policy that enables this is needed, and the policy needs to be assigned to the devices certificate.</p>
<p>To create a Policy, select the <strong><em>Manage &gt; Security &gt; Policies</em></strong> menu item from the left side menu of the AWS IoT panel. Once on this page, select the <strong>Create policy</strong> button to create a new policy.</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_thing_policy.png"><img src="../assets/iot_aws_thing_policy.png" width="600" height="600" alt="New Policy"></a>
</div>

<p>When entering the policy, provide a name that fits your need. For this example, the name <strong>NewThing23Policy</strong> is used. For the Policy document, you can manually enter the security entires, or enter them as a JSON document. The JSON document used for this example is:</p>
<div class="highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="p">{</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2012-10-17&quot;</span><span class="p">,</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="nt">&quot;Statement&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iot:Connect&quot;</span><span class="p">,</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iot:Subscribe&quot;</span><span class="p">,</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iot:Receive&quot;</span><span class="p">,</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iot:Publish&quot;</span><span class="p">,</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iot:GetThingShadow&quot;</span><span class="p">,</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;iot:UpdateThingShadow&quot;</span><span class="p">,</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">  </span><span class="p">]</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="p">}</span>
</span></code></pre></div>
<div style="text-align: center">
  <a href="../assets/iot_aws_thing_create_policy.png"><img src="../assets/iot_aws_thing_create_policy.png" width="600" height="600" alt="Create Policy"></a>
</div>

<p>Once the policy is created, go back to the IoT Device/Thing created above and associate this policy to the device Certificate.</p>
<ul>
<li>Go to your device <strong><em>Manage &gt; All devices &gt; Things</em></strong></li>
<li>Select the device - <strong><em>TestThing23</em></strong> for this example</li>
<li>Select the <strong><em>Certificates</em></strong> tab</li>
<li>Select the listed Certificate (it's a very long hex number)</li>
<li>At the bottom right of the page, select the <strong><em>Attach policies</em></strong> button and select the Policy created above.</li>
</ul>
<div style="text-align: center">
  <a href="../assets/iot_aws_iot_attach_policy.png"><img src="../assets/iot_aws_iot_attach_policy.png" width="600" height="600" alt="Attach Policy"></a>
</div>

<p>At this point, AWS IoT is ready for a device to connect and receive data.</p>
<h2 id="aws-configuration">AWS Configuration<a class="headerlink" href="#aws-configuration" title="Permanent link"></a></h2>
<p>The specifics for the AWS IoT Thing must be configured. This includes the following:</p>
<ul>
<li>Server name/host</li>
<li>MQTT topic to update</li>
<li>Client Name - The AWS IoT Thing Name</li>
<li>CA Certificate Chain</li>
<li>Client Certificate</li>
<li>Client Key</li>
</ul>
<h3 id="server-namehostname">Server Name/Hostname<a class="headerlink" href="#server-namehostname" title="Permanent link"></a></h3>
<p>This value is obtained from the AWS IoT Device page for the created device. When on this page, select the <strong><em>Device Shadows</em></strong> tab, and then select the <strong><em>Classic Shadow</em></strong> shadow, which is listed. Note a secure connection is used, so the port for the connection is <code>8883</code>.</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_iot_dev_attr.png"><img src="../assets/iot_aws_iot_dev_attr.png" width="600" height="600" alt="Shadow Details"></a>
</div>

<p>Selecting the <strong><em>Classic Shadow</em></strong> entry provides the Server Name/Hostname for the device, as well as the MQTT topic for this device.</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_iot_shadow_details.png"><img src="../assets/iot_aws_iot_shadow_details.png" width="600" height="600" alt="Shadow Details"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The server name is obtained from the Device Shadow URL entry</p>
</div>
<h3 id="mqtt-topic">MQTT Topic<a class="headerlink" href="#mqtt-topic" title="Permanent link"></a></h3>
<p>The MQTT topic value is based uses the <strong><em>MQTT topic prefix</em></strong> from above, and has the value <strong><em>update</em></strong> added to it. So for this example, the MQTT topic is:</p>
<div class="highlight"><pre><span></span><code>$aws/things/TestThing23/shadow/update
</code></pre></div>
<h3 id="client-name">Client Name<a class="headerlink" href="#client-name" title="Permanent link"></a></h3>
<p>This is the AWS IoT name of the thing. For the provided example, the value is <strong><em>TestThing23</em></strong></p>
<h3 id="ca-certificate-chain">CA Certificate Chain<a class="headerlink" href="#ca-certificate-chain" title="Permanent link"></a></h3>
<p>This value was downloaded as a file during the creation process. The contents of this file can be passed on to the DataLogger IoT by copying the file containing the data onto a devices SD Card and setting the filename property for the DataLogger IoT.</p>
<h3 id="client-certificate">Client Certificate<a class="headerlink" href="#client-certificate" title="Permanent link"></a></h3>
<p>This value was downloaded as a file during the creation process. The contents of this file can be passed on to the DataLogger IoT by copying the file containing the data onto a devices SD Card and setting the filename property for the DataLogger IoT.</p>
<h3 id="client-key">Client Key<a class="headerlink" href="#client-key" title="Permanent link"></a></h3>
<p>This value was downloaded as a file during the creation process. The contents of this file can be passed on to the DataLogger IoT by copying the file containing the data onto a devices SD Card and setting the filename property for the DataLogger IoT.</p>
<h2 id="setting-properties">Setting Properties<a class="headerlink" href="#setting-properties" title="Permanent link"></a></h2>
<p>The above property values must be set on the DataLogger before use. They can be set manually by using the menu system like the previous MQTT example.</p>
<p>For users that are interested in using the menu system, you will need to open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>11</kbd> to enter the AWS IoT Menu. When the menu system for the AWS IoT connection is presented, you will need to configure the property values as listed in the JSON file. Saving the values through the menu system will save the credentials to the ESP32's persistent memory. The following options are displayed:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_AWS_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_AWS_Menu.JPG" width="600" height="600"  alt="AWS IoT Menu"></a>
</div>

<p>The alternative to using the menu system is a JSON file. These values can be set using a JSON file that is loaded by the system at startup. For the DataLogger IoT example outlined in this document, the entries in the settings JSON file are as follows:</p>
<div class="highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">&quot;AWS IoT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8883</span><span class="p">,</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="nt">&quot;Server&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;avgpd2wdr5s6u-ats.iot.us-east-1.amazonaws.com&quot;</span><span class="p">,</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="nt">&quot;MQTT Topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$aws/things/TestThing23/shadow/update&quot;</span><span class="p">,</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="nt">&quot;Client Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TestThing23&quot;</span><span class="p">,</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="nt">&quot;Buffer Size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="nt">&quot;Username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="nt">&quot;Password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span><span class="nt">&quot;CA Certificate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span><span class="nt">&quot;Client Certificate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="nt">&quot;Client Key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">    </span><span class="nt">&quot;CA Cert Filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AmazonRootCA1.pem&quot;</span><span class="p">,</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">    </span><span class="nt">&quot;Client Cert Filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TestThing23_DevCert.crt&quot;</span><span class="p">,</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">    </span><span class="nt">&quot;Client Key Filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TestThing23_Private.key&quot;</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">  </span><span class="p">},</span>
</span></code></pre></div>
<p>Besides updating the <code>Server</code>, <code>MQTT Topic</code>, <code>Client Name</code>, <code>CA Cert Filename</code>, <code>Client Cert Filename</code>, and <code>Client Key Filename</code>, you will need to also ensure that the <code>port</code> is set to <code>8883</code>. The default in previous firmware versions was <code>1883</code>. As of firmware v01.00.04, the default is <code>8883</code>. You will need to adjust the port value to properly connect to the <a href="https://aws.amazon.com/about-aws/whats-new/2018/02/aws-iot-core-now-supports-mqtt-connections-with-certificate-based-client-authentication-on-port-443/">AWS IoT service</a>. Don't forget to enable AWS IoT service by setting the value to <code>true</code>. If the JSON file is saved in the microSD card, you can load the credentials to the DataLogger IoT. </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To load the values by the system at startup using a JSON file and microSD card, you will need to <a href="../configuration#general-save-settings">configure the Save Settings</a>. This JSON file will be created with the "<strong>Save to Fallback</strong>" option. Make sure to enable the AWS IoT as well.</p>
</div>
<h2 id="operation">Operation<a class="headerlink" href="#operation" title="Permanent link"></a></h2>
<p>Once the device is configured and running, updates in AWS IoT are listed in the <strong><em>Activity</em></strong> tab of the devices page. For the test device in this document, this page looks like:</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_iot_shadow_updates.png"><img src="../assets/iot_aws_iot_shadow_updates.png" width="600" height="600" alt="Shadow Activity"></a>
</div>

<p>Opening up an update, you can see the data being set to AWS IoT in a JSON format.</p>
<div style="text-align: center">
  <a href="../assets/iot_aws_iot_shadow_data.png"><img src="../assets/iot_aws_iot_shadow_data.png" width="600" height="600" alt="Shadow Data"></a>
</div>

<h1 id="example-thingspeak">Example - ThingSpeak<a class="headerlink" href="#example-thingspeak" title="Permanent link"></a></h1>
<h1 id="creating-and-connecting-to-thingspeak">Creating and Connecting to ThingSpeak<a class="headerlink" href="#creating-and-connecting-to-thingspeak" title="Permanent link"></a></h1>
<p>One of the key features of the DataLogger IoT is it's simplified access to IoT service providers. This document outlines how a ThinkSpeak output is used by the DataLogger IoT.</p>
<div style="text-align: center">
  <a href="https://thingspeak.com/"><img src="../assets/thingspeak_logo.png" width="300" length="300" alt="ThingSpeak Logo"></a>
  <br />
  <i>Image Courtesy of <a href="https://thingspeak.com/">ThingSpeak</a></i>
</div>

<p>The following is covered by this document:</p>
<ul>
<li>Creating a ThingSpeak Channel and MQTT Connection</li>
<li>Securely connecting the ThingSpeak</li>
<li>How data is posted from the DataLogger IoT to ThingSpeak</li>
</ul>
<h2 id="general-operation_2">General Operation<a class="headerlink" href="#general-operation_2" title="Permanent link"></a></h2>
<h3 id="thingspeak-structure">ThingSpeak Structure<a class="headerlink" href="#thingspeak-structure" title="Permanent link"></a></h3>
<p>The structure of ThingSpeak is based off of the concept of <strong><em>Channels</em></strong>, with each channel supporting up to eight fields for data specific to the data source. Each channel is named, and has a unique ID associated with it.  One what to think of it is that a Channel is a grouping of associated data values or fields.</p>
<p>The fields of a channel are enumerated as <strong><em>Field1, Field2, ..., Field8</em></strong>, but each field can be named to simplify data access and understanding.</p>
<p>As data is reported to a ThingSpeak channel, the field values are accessible for further processing or visualization output.</p>
<h3 id="data-structure_1">Data Structure<a class="headerlink" href="#data-structure_1" title="Permanent link"></a></h3>
<p>The DataLogger IoT is constructed around the concept of <strong><em>Devices</em></strong> which are often a type of sensor that can output a set of data values per observation or sample.</p>
<h3 id="mapping-data-to-thingspeak">Mapping Data to ThingSpeak<a class="headerlink" href="#mapping-data-to-thingspeak" title="Permanent link"></a></h3>
<p>The concept of Channels that contain Fields in ThingSpeak is similar to the Devices that contain Data within the DataLogger IoT, and this similarity is the mapping model used by the DataLogger IoT. Specifically:</p>
<ul>
<li><strong>Devices == Channels</strong></li>
<li><strong>Data == Fields</strong></li>
</ul>
<div style="text-align: center">
  <a href="../assets/iot_ts_mapping.png"><img src="../assets/iot_ts_mapping.png"  width="1000" height="667" alt="DataLogger to ThingSpeak Mapping"></a>
</div>

<p>During configuration of the DataLogger IoT, the mapping between the Device and ThingSpeak channel is specified. The data to field mapping is automatically created by the DataLogger IoT following the data reporting order from the specific device driver.</p>
<h2 id="creating-a-device-to-a-thingspeak-channel">Creating a Device to a ThingSpeak Channel<a class="headerlink" href="#creating-a-device-to-a-thingspeak-channel" title="Permanent link"></a></h2>
<p>The following discussion outlines the basic steps taken to create a Channel in ThingSpeak and then connect it to the DataLogger's Device. First step is to log into your <a href="https://thingspeak.com/">ThingSpeak</a> and create a Channel.</p>
<div style="text-align: center"><a href="https://thingspeak.com/" target="thingspeak" class="md-button">Click Here to Log into ThingSpeak</a></div>

<p>Once logged into your ThingSpeak account, select <strong><em>Channels &gt; My Channels</em></strong> menu item and on the <strong>My Channel</strong> page, select the <strong>New Channel</strong> button.</p>
<div style="text-align: center">
  <a href="../assets/iot_ts_channel.png"><img src="../assets/iot_ts_channel.png"  width="600" height="600" alt="New Channel"></a>
</div>

<p>On the presented channel page, name the channel and fill in the specific channel fields. The fields should map to the data fields reported from the Device being linked to this channel. Order is important, and is determined by looking at output of a device to the serial device (or reviewing the device driver code).</p>
<div style="text-align: center">
  <a href="../assets/iot_ts_new_channel.png"><img src="../assets/iot_ts_new_channel.png" width="600" height="600" alt="New Channel"></a>
</div>

<p>Once the values are entered, select <strong>Save Channel</strong>. ThingSpeak will now show list of <strong>Channel Stats</strong>, made up of line plots for each field specified for the channel.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Key note - at the top of this page is listed the <strong>Channel ID</strong>. Note this number - it is used to map a Device to a ThingSpeak Channel.</p>
</div>
<h2 id="setting-up-thingspeak-mqtt">Setting Up ThingSpeak MQTT<a class="headerlink" href="#setting-up-thingspeak-mqtt" title="Permanent link"></a></h2>
<p>The DataLogger IoT uses MQTT to post data to a channel. From the ThingSpeak menu, select <strong><em>Devices &gt; MQTT</em></strong>, which displays a list of your MQTT devices. From this page, select the <strong>Add a new device</strong> button.</p>
<p>On the presented dialog, enter a name for the MQTT connection and in the <strong>Authorize channels to access</strong>, select the channel created earlier. Once you select a channel, click the <strong>Add Channel</strong> button.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More channels can be added later.</p>
</div>
<div style="text-align: center">
  <a href="../assets/iot_ts_mqtt.png"><img src="../assets/iot_ts_mqtt.png" width="600" height="600" alt="MQTT on ThingSpeak"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the MQTT device is created, a set of credentials (Client ID, Username, and Password) is provided. <strong>Copy or download</strong> these values, since the password in not accessible after this step.</p>
</div>
<p>The selected Channel is then listed in the <strong>Authorized Channel</strong> table. Ensure that the Allow Publish and Allow Subscribe attributes are enabled for the added channel.</p>
<div style="text-align: center">
  <a href="../assets/iot_ts_mqtt_channel_auth.png"><img src="../assets/iot_ts_mqtt_channel_auth.png" width="600" height="600" alt="MQTT Channel Authorization on ThingSpeak"></a>
</div>

<p>At this point, the ThingSpeak Channel is setup for access by the DataLogger IoT.</p>
<h2 id="thingspeak-configuration">ThingSpeak Configuration<a class="headerlink" href="#thingspeak-configuration" title="Permanent link"></a></h2>
<p>Once the device is integrated into the application, the specifics for the ThingSpeak Channel(s) must be configured. This includes the following:</p>
<ul>
<li>Server Name/Hostname</li>
<li>Client Name</li>
<li>User Name</li>
<li>Password</li>
<li>Device to Channel mapping</li>
<li>CA Certificate Chain</li>
</ul>
<h3 id="server-namehostname_1">Server Name/Hostname<a class="headerlink" href="#server-namehostname_1" title="Permanent link"></a></h3>
<p>This value is hostname of the ThingSpeak mqtt connection, which is <strong>mqtt3.thingspeak.com</strong> as note at <a href="https://www.mathworks.com/help/thingspeak/mqtt-basics.html">ThingSpeakMQTT Basics</a> page. Note a secure connection is used, so the port for the connection is <code>8883</code>.</p>
<h3 id="client-nameid">Client Name/ID<a class="headerlink" href="#client-nameid" title="Permanent link"></a></h3>
<p>The Client Name/ID is found under MQTT connection details listed in the <strong><em>Devices &gt; MQTT</em></strong> section of ThingSpeak.</p>
<h3 id="username">Username<a class="headerlink" href="#username" title="Permanent link"></a></h3>
<p>The Username is found under MQTT connection details listed in the <strong><em>Devices &gt; MQTT</em></strong> section of ThingSpeak.</p>
<h3 id="password">Password<a class="headerlink" href="#password" title="Permanent link"></a></h3>
<p>The connection password was provided when the MQTT device was created. If you lost this value, you can regenerate a password on the MQTT Device information page.</p>
<h3 id="certificate-file">Certificate File<a class="headerlink" href="#certificate-file" title="Permanent link"></a></h3>
<p>You can download the cert file for ThingSpeak.com page using a web-browser. Click on the security details of this page, and navigate the dialog (browser dependent) to download the certificate. The downloaded file is the made available for the DataLogger IoT to use as a file that is loaded at runtime)</p>
<h2 id="setting-properties_1">Setting Properties<a class="headerlink" href="#setting-properties_1" title="Permanent link"></a></h2>
<p>The above property values must be set on the DataLogger IoT before use. They can be manually by using the menu system like the previous MQTT example.</p>
<p>For users that are interested in using the menu system, you will need to open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>12</kbd> to enter the ThingSpeak MQTT Menu. When the menu system for the ThingSpeak MQTT connection is presented, you will need to configure the property values as listed in the JSON file.  Saving the values through the menu system will save the credentials to the ESP32's persistent memory. The following options are displayed:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_ThingSpeak_MQTT_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_ThingSpeak_MQTT_Menu.JPG" width="600" height="600"  alt="ThingSpeak MQTT Menu"></a>
</div>

<p>The alternative to using the menu system is a JSON file. These values can be set using a JSON file that is loaded by the system at startup. For the ThingSpeak example outlined in this document, the entries in the settings JSON file are as follows:</p>
<div class="highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nt">&quot;ThingSpeak MQTT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8883</span><span class="p">,</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="nt">&quot;Server&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mqtt3.thingspeak.com&quot;</span><span class="p">,</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="nt">&quot;MQTT Topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="nt">&quot;Client Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Client_ID&quot;</span><span class="p">,</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="nt">&quot;Buffer Size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="nt">&quot;Username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Username&quot;</span><span class="p">,</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="nt">&quot;Password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Password&quot;</span><span class="p">,</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="nt">&quot;CA Cert Filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThingspeakCA.cer&quot;</span><span class="p">,</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="nt">&quot;Channels&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BME280=2054891&quot;</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">  </span><span class="p">}</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <strong>Channels</strong> value is a list of <strong>[DEVICE NAME]=[Channel ID]</strong> pairs. Each pair is separated by a comma. In this case, the device name <code>BME280</code> and the channel ID was <code>2054891</code>. Make sure to match the device name that was loaded on start up with the unique channel ID that was generated when creating a ThingSpeak Channel.</p>
</div>
<p>Besides updating the <code>Server</code>, <code>Client Name</code>, <code>Username</code>, <code>Password</code>, <code>CA Cert Filename</code>, and <code>Channels</code>, you will need to also ensure that the <code>port</code> is set to <code>8883</code>. The default in previous firmware versions was <code>1883</code>. As of firmware v01.00.04, the default is <code>8883</code>. You will need to adjust the port value to properly connect to the ThingSpeak service. Don't forget to enable ThingSpeak MQTT service by setting the value to <code>true</code>. If the JSON file is saved in the microSD card, you can load the credentials to the DataLogger IoT.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To load the values by the system at startup using a JSON file and microSD card, you will need to <a href="../configuration#general-save-settings">configure the Save Settings</a>. This JSON file will be created with the "<strong>Save to Fallback</strong>" option. Make sure to enable the ThingSpeak MQTT as well.</p>
</div>
<h2 id="monitoring-output">Monitoring Output<a class="headerlink" href="#monitoring-output" title="Permanent link"></a></h2>
<p>Once the connector is configured and the DataLogger IoT is connected to ThingSpeak, as data is posted, the results are show on the Channel Stats page for your Channel. For the above example, the output of a SparkFun BME280 sensor produces the following output:</p>
<div style="text-align: center">
  <a href="../assets/iot_ts_channel_data.png"><img src="../assets/iot_ts_channel_data.png" width="600" height="600" alt="ThingSpeak Stats"></a>
</div>

<h2 id="setting-up-2x-or-more-devices">Setting Up 2x or More Devices<a class="headerlink" href="#setting-up-2x-or-more-devices" title="Permanent link"></a></h2>
<p>For users that are setting up 2x or more devices on the DataLogger IoT, you will need to ensure that each device has their own ThingSpeak Channel. Unfortunately, you are not able to plot sensor readings from two devices in the same channel.</p>
<p>The following example demonstrates how to set up two devices for ThingSpeak on the DataLogger IoT. In this case, we will use the BME688 and BME680 and their respective default I<sup>2</sup>C address. This is also a good example of what to do when two devices use the same device driver. Head to ThingSpeak to create a channel for each device connected to the DataLogger IoT. Include a field for each device data that the DataLogger provides. The name of the channel does not need to match the device name or I<sup>2</sup>C address.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/ThingSpeak_New_Channel_BME688_0x76.JPG"><img src="../assets/ThingSpeak_New_Channel_BME688_0x76.JPG" width="600px" height="600px" alt="Creating a Channel for the BME688"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/ThingSpeak_New_Channel_BME680_0x77.JPG"><img src="../assets/ThingSpeak_New_Channel_BME680_0x77.JPG" width="600px" height="600px" alt="Creating a Channel for the BME680"></a></td>
    </tr>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>Creating a Channel for the BME688</i></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>Creating a Channel for the BME680</i></td>
    </tr>
  </table>
</div>

<p>Once the channels are created, you will be provided with a unique channel ID for each channel. Make sure to take note of the number as explained earlier.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The alternative I<sup>2</sup>C address for the BME688 and BME680 uses the same address as the default of the other sensor:</p>
<ul>
<li>BME680: <strong>0x77 (Default)</strong> or 0x76</li>
<li>BME688: <strong>0x76 (Default)</strong> or 0x77</li>
</ul>
<p>Make sure to avoid using the same address when connecting the sensors to the same DataLogger IoT.</p>
</div>
<p>When setting up the connection, you will need to authorize both channels. In this example, we included the channels for the BME688 [x076] and BME680 [x077].</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/ThingSpeak_Setting_Up_MQTT_Authorize_2x_Channels.JPG"><img src="../assets/ThingSpeak_Setting_Up_MQTT_Authorize_2x_Channels.JPG" width="600px" height="600px" alt="Authorizing 2x Channels through the Same Connection"></a></td>
    </tr>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>Authorizing 2x Channels through the Same Connection</i></td>
    </tr>
  </table>
</div>

<p>Now that the ThingSpeak MQTT connection is setup, adjust the ThingSpeak configuration for the DataLogger IoT by including the credentials (i.e. Client Name, Username, and Password) and channels. We will assume that you have included the ThingSpeak CA certificate file in the root directory of the microSD card already. When including the device name with their respective channel, ensure that the device name matches the name that was loaded on startup. For example, the BME688 and BME680 were loaded on startup as <code>BME68x</code> and <code>BME68x [x77]</code>, respectively. Since we are only interested in plotting the BME688 and BME680, we will ignore the MAX17048 that was loaded on startup as well. Under <strong>/Settings/ThingSpeak MQTT/Channels</strong>, you will enter the string for the device names, each of their respective channel IDs, and a comma separating the two channels like so: <kbd>BME68x=2613826, BME68x [x77]=2613825</kbd>.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_Device_Name_Loaded.JPG"><img src="../assets/DataLogger_IoT_Device_Name_Loaded.JPG" width="600px" height="600px" alt="DataLogger IoT Device Name Loaded during Startup"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/ThingSpeak_Same_Device_Name_Unique_Address.JPG"><img src="../assets/ThingSpeak_Same_Device_Name_Unique_Address.JPG" width="600px" height="600px" alt="Device Name and Channel for Both Sensors"></a></td>
    </tr>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT Device Name Loaded during Startup</i></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>Device Name and Channel for Both Sensors</i></td>
    </tr>
  </table>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Whenever there are multiple devices using the same device driver (each with unique I<sup>2</sup>C addresses), the DataLogger IoT will display the device address for each additional device that is loading the same driver. As shown above, the first device name did not include the device's I<sup>2</sup>C address. The second device name using the same driver included its I<sup>2</sup>C address. Of course, there is an configuration that enables you to always include the address of all the device names.</p>
</div>
<p>The alternative to using the menu system is the JSON file. In this case, we updated channels for the BME688 and BME680. Not shown are the ThingSpeak Client Name, Username, and Password.</p>
<div class="highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">&quot;ThingSpeak MQTT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8883</span><span class="p">,</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="nt">&quot;Server&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mqtt3.thingspeak.com&quot;</span><span class="p">,</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="nt">&quot;MQTT Topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="nt">&quot;Client Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Client_ID&quot;</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="nt">&quot;Buffer Size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="nt">&quot;Username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Username&quot;</span><span class="p">,</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">    </span><span class="nt">&quot;Password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Password&quot;</span><span class="p">,</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">    </span><span class="nt">&quot;CA Cert Filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThingspeakCA.cer&quot;</span><span class="p">,</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">    </span><span class="nt">&quot;Channels&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BME68x=2613826, BME68x [x77]=2613825&quot;</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">  </span><span class="p">}</span>
</span></code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If users configure the DataLogger IoT to always include the device address with the device names (i.e. <strong>/Settings/Application Settings</strong> with Device Names=1), you will need to match the device names for BME688 and BME680 that were loaded on startup as <code>BME68x [x76]</code> and <code>BME68x [x77]</code>, respectively. Note the BME688 device name included a space and <code>[x76]</code> in this case. Remember, we are only interested in plotting hte BME688 and BME680 in this case so we will ignore the MAX17048 that was loaded on startup.</p>
<p><div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/DataLogger_IoT_Device_Name_Address_Loaded.JPG"><img src="../assets/DataLogger_IoT_Device_Name_Address_Loaded.JPG" width="600px" height="600px" alt="DataLogger IoT Device Names Loaded during Startup"></a></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/ThingSpeak_Device_Name_Address.JPG"><img src="../assets/ThingSpeak_Device_Name_Address.JPG" width="600px" height="600px" alt="Device Name and Channel for Both Sensors with Respective Addresses"></a></td>
    </tr>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>DataLogger IoT Device Names Loaded during Startup</i></td>
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>Device Name and Channel for Both Sensors with Respective Addresses</i></td>
    </tr>
  </table>
</div></p>
<p>Again, the alternative to using the menu system is the JSON file. In this case, we updated channels for the BME688 and BME680. We also included the address name for the BME688 like the configuration menu. Not shown are the ThingSpeak Client Name, Username, and Password.</p>
<div class="highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nt">&quot;ThingSpeak MQTT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8883</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="nt">&quot;Server&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mqtt3.thingspeak.com&quot;</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="nt">&quot;MQTT Topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="nt">&quot;Client Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Client_ID&quot;</span><span class="p">,</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span><span class="nt">&quot;Buffer Size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">    </span><span class="nt">&quot;Username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Username&quot;</span><span class="p">,</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="nt">&quot;Password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MQTT_Device_Password&quot;</span><span class="p">,</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">    </span><span class="nt">&quot;CA Cert Filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ThingspeakCA.cer&quot;</span><span class="p">,</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">    </span><span class="nt">&quot;Channels&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BME68x [x76]=2613826, BME68x [x77]=2613825&quot;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">  </span><span class="p">}</span>
</span></code></pre></div>
</div>
<p>Save the configuration to persistent memory and exit out of the configuration menu. Wait a few seconds for the DataLogger IoT to read the sensors and output the readings to the Serial Terminal. Open ThingSpeak channels in separate browser windows. In this case, we had the BME688 and the BME680 in private view. You should see sensor readings update and plot on the charts.</p>
<div style="text-align: center;">
  <table>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><a href="../assets/ThingSpeak_Channels_Separate_Windows_BME680_BME688.JPG"><img src="../assets/ThingSpeak_Channels_Separate_Windows_BME680_BME688.JPG" width="1000px" height="1000px" alt="ThingSpeak Graphing the BME688 and BME680 in Seperate Channels on Two Browser Windows"></a></td>
    </tr>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: solid 1px #cccccc;"><i>ThingSpeak Graphing the BME688 and BME680 in Seperate Channels on Two Browser Windows</i></td>
    </tr>
  </table>
</div>

<h1 id="example-azure">Example - Azure<a class="headerlink" href="#example-azure" title="Permanent link"></a></h1>
<h1 id="creating-and-connecting-to-an-azure-iot-device">Creating and Connecting to an Azure IoT Device<a class="headerlink" href="#creating-and-connecting-to-an-azure-iot-device" title="Permanent link"></a></h1>
<p>One of the key features of the DataLogger IoT is it's simplified access to IoT service providers. This document outlines how an Azure IoT device is used by the DataLogger IoT.</p>
<div style="text-align: center">
    <a href="https://azure.microsoft.com/en-us/"><img src="../assets/Microsoft_Azure_Logo.png" width="100" length="100" alt="Microsoft Azure Logo"></a>
    <br />
    <i>Image Courtesy of <a href="https://azure.microsoft.com/en-us/">Microsoft Azure</a></i>
</div>

<p>The following is covered by this document:</p>
<ul>
<li>Device creation Azure</li>
<li>Securely connecting the device</li>
<li>How data is posted from the DataLogger IoT to the Azure Device</li>
</ul>
<p>Currently, the Azure IoT device connection is a single direction - it is used to post data from the hardware to the Azure IoT Device. Configuration information from Azure IoT to the DataLogger IoT is currently not implemented.</p>
<h2 id="general-operation_3">General Operation<a class="headerlink" href="#general-operation_3" title="Permanent link"></a></h2>
<p>Azure IoT enables connectivity between an IoT / Edge device and the Azure Cloud Platform, implementing secure endpoints and device models within the Azure infrastructure. This infrastructure allows edge devices to post updates, status and state to the Azure infrastructure for analytics, monitoring and reporting.</p>
<p>In Azure IoT, an virtual representation of an actual device is created and referred to as a <em>Device</em>. The virtual device is allocated a connection endpoint, security certificates and a device <strong>digital twin</strong> - a JSON document used to persist, communicate and manage device state within Azure. Unlike AWS IoT, data from the device isn't posted to the devices digital twin (AWS Shadow), but to the device directly.</p>
<p>The actual IoT device communicates with it's Azure representation via a secure MQTT connection, posting JSON document payloads to a set of pre-defined topics. Updates are posted directly to the Azure device, which is then accessed within Azure for further process as defined by the users particular cloud implementation.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_overview.png"><img src="../assets/iot_az_iot_overview.png" width="1000" height="667" alt="Azure IoT Overview"></a>
</div>

<h2 id="creating-a-device-in-azure-iot">Creating a Device in Azure IoT<a class="headerlink" href="#creating-a-device-in-azure-iot" title="Permanent link"></a></h2>
<p>The following discussion outlines the basic steps taken to create a Device in Azure IoT that the DataLogger IoT can connect to. First step is to log into your Azure account and create an IoT Hub for your device.</p>
<div style="text-align: center"><a href="https://azure.microsoft.com/en-us/" target="azure" class="md-button">Click Here to Log into Microsoft Azure</a></div>

<p>Once logged into your Microsoft Azure account, select <strong>Internet of Things &gt; IoT Hub</strong> from the menu of services.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_hub.png"><img src="../assets/iot_az_iot_hub.png" width="600" height="600" alt="Azure IoT Hub"></a>
</div>

<h3 id="create-an-iot-hub">Create an IoT Hub<a class="headerlink" href="#create-an-iot-hub" title="Permanent link"></a></h3>
<p>This IoT Hub page lists all the IoT hubs available for your account. To add a device, you need to create a new IoT Hub.</p>
<p>Follow the Hub Creation workflow - key settings used for a DataLogger demo device:</p>
<ul>
<li>Used the "Free Tier" for testing and development.</li>
<li>Networking<ul>
<li>Connectivity - <strong><em>Public Access</em></strong></li>
<li>Minimum TLS Version - <strong><em>1.0</em></strong></li>
</ul>
</li>
</ul>
<p>The remaining settings were set at their default values.</p>
<h2 id="create-a-device">Create a Device<a class="headerlink" href="#create-a-device" title="Permanent link"></a></h2>
<p>Once the IoT Hub is created, a Device needs to be created within the hub. The device represents the connection to the actual DataLogger IoT device.</p>
<p>To create a device, select the <strong><em>Device management &gt; Devices</em></strong> from the IoT Hub menu and the select the <strong><em>+ Add Device</em></strong> menu item</p>
<div style="text-align: center">
  <a href="../assets/iot_az_create_device.png"><img src="../assets/iot_az_create_device.png" width="600" height="600" alt="Azure IoT Device Create"></a>
</div>

<p>In the create device dialog:</p>
<ul>
<li>Enter a name for the device</li>
<li>Select an Authentication type of <strong><em>Symmetric key</em></strong></li>
<li>Auto-generate keys <strong><em>enabled</em></strong></li>
</ul>
<div style="text-align: center">
  <a href="../assets/iot_az_device_form.png"><img src="../assets/iot_az_device_form.png" width="600" height="600" alt="Azure IoT Device Create Form"></a>
</div>

<p>Once created, the device is listed in the <strong><em>Devices</em></strong> list of the IoT Hub. Selecting the device gives you the device ID and keys used to communicate with the device. Note, when connecting to the device with the DataLogger IoT, the <strong><em>Primary Key</em></strong> value is used.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_device_details.png"><img src="../assets/iot_az_device_details.png" width="600" height="600" alt="Azure IoT Device Details"></a>
</div>

<h2 id="azure-configuration">Azure Configuration<a class="headerlink" href="#azure-configuration" title="Permanent link"></a></h2>
<p>Once the DataLogger IoT is integrated into the application, the specifics for the Azure IoT Thing must be configured. This includes the following:</p>
<ul>
<li>Server Name/Hostname</li>
<li>Device Key</li>
<li>Device ID</li>
<li>CA Certificate Chain</li>
</ul>
<h3 id="server-namehostname_2">Server Name/Hostname<a class="headerlink" href="#server-namehostname_2" title="Permanent link"></a></h3>
<p>This value is hostname of the created IoT Hub and is obtained from the Overview page of the IoT Hub. Note a secure connection is used, so the port for the connection is <code>8883</code>.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_hub_details.png"><img src="../assets/iot_az_iot_hub_details.png" width="600" height="600" alt="Hub Details"></a>
</div>

<h3 id="device-id">Device ID<a class="headerlink" href="#device-id" title="Permanent link"></a></h3>
<p>The Device ID is obtained from the device detail page. This page is accessible via the Device listing page, which is accessed via the <strong><em>Device management &gt; Devices</em></strong> menu item. The selected device of interest (<strong>TestDevice2023</strong> for this example) provides the device ID and Primary Key.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_device_details.png"><img src="../assets/iot_az_device_details.png" width="600" height="600" alt="Azure IoT Device Details"></a>
</div>

<h3 id="device-primary-key">Device Primary Key<a class="headerlink" href="#device-primary-key" title="Permanent link"></a></h3>
<p>This is obtained via the Device details page, as outlined in the previous section.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You view and copy the key via the icons on the right of the key entry line.</p>
</div>
<h3 id="root-certificate-authority-ca-file">Root Certificate Authority - CA file<a class="headerlink" href="#root-certificate-authority-ca-file" title="Permanent link"></a></h3>
<p>The Certificate Authority file for Azure is downloaded from this page:</p>
<div style="text-align: center"><a href="https://learn.microsoft.com/en-us/azure/security/fundamentals/azure-ca-details" target="microsoft_azure_cert" class="md-button">Microsoft: Azure Certificate Authority details</a></div>

<p>The file to download is the <strong><em>Baltimore CyberTrust Root</em></strong> entry in the <strong>Root Certificate Authorities</strong> section of the page.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_ca_file.png"><img src="../assets/iot_az_ca_file.png" width="600" height="600" alt="Azure Root CA"></a>
</div>

<h2 id="setting-properties_2">Setting Properties<a class="headerlink" href="#setting-properties_2" title="Permanent link"></a></h2>
<p>The above property values must be set on the DataLogger IoT before use. They can be set manually by using the menu system like the previous MQTT example.</p>
<p>For users that are interested in using the menu system, you will need to open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>13</kbd> to enter the Azure IoT Menu. When the menu system for the Azure IoT connection is presented, you will need to configure the property values as listed in the JSON file. Saving the values through the menu system will save the credentials to the ESP32's persistent memory. The following options are displayed:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Azure_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Azure_Menu.JPG" width="600" height="600"  alt="Azure IoT Menu"></a>
</div>

<p>The alternative to using the menu system is a JSON file. These values can be set using a JSON file that is loaded by the system at startup. For the example outlined in this document, the entries in the settings JSON file are as follows:</p>
<div class="highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">&quot;Azure IoT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8883</span><span class="p">,</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="nt">&quot;Server&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sparkfun-datalogger-hub.azure-devices.net&quot;</span><span class="p">,</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">    </span><span class="nt">&quot;MQTT Topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="nt">&quot;Client Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">    </span><span class="nt">&quot;Buffer Size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">    </span><span class="nt">&quot;Username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">    </span><span class="nt">&quot;Password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">    </span><span class="nt">&quot;Device Key&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My-Super-Secret-Device-Key&quot;</span><span class="p">,</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">    </span><span class="nt">&quot;Device ID&quot;</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TestDevice2023&quot;</span><span class="p">,</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">    </span><span class="nt">&quot;CA Cert Filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AzureRootCA.pem&quot;</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">  </span><span class="p">},</span>
</span></code></pre></div>
<p>Besides updating the <code>Server</code>, <code>Device Key</code>, <code>Device ID</code>, and <code>CA Cert Filename</code>, you will need to also ensure that the <code>port</code> is set to <code>8883</code>. The default in previous firmware versions was <code>1883</code>. As of firmware v01.00.04, the default is <code>8883</code>. You will need to adjust the port value to properly connect to the Azure IoT service. Don't forget to enable Azure IoT service by setting the value to <code>true</code>. If the JSON file is saved in the microSD card, you can load the credentials to the DataLogger IoT.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To load the values by the system at startup using a JSON file and microSD card, you will need to <a href="../configuration#general-save-settings">configure the Save Settings</a>. This JSON file will be created with the "<strong>Save to Fallback</strong>" option. Make sure to enable the Azure IoT as well.</p>
</div>
<h2 id="operation-and-monitoring">Operation and Monitoring<a class="headerlink" href="#operation-and-monitoring" title="Permanent link"></a></h2>
<p>Once the DataLogger IoT device is configured and running, the Azure IoT capability in the DataLogger IoT posts messages via MQTT to the connected Azure Device via it's IoT Hub. Messages to the device are posted as <strong><em>Telemetry Data</em></strong> for the device.</p>
<p>The easiest method to view the Telemetry data being sent to an Azure Iot Device is via the Azure IoT Hub extension for the Visual Studio Code editor.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_hub_ext.png"><img src="../assets/iot_az_iot_hub_ext.png" width="600" height="600" alt="Azure IoT Hub Extension"></a>
</div>

<p>Once installed, and connected to Azure via the Azure Account extension, you can connect to the target IoT Hub, and monitor telemetry data for a IoT device.</p>
<h3 id="connect-to-your-azure-iot-hub">Connect to Your Azure IoT Hub<a class="headerlink" href="#connect-to-your-azure-iot-hub" title="Permanent link"></a></h3>
<p>On the Explorer panel of Visual Studio Code, click on the <strong>...</strong> menu of the <strong>AZURE IOT HUB</strong> section. In the popup menu, select the <strong>Select IoT Hub</strong> menu entry.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_hub_sel.png"><img src="../assets/iot_az_iot_hub_sel.png" width="600" height="600"  alt="Select IoT Hub"></a>
</div>

<p>The available IoT Hubs are displayed in the editors command prompt. Select the desired hub and press <kbd>Enter</kbd> (or click).</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_hub_sel_menu.png"><img src="../assets/iot_az_iot_hub_sel_menu.png" width="600" height="600"  alt="Select IoT Hub"></a>
</div>

<p>The hub is then displayed in the <strong>AZURE IOT HUB</strong> section of the editor Explorer. Expanding the <strong>Devices</strong> section of the Hub will list the example device created above.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_hub_exp.png"><img src="../assets/iot_az_iot_hub_exp.png" width="600" height="600"  alt="Select IoT Hub"></a>
</div>

<h3 id="monitoring">Monitoring<a class="headerlink" href="#monitoring" title="Permanent link"></a></h3>
<p>To monitor the telemetry data send to a device, right click on the device, <strong><em>TestDevice2023</em></strong> in this example, select the menu entry <strong>Start Monitoring Build-in Event Endpoint</strong>.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_start_mon.png"><img src="../assets/iot_az_iot_start_mon.png" width="600" height="600" alt="Start Monitoring"></a>
</div>

<p>Once selected, the editor output console will start displaying output for the selected device. For the above example, with a device that has environmental sensors attached, the output appears as follows:</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_mon_output.png"><img src="../assets/iot_az_iot_mon_output.png" width="600" height="600" alt="Monitor Output"></a>
</div>

<p>To stop monitoring, click the <strong>Stop Monitoring build-in event endpoint</strong> item that is displayed in the status bar of the editor.</p>
<div style="text-align: center">
  <a href="../assets/iot_az_iot_stop_mon.png"><img src="../assets/iot_az_iot_stop_mon.png" width="600" height="600" alt="Stop Monitoring"></a>
</div>

<p>A menu option to stop monitoring is also available from the <strong>...</strong> menu of the <strong>AZURE IOT HUB</strong> section in the editor Explorer panel.</p>
<h1 id="example-http">Example - HTTP<a class="headerlink" href="#example-http" title="Permanent link"></a></h1>
<h1 id="connecting-and-sending-output-to-an-http-server">Connecting and Sending Output to an HTTP Server<a class="headerlink" href="#connecting-and-sending-output-to-an-http-server" title="Permanent link"></a></h1>
<p>One of the key features of the DataLogger IoT is it's simplified access to IoT service providers and servers. This document outlines how output from a DataLogger IoT device is sent to an HTTP server.</p>
<p>The following is covered by this document:</p>
<ul>
<li>Overview of the HTTP connection</li>
<li>How a user configures and uses the HTTP connection</li>
<li>Use examples</li>
</ul>
<h2 id="general-operation_4">General Operation<a class="headerlink" href="#general-operation_4" title="Permanent link"></a></h2>
<p>HTTP connectivity allows data generated by the DataLogger IoT to be sent to an HTTP server. An HTTP endpoint is provided to the HTTP action within the DataLogger IoT, and when data is output, a JSON representation of the data is published to the endpoint via an HTTP POST operation. The body of the POST operation contains the a JSON document that encapsulates the sent DataLogger IoT data.</p>
<div style="text-align: center">
  <a href="../assets/iot_http_overview.png"><img src="../assets/iot_http_overview.png" width="1000" height="667" alt="HTTP Overview"></a>
</div>

<h3 id="data-structure_2">Data Structure<a class="headerlink" href="#data-structure_2" title="Permanent link"></a></h3>
<p>Data is sent to the HTTP server as a JSON object, which contains a collection of sub-object. Each sub-object represents a data source in the sensor, and contains the current readings from that source.</p>
<p>The following is an example of the data posted - note, this representation was "pretty printed" for readability.</p>
<div class="highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="nt">&quot;MAX17048&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="nt">&quot;Voltage (V)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">4.304999828</span><span class="p">,</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="nt">&quot;State Of Charge (%)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">115.0625</span><span class="p">,</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="nt">&quot;Change Rate (%/hr)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">  </span><span class="nt">&quot;CCS811&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">    </span><span class="nt">&quot;CO2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">620</span><span class="p">,</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">    </span><span class="nt">&quot;VOC&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">  </span><span class="nt">&quot;BME280&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">    </span><span class="nt">&quot;Humidity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">25.03613281</span><span class="p">,</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">    </span><span class="nt">&quot;TemperatureF&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">79.64599609</span><span class="p">,</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">    </span><span class="nt">&quot;TemperatureC&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">26.46999931</span><span class="p">,</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">    </span><span class="nt">&quot;Pressure&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">85280.23438</span><span class="p">,</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">    </span><span class="nt">&quot;AltitudeM&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1430.44104</span><span class="p">,</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">    </span><span class="nt">&quot;AltitudeF&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">4693.04834</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">  </span><span class="nt">&quot;ISM330&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">    </span><span class="nt">&quot;Accel X (milli-g)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-53.31399918</span><span class="p">,</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="w">    </span><span class="nt">&quot;Accel Y (milli-g)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-34.03800201</span><span class="p">,</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">    </span><span class="nt">&quot;Accel Z (milli-g)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1017.236023</span><span class="p">,</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="w">    </span><span class="nt">&quot;Gyro X (milli-dps)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">542.5</span><span class="p">,</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="w">    </span><span class="nt">&quot;Gyro Y (milli-dps)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1120</span><span class="p">,</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="w">    </span><span class="nt">&quot;Gyro Z (milli-dps)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">262.5</span><span class="p">,</span>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="w">    </span><span class="nt">&quot;Temperature (C)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="w">  </span><span class="nt">&quot;MMC5983&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="w">    </span><span class="nt">&quot;X Field (Gauss)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.200622559</span><span class="p">,</span>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="w">    </span><span class="nt">&quot;Y Field (Gauss)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.076416016</span><span class="p">,</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="w">    </span><span class="nt">&quot;Z Field (Gauss)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.447570801</span><span class="p">,</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="w">    </span><span class="nt">&quot;Temperature (C)&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="http-connection-setup">HTTP Connection Setup<a class="headerlink" href="#http-connection-setup" title="Permanent link"></a></h2>
<p>To connect to an HTTP server endpoint, the following information is needed:</p>
<ul>
<li>The URL of the endpoint</li>
<li>The SSL certificate for the target server, if the connection is secure (HTTPS)</li>
</ul>
<p>These values are set using the standard DataLogger methods - the interactive menu system, or a JSON file.</p>
<h3 id="menu-system">Menu System<a class="headerlink" href="#menu-system" title="Permanent link"></a></h3>
<p>For users that are interested in using the menu system, you will need to open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>14</kbd> to enter the HTTP IoT Menu. When the menu system for the HTTP IoT connection is presented, you will need to configure the property values as listed in the JSON file. Saving the values through the menu system will save the credentials to the ESP32's persistent memory. The following options are displayed:</p>
<div style="text-align: center">
  <a href="../assets/assets/SparkFun_Datalogger_IoT_HTTP_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_HTTP_Menu.JPG" width="600" height="600" alt="HTTP Menu"></a>
</div>

<p>The options are:</p>
<ul>
<li>Enable/Disable the connection</li>
<li>Set the URL for the endpoint</li>
<li>Set the name of the CA Cert file for a secure connection (HTTP)</li>
</ul>
<p>To set the HTTP URL/endpoint - select two (2) in the menu, and enter the URL. For this example, we'll enter: <kbd>http://mysparkfunexample.com:8091</kbd> .</p>
<div style="text-align: center">
  <a href="../assets/iot_http_url.png"><img src="../assets/iot_http_url.png" width="600" height="600" alt="Enter a URL"></a>
</div>

<p>In the above example, the URL/HTTP Endpoint is on a server called <code>mysparkfunexample.com</code>, on port <code>8091</code>. Once set, the system will post data to this URL.</p>
<p>If the endpoint is a secure ssl (HTTPS) connection, the certificate for the server is required. Because of the size of the certificates, the value is provided as a file that is loaded into the system by the attached SD card.</p>
<div style="text-align: center">
  <a href="../assets/iot_http_cert.png"><img src="../assets/iot_http_cert.png" width="600" height="600" alt="Cert Filename"></a>
</div>

<p>The above example show providing a certificate filename of <code>example.cer</code>.</p>
<p>Once all these values are set, the system will post data to the specified HTTP endpoint, following the JSON information structure noted earlier in this document.</p>
<h3 id="json-file-entries_1">JSON File Entries<a class="headerlink" href="#json-file-entries_1" title="Permanent link"></a></h3>
<p>If a JSON file is being used as an option to import settings into the DataLogger IoT, the following entries are used for the HTTP IoT connection:</p>
<div class="highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nt">&quot;HTTP IoT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="nt">&quot;URL&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;the URL&gt;&quot;</span><span class="p">,</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="nt">&quot;CA Cert Filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;certificate filename&gt;&quot;</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">  </span><span class="p">}</span>
</span></code></pre></div>
<p>Where:</p>
<ul>
<li><code>Enabled</code> - Set to <code>true</code> to enable the connection.</li>
<li><code>URL</code> - Set to the URL for the connection.</li>
<li><code>CA Cert Filename</code> - Set to the cert filename on the SD card if being used.</li>
</ul>
<p>If the JSON file is saved in the microSD card, you can load the credentials to the DataLogger IoT.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To load the values by the system at startup using a JSON file and microSD card, you will need to <a href="../configuration#general-save-settings">configure the Save Settings</a>. This JSON file will be created with the "<strong>Save to Fallback</strong>" option. Make sure to enable the HTTP IoT as well.</p>
</div>
<h2 id="example-connecting-to-a-http-server">Example - Connecting to a HTTP Server<a class="headerlink" href="#example-connecting-to-a-http-server" title="Permanent link"></a></h2>
<p>In this example, a simple HTTP Server is creating using Node JS, and the HTTP connection in the DataLogger IoT is used to post data to this server. The received data is output to the console from there server.</p>
<h3 id="the-server">The Server<a class="headerlink" href="#the-server" title="Permanent link"></a></h3>
<p>The following javascript/node code creates a HTTP server on port <code>8090</code>, and outputs received data to the console.</p>
<div class="highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">http</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">);</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1">// Setup the endpoint server</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="kd">var</span><span class="w"> </span><span class="nx">myServer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">  </span><span class="c1">// Initialize our body string</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">body</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">  </span><span class="c1">// on data callback, append chunk to our body string</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">  </span><span class="nx">req</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">chunk</span><span class="p">){</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">    </span><span class="nx">body</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">chunk</span><span class="p">;</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">  </span><span class="c1">// On end callback, output the body to the console</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">  </span><span class="nx">req</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">    </span><span class="c1">// parse json string, then stringify it back for &#39;pretty printing&#39;</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;payload: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">body</span><span class="p">),</span><span class="kc">null</span><span class="p">,</span><span class="mf">2</span><span class="p">));</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">  </span><span class="c1">// send a reply</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mf">200</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;text/plain&#39;</span><span class="p">});</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">);</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">  </span><span class="c1">// Just listen on our port</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="p">}).</span><span class="nx">listen</span><span class="p">(</span><span class="mf">8090</span><span class="p">);</span>
</span></code></pre></div>
<p>The setup and use of node js is system dependant is beyond the scope of this document. However, Node JS is easily installed with your systems package manager (<code>brew</code> on macOS, Linux distribution package manager (apt, yum, ...etc), on Windows, the WSL is recommended).</p>
<p>Once Node is setup, the above server is run via the following command (assuming the implementation is in a file called <code>simple_http.js</code>):</p>
<div class="highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>node<span class="w"> </span>./simple_http.js
</span></code></pre></div>
<p>As data is sent by the DataLogger IoT, the following is output to the console from the server:</p>
<div style="text-align: center">
  <a href="../assets/iot_http_ex_http.png"><img src="../assets/iot_http_ex_http.png" width="600" height="600" alt="HTTP Output"></a>
</div>

<h2 id="obtaining-a-sites-security-certificate">Obtaining a Sites Security Certificate<a class="headerlink" href="#obtaining-a-sites-security-certificate" title="Permanent link"></a></h2>
<p>Accessing a sites SSL/Secure Certificate is done via a web browser. The method for each browser is different. The following example uses Edge, which is similar to the operation in Chrome.</p>
<p>First, browse to the desired site/server. Click the Secure/Security area/button next to the URL to bring up the security detail page. On this page, select the <em>Connection is secure</em> menu option</p>
<div style="text-align: center">
  <a href="../assets/iot_http_cert_1.png"><img src="../assets/iot_http_cert_1.png" width="600" height="600" alt="cert step 1"></a>
</div>

<p>Next, on the page shown, select the certificate button on the upper right of the dialog.</p>
<div style="text-align: center">
  <a href="../assets/iot_http_cert_2.png"><img src="../assets/iot_http_cert_2.png" width="600" height="600" alt="cert step 2"></a>
</div>

<p>When you select this button, the certificate details dialog is displayed. On this page, select the <em>Details</em> tab, and select the <em>Export...</em> button on the lower right of the dialog. This will save the sites SSL/Security certificate to a location you specify.</p>
<div style="text-align: center">
  <a href="../assets/iot_http_cert_3.png"><img src="../assets/iot_http_cert_3.png" width="600" height="600"  alt="cert step 3"></a>
</div>

<p>Once saved, place this file on the SD card your system/DataLogger is using, and set the filename in the HTTP connection menu or settings JSON file.</p>
<h1 id="example-arduino-cloud">Example - Arduino Cloud<a class="headerlink" href="#example-arduino-cloud" title="Permanent link"></a></h1>
<div class="admonition arduino">
<p class="admonition-title">Arduino</p>
<p>At the time of writing, Arduino's IoT service was referred to as the "Arduino IoT Cloud." <a href="https://blog.arduino.cc/2023/11/15/announcing-a-better-arduino-cloud-together/">Arduino updated the service with a different UI and is now referring to the service as the "Arduino Cloud"</a>."  When referencing the Arduino IoT or Arduino IoT Cloud in this tutorial, we are referring to the Arduino Cloud.</p>
</div>
<h1 id="creating-and-connecting-to-an-arduino-cloud-device">Creating and Connecting to an Arduino Cloud Device<a class="headerlink" href="#creating-and-connecting-to-an-arduino-cloud-device" title="Permanent link"></a></h1>
<p>One of the key features of the SparkFun DataLogger IoT is it's simplified access to IoT service providers. This document outlines how an Arduino Cloud Device is used by the DataLogger IoT.</p>
<p>The following is covered by this document:</p>
<ul>
<li>Structure of the Arduino Cloud Devices</li>
<li>Device creation in the Arduino Cloud</li>
<li>Setup of the Arduino Driver</li>
<li>How data is posted from the DataLogger IoT to the Arduino Device</li>
</ul>
<p>Currently, the Arduino Cloud device connection is a single direction - used to post data from the DataLogger IoT to an Arduino Cloud device.</p>
<div style="text-align: center">
    <a href="../assets/Combined_Arduino_Logo_Cloud.png"><img src="../assets/Combined_Arduino_Logo_Cloud.png" width="100" length="100" alt="Arduino Logo"></a>
    <br />
    <i>Image Courtesy of <a href="https://cloud.arduino.cc/">Arduino</a></i>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To take advantage of the API's in Arduino Cloud, you will also need to have a <a href="https://cloud.arduino.cc/plans">service plan</a> with your account.</p>
</div>
<h2 id="general-operation_5">General Operation<a class="headerlink" href="#general-operation_5" title="Permanent link"></a></h2>
<p>The Arduino Cloud enables connectivity between an IoT/Edge Arduino enabled device and the cloud. The edge device updates data in the Arduino Cloud by updating <code>variables</code> or parameters attached to a cloud device.</p>
<p>In the Arduino Cloud, the edge device is represented by a <em>Device</em> which has a virtual <em>Thing</em> attached/associated with it. The <em>Thing</em> acts as a container for a list of <em>parameters</em> or <em>variables</em> which represent the data values received from the edge device. As values on the edge device update, they are transmitted to the Arduino Cloud.</p>
<p>For a SparkFun DataLogger IoT connected to an Arduino Cloud device, the output parameters of a device connected to the DataLogger are mapped to variables within the Arduino Cloud Device's Thing using a simple pattern of <em>DeviceName_ParameterName</em> for the name of the variable in the Arduino Cloud.</p>
<div style="text-align: center">
  <a href="../assets/aiot_overview.png"><img src="../assets/aiot_overview.png" width="1000" height="667" alt="Arduino Cloud Overview"></a>
</div>

<h2 id="creating-a-device-in-arduino-cloud">Creating a Device in Arduino Cloud<a class="headerlink" href="#creating-a-device-in-arduino-cloud" title="Permanent link"></a></h2>
<p>The first step connecting to the Arduino Cloud is setting up a device within the cloud. A device is a logical element that represents a physical device.</p>
<p>Log into your Arduino Cloud account.</p>
<div style="text-align: center"><a href="https://cloud.arduino.cc/home/" target="arduino_iot_cloud" class="md-button">Click Here to Log into Arduino Cloud</a></div>

<p>Click on the expand menu icon on the upper left (e.g. the three lines stacked like a "hamburger"; &#9776;) and select  <strong>Devices</strong>. If your window is big enough, then it will show up on the navigation bar.</p>
<div style="text-align: center">
  <a href="../assets/aiot_cloud_sel_devices.jpg"><img src="../assets/aiot_cloud_sel_devices.jpg" width="600" height="600" alt="Select Devices"></a>
</div>

<p>This page lists your currently defined devices. If there are no defined devices, select the <strong><em>Add Device</em></strong> button. This will probably be at the bottom of the page. The location of this button will change once the page has a device (or if there is an update to Arduino's user interface).</p>
<div style="text-align: center">
  <a href="../assets/aiot_dev_add.jpg"><img src="../assets/aiot_dev_add.jpg" width="600" height="600" alt="Add a Device"></a>
</div>

<p>A device type selection dialog is then shown. Since we are connecting a DataLogger IoT board to the system, and not connected a known device, select <strong><em>DIY</em></strong> - <strong><em>Any Device</em></strong> to manually include the DataLogger IoT.</p>
<div style="text-align: center">
  <a href="../assets/aiot_dev_setup_sel.jpg"><img src="../assets/aiot_dev_setup_sel.jpg" width="600" height="600" alt="Select DIY Device"></a>
</div>

<p>Once selected, another dialog is presented. Just select <em>Continue</em>. At this point you can provide a name for your device. In this case we named it as "<em>MyDataLoggerIoT</em>."</p>
<div style="text-align: center">
  <a href="../assets/aiot_dev_name.jpg"><img src="../assets/aiot_dev_name.jpg" width="600" height="600" alt="Name Device"></a>
</div>

<p>The next screen is the critical step of the device creation process. This step is the one time the Device Secret Key is available. The provided <code>Device ID</code> and Device <code>Secret Key</code> values are needed to connect to the Arduino Cloud. Once this step is completed, the Secret Key is no longer available.</p>
<div style="text-align: center">
  <a href="../assets/aiot_dev_secrets.jpg"><img src="../assets/aiot_dev_secrets.jpg" width="600" height="600" alt="Device Secret"></a>
</div>

<p>The easiest way to capture these values is by downloading as a PDF file, which is offered on the setup page. Click on the <strong>download the PDF</strong> and save it to a safe location. When ready, click on the check box indicating that you have saved the values and select the <strong><em>Continue</em></strong> button.</p>
<h2 id="arduino-cloud-api-keys">Arduino Cloud API Keys<a class="headerlink" href="#arduino-cloud-api-keys" title="Permanent link"></a></h2>
<p>In addition to creating a device, to access the Arduino Cloud, the driver requires an API Key. This allows the DataLogger IoT's Arduino Cloud driver to access the web API of the Arduino Cloud. This API is used to setup the connection to the Arduino Cloud.</p>
<p>To create an API key, click on the menu bar to expand and select your  <strong>Arduino account profile</strong> &gt; <strong>Personal Settings</strong>.</p>
<div style="text-align: center">
  <a href="../assets/aiot_cloud_api-k.jpg"><img src="../assets/aiot_cloud_api-k.jpg" width="600" height="600" alt="API Keys"></a>
</div>

<p>This menu takes you to a list of existing API Keys. If you have not created one yet, the list will have nothing in it like the image below. From this page, select the <strong><em>CREATE API KEY</em></strong> button.</p>
<div style="text-align: center">
  <a href="../assets/aiot_cloud_create_key.jpg"><img src="../assets/aiot_cloud_create_key.jpg" width="600" height="600" alt="Create Key"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users will need a service plan in order to take advantage of the API.</p>
</div>
<p>In the presented dialog, enter a name for the API key. In this case, we named it "<em>MyDataLoggerKey</em>".</p>
<div style="text-align: center">
  <a href="../assets/aiot_cloud_key_name.jpg"><img src="../assets/aiot_cloud_key_name.jpg" width="600" height="600" alt="API Key Name"></a>
</div>

<p>Once the name is entered, click <strong><em>CONTINUE</em></strong>. A page with the new API key is presented. Like in Device Creation, this page contains a secret that is only available on this page during this process.</p>
<div style="text-align: center">
  <a href="../assets/aiot_cloud_key_secret.jpg"><img src="../assets/aiot_cloud_key_secret.jpg" width="600" height="600" alt="API KEY NOW"></a>
</div>

<p>Make note of the <em>Client ID</em> and <em>Client Secret</em> values on this page. The best method to capture these values is to download the PDF file offered on this page. Click on the <strong>download the PDF</strong> and save it to a safe location. When ready, click on the check box indicating that you have saved the values and select the <strong><em>DONE</em></strong> button.</p>
<p>At this point, the Arduino Cloud is setup for connection by the driver.</p>
<h2 id="arduino-cloud-configuration">Arduino Cloud Configuration<a class="headerlink" href="#arduino-cloud-configuration" title="Permanent link"></a></h2>
<p>To add an Arduino Cloud Device as a destination DataLogger IoT, the Arduino Cloud connection is enabled via the DataLogger menu system and the connection values, obtained from the Arduino Cloud (see above), are set in the connection properties.</p>
<p>The specifics for the Arduino Cloud must be configured. This includes the following:</p>
<ul>
<li>Thing Name</li>
<li>Thing ID</li>
<li>API Client ID</li>
<li>API Secret</li>
<li>Device Secret</li>
<li>Device ID</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Thing Name does not necessarily need to be configured. However, there will be less confusion if you set this up before connecting the DataLogger IoT to the Cloud. The Thing ID will automatically be generated and saved once there is a connection available.</p>
</div>
<h3 id="thing-name">Thing Name<a class="headerlink" href="#thing-name" title="Permanent link"></a></h3>
<p>The name of the Arduino Cloud <code>Thing</code> to use. If the Thing doesn't exist on startup, the driver will create a Thing and be named "Untitled" if you do not provide a name.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note satisfied with the default "Untitled" as the Thing's name? You can rename the Thing Name after creating the Thing. Note that you will need to manually rename the Thing Name on the Arduino Cloud and DataLogger IoT.</p>
</div>
<h3 id="thing-id">Thing ID<a class="headerlink" href="#thing-id" title="Permanent link"></a></h3>
<p>This is the ID of the Thing being used. This value is obtained by the following methods:</p>
<ul>
<li>If the driver creates a new Thing, the ID is obtained and used.</li>
<li>If an existing Thing is connected to the DataLogger IoT, the driver retrieves it's ID.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this case, the driver cannot create any new variables until the system is restarted.</p>
</div>
<ul>
<li>The user creates a new Thing using the web interface of Arduino Cloud, and provides the <em>Thing Name</em> and <em>Thing ID</em> .</li>
</ul>
<h3 id="api-client-id-and-secret">API Client ID and Secret<a class="headerlink" href="#api-client-id-and-secret" title="Permanent link"></a></h3>
<p>These values are used to provide API access by the driver. This access allows for the creation/use of a Thing and Variables within the Arduino Cloud. These are obtained via the steps outlined earlier in this document.</p>
<h3 id="device-secret-and-id">Device Secret and ID<a class="headerlink" href="#device-secret-and-id" title="Permanent link"></a></h3>
<p>These values are used to identify the Arduino device that is connected to. These are obtained via the steps outlined earlier in this document.</p>
<h2 id="setting-properties_3">Setting Properties<a class="headerlink" href="#setting-properties_3" title="Permanent link"></a></h2>
<p>The above property values must be set in the DataLogger's Arduino Cloud driver before use. They can be manually by using the menu system like the previous MQTT example.</p>
<p>For users that are interested in using the menu system, open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>16</kbd> to enter the Arduino IoT Menu. When the menu system for the Arduino IoT is presented, you will need to configure the property values as listed in the JSON file. Saving the values through the menu system will save the credentials to the ESP32's persistent memory. The following options are displayed:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_DataLogger_IoT_Arduino_IoT_Cloud_Menu.JPG"><img src="../assets/SparkFun_DataLogger_IoT_Arduino_IoT_Cloud_Menu.JPG" width="600" height="600" alt="Arduino IoT Cloud Menu Options"></a>
</div>

<p>The alternative to using the menu system is a JSON file. These values can be set using a JSON file that is loaded by the system at startup. For the DataLogger Arduino Cloud example outlined in this document, the entries in the setting's JSON file are as follows:</p>
<div class="highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nt">&quot;Arduino IoT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="nt">&quot;Thing Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SparkFunThing1&quot;</span><span class="p">,</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="nt">&quot;API Client ID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MY_API_ID&quot;</span><span class="p">,</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="nt">&quot;API Secret&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MY_API_SECRET&quot;</span><span class="p">,</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="nt">&quot;Device Secret&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MY_DEVICE_SECRET&quot;</span><span class="p">,</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span><span class="nt">&quot;Device ID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MY_DEVICE_ID&quot;</span><span class="w">            </span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">  </span><span class="p">},</span>
</span></code></pre></div>
<p>You will need to update the <code>API Client ID</code>, <code>API Secret</code>, <code>Device Secret</code>, and <code>Device ID</code> with the values that were obtained earlier. Don't forget to enable Arduino Cloud service by setting the value to <code>true</code>. If the JSON file is saved in the microSD card, you will need to load the credentials to the DataLogger IoT.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To load the values by the system at startup using a JSON file and microSD card, you will need to <a href="../configuration#general-save-settings">configure the Save Settings</a>. This JSON file will be created with the "<strong>Save to Fallback</strong>" option. Make sure to enable the Arduino IoT as well.</p>
</div>
<h2 id="operation_1">Operation<a class="headerlink" href="#operation_1" title="Permanent link"></a></h2>
<p>On startup, when the first values are written from the DataLogger IoT, the connection to the Arduino Cloud is made. During this connection, the system connects to the specified <em>Thing</em> and variables are mapped between the DataLogger Device values and Arduino Cloud Variables. If needed, variables can be created manually in the cloud.</p>
<p>While this initial setup takes seconds to complete, updates to the values on the Arduino Cloud are rapid as soon as there is a connection available.</p>
<h3 id="viewing-values">Viewing Values<a class="headerlink" href="#viewing-values" title="Permanent link"></a></h3>
<p>Once the DataLogger IoT device is configured and running, updates in Arduino Cloud are listed in the <strong><em>Things</em></strong> tab of the Arduino Cloud page. Clicking the target Thing provides access to the current variable values that are connected to the DataLogger IoT. Your mileage may vary depending on the compatible device that is connected to the DataLogger IoT. In this case, we were able to see the built-in sensors that were connected on the DataLogger IoT - 9DoF.</p>
<div style="text-align: center">
  <a href="../assets/aiot_cloud_vars.jpg"><img src="../assets/aiot_cloud_vars.jpg" width="600" height="600" alt="Cloud Variables"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not seeing certain variables on your list? Check your connections to make sure that the compatible device is connected to the DataLogger IoT. You may also have certain outputs disabled (like the connected <a href="../configuration/#device-settings">sensors</a> or <a href="../example_timestamp">timestamp</a>).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Having problems connecting new variables with the DataLogger IoT? When swapping out compatible Qwiic enabled devices, you may need to delete previous cloud variables so that the DataLogger IoT is able re-initialize them on the next power cycle.</p>
</div>
<h3 id="create-a-dashboard">Create a Dashboard<a class="headerlink" href="#create-a-dashboard" title="Permanent link"></a></h3>
<p>With the data now available in the Arduino Cloud as variables, it is a simple step create a dashboard that plots the data values.</p>
<p>The general steps to create a simple dashboard include:</p>
<ul>
<li>Select the <strong><em>Dashboards</em></strong> section of the Arduino Cloud.</li>
<li>Select the <strong><em>Build Dashboard</em></strong> button. If you have a dashboard already built, the location of the button will change and the button will be renamed: <strong><em>Create</em></strong>.</li>
<li>Click the edit button (i.e. the icon that looks like a paper and pencil, this is next to the eye).</li>
<li>Add an element to the dashboard -- for this example select <strong><em>ADD ^</em></strong> &gt; <strong><em>Advanced Chart</em></strong>.</li>
<li>On the Chart's Widget Settings select <strong><em>Link Variables</em></strong> to add readings.  </li>
<li>The DataLogger IoT Variables are listed - select the variable to link.</li>
<li>Continue this step until all the desired variables are linked to the chart. You can select up to 5x variables at a time. Click on the <strong><em>Link Variables</em></strong> button after selecting the variables.</li>
<li>This will bring you back to the Chart's Widget Settings window. Configure any preferences that to display (i.e. variable colors, labels, etc.). When all variables are linked and the Chart Widget Settings is configured, select <strong><em>Done</em></strong>.</li>
</ul>
<div style="text-align: center">
  <a href="../assets/aiot_dashboard_link.jpg"><img src="../assets/aiot_dashboard_link.jpg" width="600" height="600" alt="Linked Variables"></a>
</div>

<p>The created dashboard then displays the values posted from the SparkFun DataLogger IoT. You can continue adding additional readings on the dashboard that you were not able to fit on graph or even rename the Dashboard view. In this case, we displayed accelerometer values and temperature in degrees Celsius from the DataLogger IoT - 9DoF.</p>
<div style="text-align: center">
  <a href="../assets/aiot_dashboard.jpg"><img src="../assets/aiot_dashboard.jpg" width="600" height="600" alt="DataLogger IoT - 9DoF Dashboard"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not seeing any values on the <strong>LIVE</strong> view? Try clicking on the other time periods to see the values posted.</p>
</div>
<p>Using compatible Qwiic enabled devices, you can also display additional readings that are not available with the built-in sensors. In this case, we were able to display humidity, temperature in degrees Fahrenheit, equivalent CO<sub>2</sub>, TVOC, and AQI with the DataLogger IoT and Environmental Combo Breakout (ENS160/BME280).</p>
<div style="text-align: center">
  <a href="../assets/aiot_dashboard_qwiic_env.jpg"><img src="../assets/aiot_dashboard_qwiic_env.jpg" width="600" height="600" alt="DataLogger IoT with Qwiic Environmental Combo Breakout (ENS160/BME280) Dashboard"></a>
</div>

<h1 id="viewing-and-downloading-log-files-using-the-iot-web-server">Viewing and Downloading Log Files using the IoT Web Server<a class="headerlink" href="#viewing-and-downloading-log-files-using-the-iot-web-server" title="Permanent link"></a></h1>
<p>As of firmware v01.02.00, log files can be viewed and downloaded over a WiFi network! This saves you time by allowing you to download the files without the need to disconnect the DataLogger IoT and manually remove microSD card.</p>
<p>The following is covered by this document:</p>
<ul>
<li>How a user configures and uses the HTTP connection</li>
<li>Use examples</li>
</ul>
<h3 id="iot-web-server-connection-setup">IoT Web Server Connection Setup<a class="headerlink" href="#iot-web-server-connection-setup" title="Permanent link"></a></h3>
<p>To connect to the ESP32's IoT Web Server, the following information is needed:</p>
<ul>
<li>The server name/address</li>
<li><em>[optional]</em> A username - if required</li>
<li><em>[optional]</em> A password - if required</li>
</ul>
<h4 id="iot-web-server-menu-system">IoT Web Server Menu System<a class="headerlink" href="#iot-web-server-menu-system" title="Permanent link"></a></h4>
<p>We'll need to adjust the settings for the IoT Web Server.</p>
<p>For users that are interested in using the menu system, open a Serial Terminal, connect to the COM port that your DataLogger enumerated to, and set it to <strong>115200</strong> baud. In this case, we connected to <strong>COM13</strong>. Press any key to enter the Main Menu. Type <kbd>1</kbd> to enter the Settings menu. Then type <kbd>17</kbd> to enter the IoT Web Server Menu. When the menu system for the IoT Web Server is presented, the following options are displayed:</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Web_Server_Menu.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Web_Server_Menu.JPG" width="600" height="600" alt="IoT Web Server Options"></a>
</div>

<p>The options are:</p>
<ul>
<li>Enable/Disable the connection</li>
<li>Username</li>
<li>Password</li>
<li>Enable/Disable mDNS support</li>
<li>mDNS name</li>
</ul>
<p>At a minimum, you will just need to enable the connection. However, we recommend enabling mDNS support if it is supported in your network.</p>
<p>Once all these values are set, the system will serve the log files in your local 2.4GHz WiFi network following the JSON information structure noted below in this document.</p>
<h3 id="json-file-entries_2">JSON File Entries<a class="headerlink" href="#json-file-entries_2" title="Permanent link"></a></h3>
<p>If a JSON file is being used as an option to import settings into the DataLogger IoT, the following entries are used for the IoT web server:</p>
<div class="highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nt">&quot;IoT Web Server&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span><span class="nt">&quot;Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span><span class="nt">&quot;Username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">  </span><span class="nt">&quot;Password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">  </span><span class="nt">&quot;mDNS Support&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">  </span><span class="nt">&quot;mDNS Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dataloggerAD6B8&quot;</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="p">},</span>
</span></code></pre></div>
<p>Where:</p>
<ul>
<li><code>Enabled</code> - Set to <code>true</code> to enable the connection.</li>
<li><code>Username</code> - Web server user name if being used.</li>
<li><code>Password</code> - Web server password if being used.</li>
<li><code>mDNS Support</code> - Set to <code>true</code> if multicast DNS is supported. This allows you to enter the address as "<code>http://dataloggerXXXXX.local</code>" (where <code>XXXXX</code> is generated from the last 5x characters from your board ID) rather than typing the exact IP address of the ESP32.</li>
<li><code>mDNS Name</code> - Multicast DNS name. In this case, the default name was set to <code>dataloggerAD6B8</code>. This name will be different depending on your DataLogger IoT's board ID so <code>AD6B8</code> will be different for your board.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To load the values by the system at startup using a JSON file and microSD card, you will need to <a href="../configuration#general-save-settings">configure the Save Settings</a>. This JSON file will be created with the "<strong>Save to Fallback</strong>" option. Make sure to enable the MQTT Client as well.</p>
</div>
<h3 id="connect-and-download-log-file">Connect and Download Log File<a class="headerlink" href="#connect-and-download-log-file" title="Permanent link"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will need to make sure that the ESP32 is on the same network as your computer in order to access the log files.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When authentication is enabled, some browsers might require a second login depending on user settings.</p>
</div>
<p>Once the web server is enabled and the settings are saved, you will need to reboot the DataLogger IoT. As the DatLogger initializes, it will connect to your WiFi Network. Take note of the mDNS address, in this case, it was "<code>http://dataloggerAD6B8.local</code>".</p>
<div style="text-align: center">
  <a href="../assets/SparkFun_Datalogger_IoT_Initializing_WiFI_Connected_IoT_Web_Server_Enabled_v01p02p00.JPG"><img src="../assets/SparkFun_Datalogger_IoT_Initializing_WiFI_Connected_IoT_Web_Server_Enabled_v01p02p00.JPG" width="600" height="600" alt="DataLogger IoT Initializing, WiFi Connected, Web Server Enabled"></a>
</div>

<p>Once the DataLogger IoT has finished initializing, open web browser. Connect the DataLogger IoT by entering the address "<code>http://dataloggerXXXXX.local</code>", where <code>XXXX</code> is the last 5x characters of your board ID. You will be presented with the log files available on the microSD card. Click on a log file to download and save it to your computer.</p>
<div style="text-align: center">
  <a href="../assets/iot_web_server-Chrome_Browser-Available_Log_Files.JPG"><img src="../assets/iot_web_server-Chrome_Browser-Available_Log_Files.JPG" width="600" height="600" alt="Viewing Available Log Files through a Web Browser"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If mDNS is not supported, you can also enter the IP address of the Datalogger IoT into a web browser to view and download the log files. You can view the IP address when the DataLogger IoT is initializing. If you have administrative privileges to the WiFi Network, you can also view the IP address through your  WiFi router as well.</p>
<p><div style="text-align: center">
  <a href="../assets/iot_web_server-Chrome_Browser-Available_Log_Files_IP_Address.JPG"><img src="../assets/iot_web_server-Chrome_Browser-Available_Log_Files_IP_Address.JPG" width="600" height="600" alt="Viewing Available Log Files through a Web Browser using IP Address"></a>
</div></p>
</div>
<p>Now that you have downloaded the log files, try graphing the data on a spreadsheet!</p>
<h1 id="example-how-to-convert-comma-separated-values-csv-to-a-spreadsheet">Example - How to Convert Comma Separated Values (CSV) to a Spreadsheet<a class="headerlink" href="#example-how-to-convert-comma-separated-values-csv-to-a-spreadsheet" title="Permanent link"></a></h1>
<p>The DataLogger IoT is great at displaying real time data with an IoT service whenever there is an Internet connection available. For those that want to use the DataLogger IoT without a WiFi connection and/or you just want to save data to a microSD card, you can import the comma separated values (CSV) from the text file into a spreadsheet to graph the values.</p>
<p>There are a few spreadsheet programs available that can take text files with CSV but for the scope of this tutorial, we will be using Google Sheets&trade; to convert the CSV output to a graph.</p>
<div style="text-align: center">
    <a href="https://www.google.com/sheets/about/"><img src="../assets/Google_Sheets_Logo.png" width="100" length="100" alt="Google Sheets Logo"></a>
    <br />
    <i>Image Courtesy of <a href="https://www.google.com/sheets/about/">Google Sheets</a>. </i>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Google and Google Sheets are trademarks of Google LLC. This tutorial is not endorsed by or affiliated with Google in any way. We just thought it was a sweet tool to visualize all the data that was collected by your snazzy DataLogger IoT. 😉</p>
</div>
<h3 id="log-some-data">Log Some Data!<a class="headerlink" href="#log-some-data" title="Permanent link"></a></h3>
<p>At this point, we will assume that you have configured connected your devices to the DataLogger IoT and configured its settings. Insert the microSD card into it's socket. Power the DataLogger IoT up and start logging some data! In this case, we were using the DataLogger IoT using the Qwiic Environmental Combo Breakout - ENS160/BME280. of course, you could have other compatible Qwiic-enabled devices connected depending on your setup. For simplicity, a WiFi connection was used to synchronize the clock to the NTP server and a computer's USB port was used to power everything.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For users without an Internet connection to sync the clock to the NTP server, you may want to consider using a compatible Qwiic-enabled device like the Qwiic Real Time Clock (RTC) Module - RV-8803 or a Qwiic-enabled u-blox GNSS module. Note that you will need to configure the time to your area before logging any data. U-blox GNSS modules would also need to be able to view a few satellites before being able to synchronize to the UTC.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For users that require a timestamp with their datasets, make sure to <a href="https://docs.sparkfun.com/SparkFun_DataLogger/example_timestamp/">enable timestamp</a>.</p>
</div>
<h3 id="download-the-log-files">Download the Log Files<a class="headerlink" href="#download-the-log-files" title="Permanent link"></a></h3>
<p>Users can download the log files to your computer with the IoT Web Server. You will need to update firmware to v01.02.00 and enable this feature. For more information, check out the <a href="../example_iot_web_server/">previous example to view and download log files using the IoT web server</a>.</p>
<div style="text-align: center"><a href="../example_iot_web_server" class="md-button">Examples: Viewing and Downloading Log Files using the IoT Web Server</a></div>

<p>Of course, users can follow the old school method and manually grab the files using a microSD card reader. When ready, remove power from the DataLogger IoT and eject the microSD card from the socket. Insert the microSD card into an adapter and connect to your computer.</p>
<div style="text-align: center">
  <a href="https://cdn.sparkfun.com//assets/parts/7/6/3/6/11609-Action.jpg">
  <img src="https://cdn.sparkfun.com//assets/parts/7/6/3/6/11609-Action.jpg" width="500" height="500" alt="Memory Card Adapter and USB Reader for microSD cards"></a>
</div>

<h3 id="importing-csv-to-a-spreadsheet">Importing CSV to a Spreadsheet<a class="headerlink" href="#importing-csv-to-a-spreadsheet" title="Permanent link"></a></h3>
<p>Log into your Google account and <a href="https://www.google.com/sheets/about/">open Google Sheets to create a new spreadsheet</a>.</p>
<div style="text-align: center"><a href="https://docs.google.com/spreadsheets/create" target="google_sheets" class="md-button">Click Here to Create a New Google Spreadsheet</a></div>

<p>Head to the menu and select: <strong>File</strong> &gt; <strong>Import</strong>.</p>
<div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_imported.JPG"><img src="../assets/csv_to_spreadsheet_imported.JPG" width="600" height="600" alt="Importing Google Sheets"></a>
</div>

<p>A window will pop up with some options to import a file. Click the <strong>Upload</strong> tab. Click on the <strong>Browse</strong> button to choose the file. Or drag and drop the file into the upload area. In this case, the DataLogger IoT saved the comma separated values to a text file called <strong>sfe0003.txt</strong>.</p>
<div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_select_file.JPG"><img src="../assets/csv_to_spreadsheet_select_file.JPG" width="600" height="600" alt="Select CSV File"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not seeing any data in the file or even a text file saved in the root directory? Make sure that the microSD card is formatted correctly and the DataLogger is configured properly. In the menu, make sure to have the <a href="../configuration/#logging-logger"><strong>SD Card Format</strong> enabled and set to the correct format</a>. In this case, we are using the default CSV format.</p>
</div>
<p>Another window will pop up asking how to import the file. From the drop down menu, select: <strong>Import location</strong> &gt; <strong>Create new spreadsheet</strong> and <strong>Separator Type</strong> &gt; <strong>Detect automatically</strong>.  Since the file will include commas to separate each reading, Google Sheets should automatically separate text and values into each cell. Otherwise, you can select <strong>comma</strong> as the separator type.</p>
<div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_separator_type.JPG"><img src="../assets/csv_to_spreadsheet_separator_type.JPG" width="600" height="600" alt="Separator Type"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have the file open, you can also manually paste the CSV data into the spreadsheet. Select all the contents of the text file and copy the contents onto your clipboard. Right click the cell closest to the top and farthest to the left of the spreadsheet (i.e. A1). Then paste the data. One caveat is that Google Sheets may have problems where it only pastes the title of each column.</p>
<p><div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_title_header_row.JPG"><img src="../assets/csv_to_spreadsheet_title_header_row.JPG" width="600" height="600" alt="Titles of Each Header Rows Only Pasted"></a>
</div></p>
<p>If you see this happen, you will need to select all but the header row from the text file. Then copy the contents onto your clipboard again. Right click on the next row the titles (i.e. A2) and paste the data.</p>
<p><div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_manual_paste.JPG"><img src="../assets/csv_to_spreadsheet_manual_paste.JPG" width="600" height="600" alt="Manual Paste"></a>
</div></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To separate the values to each column, highlight everything in the column. Then head to the menu and select:  <strong>Data</strong> &gt; <strong>Split text into columns</strong></p>
<p><div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_split_text_to_columns.JPG"><img src="../assets/csv_to_spreadsheet_split_text_to_columns.JPG" width="600" height="600" alt="Splitting Text to Columns"></a>
</div></p>
</div>
<h3 id="graphing-your-datasets">Graphing Your Datasets<a class="headerlink" href="#graphing-your-datasets" title="Permanent link"></a></h3>
<p>Hold down the <kbd>Shift</kbd> button on your keyboard and select the columns that you would like to graph using your mouse. Once the data is highlighted, head to the menu and select: <strong>Insert</strong> &gt; <strong>Chart</strong>.</p>
<div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_select_columns_to_graph.JPG"><img src="../assets/csv_to_spreadsheet_select_columns_to_graph.JPG" width="600" height="600" alt="Select Datasets to Graph and then select Insert > Chart from menu"></a>
</div>

<p>The values that were selected will be graphed. You will want to be careful about including too many datasets on the graph as it can be hard to read when they are not in the same range.</p>
<div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_select_unformatted_chart.JPG"><img src="../assets/csv_to_spreadsheet_select_unformatted_chart.JPG" width="600" height="600" alt="Unformatted Chart"></a>
</div>

<p>At this point, try formatting the data based on your preferences and export the graph. The graph below was formatted and exported to a PNG. Note that the values for the AQI were moved to the right of the graph for a better viewing since they were smaller than the datasets for TVOC and eCO<sub>2</sub>.</p>
<div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_datalogger_iot_environment_dataset.png"><img src="../assets/csv_to_spreadsheet_datalogger_iot_environment_dataset.png" width="600" height="600" alt="Exported and Formatted Chart"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are additional features to help format your data based on your personal preferences! Select the column that you would like to format. Then head to the menu: <strong>Format</strong> &gt; <strong>Number</strong>. Select the format that you would like to apply to the dataset. In this case, we adjusted the General Time with <strong>Custom Date and Time</strong> to show a 12-hour format before creating a new graph.</p>
<p><div style="text-align: center">
  <a href="../assets/csv_to_spreadsheet_datalogger_iot_environment_dataset_12-hour_format.png"><img src="../assets/csv_to_spreadsheet_datalogger_iot_environment_dataset_12-hour_format.png" width="600" height="600" alt="Exported and Formatted Chart with 12-hour Format"></a>
</div></p>
</div>
<h1 id="appendix-supported-qwiic-devices">Appendix - Supported Qwiic Devices<a class="headerlink" href="#appendix-supported-qwiic-devices" title="Permanent link"></a></h1>
<h1 id="datalogger-iot-supported-devices">DataLogger IoT Supported Devices<a class="headerlink" href="#datalogger-iot-supported-devices" title="Permanent link"></a></h1>
<p>The following lists the devices/boards supported by the DataLogger IoT boards. New drivers to support a device will be listed under the firmware version.</p>
<h2 id="version-010100">Version 01.01.00<a class="headerlink" href="#version-010100" title="Permanent link"></a></h2>
<ul>
<li><a href="https://www.sparkfun.com/products/20844">SparkFun Indoor Air Quality Sensor - ENS160 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/22956">SparkFun Photoacoustic Spectroscopy CO2 Sensor - PASCO2V01 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/22494">SparkFun Human Presence and Motion Sensor - STHS34PF80 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/22638">SparkFun Tristimulus Color Sensor - OPT4048DTSR</a></li>
<li><a href="https://www.sparkfun.com/products/15050">SparkFun Triad Spectroscopy Sensor - AS7265x</a></li>
</ul>
<h2 id="version-010000">Version 01.00.00<a class="headerlink" href="#version-010000" title="Permanent link"></a></h2>
<ul>
<li><a href="https://www.sparkfun.com/products/17873">ACS37800 Power Meter</a></li>
<li><a href="https://www.sparkfun.com/products/15334">SparkFun Qwiic 12 Bit ADC - 4 Channel (ADS1015)</a></li>
<li><a href="https://www.sparkfun.com/products/16770">Qwiic PT100 - ADS122C04</a></li>
<li><a href="https://www.sparkfun.com/products/16618">Qwiic Humidity AHT20</a></li>
<li><a href="https://www.sparkfun.com/products/14607">SparkFun Grid-EYE Infrared Array Breakout - AMG8833 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15219">SparkFun Pulse Oximeter and Heart Rate Sensor - MAX30101 &amp; MAX32664 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15440">SparkFun Atmospheric Sensor Breakout - BME280 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/14348">SparkFun Environmental Combo Breakout - CCS811/BME280 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/16466">SparkFun Environmental Sensor Breakout - BME680 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/19096">SparkFun Environmental Sensor - BME688 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/19662">SparkFun Pressure Sensor - BMP384 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/20170">SparkFun Pressure Sensor - BMP581 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15932">SparkFun Qwiic Button </a></li>
<li><a href="https://www.sparkfun.com/products/18768">SparkFun Air Velocity Sensor Breakout - FS3000-1015 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/18377">SparkFun Air Velocity Sensor Breakout - FS3000-1005 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15136">SparkFun GPS-RTK2 Board - ZED-F9P (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/16481">SparkFun GPS-RTK-SMA Breakout - ZED-F9P (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15005">SparkFun GPS-RTK Board - NEO-M8P-2 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15210">SparkFun GPS Breakout - Chip Antenna, SAM-M8Q (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15733">SparkFun GPS Breakout - NEO-M9N, Chip Antenna (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15193">SparkFun GPS Breakout - ZOE-M8Q (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/19764">SparkFun 6DoF IMU Breakout - ISM330DHCX (Qwiic) and on-board SPI 9DOF</a></li>
<li><a href="https://www.sparkfun.com/products/19895">SparkFun 9DoF IMU Breakout - ISM330DHCX, MMC5983MA (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/retired/14767">Qwiic Pressure Sensor - LPS25HB</a></li>
<li><a href="https://www.sparkfun.com/products/17715">Qwiic Fuel Gauge - MAX17048</a></li>
<li><a href="https://www.sparkfun.com/products/16294">SparkFun Qwiic Thermocouple Amplifier - MCP9600 (PCC Connector)</a></li>
<li><a href="https://www.sparkfun.com/products/16295">SparkFun Qwiic Thermocouple Amplifier - MCP9600 (Screw Terminals)</a></li>
<li><a href="https://www.sparkfun.com/products/16476">SparkFun Qwiic MicroPressure Sensor</a></li>
<li><a href="https://www.sparkfun.com/products/19921">SparkFun Micro Magnetometer - MMC5983MA (Qwiic) and on-board SPI 9DOF</a></li>
<li><a href="https://www.sparkfun.com/products/14688">Pressure Sensor (Qwiic) - MS5637</a></li>
<li><a href="https://www.sparkfun.com/products/16298">Qwiic Pressure/Humidity/Temp (PHT) Sensor - MS8607</a></li>
<li><a href="https://www.sparkfun.com/products/15242">SparkFun Qwiic Scale - NAU7802</a></li>
<li><a href="https://www.sparkfun.com/products/16281">SparkFun Real Time Clock Module - RV-8803 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15112">CO₂ Humidity and Temperature Sensor - SCD30</a></li>
<li><a href="https://www.sparkfun.com/products/18365">CO₂ Humidity and Temperature Sensor - SCD40 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/17874">SparkX Differential Pressure Sensor - SDP31 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/19325">Particle, VOC, Humidity, and Temperature Sensor - SEN54</a></li>
<li><a href="https://www.sparkfun.com/products/retired/16531">SparkFun Air Quality Sensor - SGP30 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/18345">SparkFun Air Quality Sensor - SGP40 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/16467">SparkFun Humidity Sensor Breakout - SHTC3 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/21274">SparkFun Qwiic Dynamic NFC/RFID Tag</a></li>
<li><a href="https://www.sparkfun.com/products/18385">CO₂ Sensor - STC31 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/19037">SparkFun Qwiic dToF Imager - TMF8821</a></li>
<li><a href="https://www.sparkfun.com/products/19036">SparkFun Qwiic dToF Imager - TMF8820</a></li>
<li><a href="https://www.sparkfun.com/products/15805">SparkFun High Precision Temperature Sensor - TMP117 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15083">SparkFun Qwiic Twist - RGB Rotary Encoder Breakout</a></li>
<li><a href="https://www.sparkfun.com/products/15177">SparkFun Proximity Sensor Breakout - 20cm, VCNL4040 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/15089">SparkFun UV Light Sensor Breakout - VEML6075 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/18981">Ambient Light Sensor - VEML7700 (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/14722">SparkFun Distance Sensor Breakout - 4 Meter, VL53L1X (Qwiic)</a></li>
<li><a href="https://www.sparkfun.com/products/18642">SparkFun Qwiic ToF Imager - VL53L5CX</a></li>
</ul>
<h1 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
    <strong> Not working as expected and need help? </strong> <br /><br /></p>
<p>If you need technical assistance and more information on a product that is not working as you expected, we recommend heading on over to the <a href="https://www.sparkfun.com/technical_assistance">SparkFun Technical Assistance</a> page for some initial troubleshooting. <br /><br /></p>
<p><div style="text-align: center"><a href="https://www.sparkfun.com/technical_assistance" target="sfe_technical_assistance" class="md-button">SparkFun Technical Assistance Page</a></div></p>
<p>If you don't find what you need there, the <a href="https://forum.sparkfun.com/index.php">SparkFun Forums</a> are a great place to find and ask for help. If this is your first visit, you'll need to <a href="https://forum.sparkfun.com/ucp.php?mode=register">create a Forum Account</a> to search product forums and post questions.<br /><br /></p>
<p><div style="text-align: center"><a href="https://forum.sparkfun.com/ucp.php?mode=register" class="md-button">Create New Forum Account</a>&nbsp;&nbsp;&nbsp;<a href="https://forum.sparkfun.com/index.php" class="md-button md-button--primary">Log Into SparkFun Forums</a></div></p>
</div>
<h3 id="issues-connecting-to-iot-service">Issues Connecting to IoT Service<a class="headerlink" href="#issues-connecting-to-iot-service" title="Permanent link"></a></h3>
<p>Having trouble connecting your DataLogger IoT to an IoT service? Make sure to check your credentials and ensure that the configuration matches the IoT Service (such as your WiFi network, port, server, topic, certificates, keys, etc. to name a few). Make sure to also include the associated certificates and keys in the microSD card as well. You may see an output similar to the following errors below.</p>
<h4 id="aws-iot-error">AWS IoT Error<a class="headerlink" href="#aws-iot-error" title="Permanent link"></a></h4>
<p>The following error occurred when the DataLogger IoT was initializing with AWS.</p>
<div class="highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="o">[</span>W<span class="o">]</span><span class="w"> </span>AWS<span class="w"> </span>IoT<span class="w"> </span>disconnected<span class="w"> </span>-<span class="w"> </span>reconnecting.......<span class="o">[</span>E<span class="o">]</span><span class="w"> </span>AWS<span class="w"> </span>IoT:<span class="w"> </span>MQTT<span class="w"> </span>connection<span class="w"> </span>failed.<span class="w"> </span>Error<span class="w"> </span>Code:<span class="w"> </span>-2
</span></code></pre></div>
<div style="text-align: center">
  <a href="../assets/Incorrect_Configuration_Connection_Failed_IoT_Service_AWS.JPG">
  <img src="../assets/Incorrect_Configuration_Connection_Failed_IoT_Service_AWS.JPG" width="600px" height="600px" alt="Configuration entered incorrectly, DataLogger not connecting to IoT Service"></a>
</div>

<p>In this case, the DataLogger IoT failed to connect to AWS IoT service because the port was using the default value that was saved: <code>1883</code>. Ensure that the port is set to <code>8883</code> for your IoT service (e.g. AWS IoT, Azure, and ThingSpeak) and saved in persistent memory in order for the DataLogger IoT to successfully connect. As of firmware v01.00.04, the default is <code>8883</code>.</p>
<h4 id="thinkspeak-iot-error">ThinkSpeak IoT Error<a class="headerlink" href="#thinkspeak-iot-error" title="Permanent link"></a></h4>
<p>The following error occurred when the DataLogger IoT was initializing with ThingSpeak.</p>
<div class="highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">[</span>I<span class="o">]</span><span class="w"> </span>ThingSpeak<span class="w"> </span>MQTT:<span class="w"> </span>connecting<span class="w"> </span>to<span class="w"> </span>MQTT<span class="w"> </span>endpoint<span class="w"> </span>mqtt3.thingspeak.com:8883<span class="w"> </span>.......<span class="o">[</span>E<span class="o">]</span><span class="w"> </span>ThingSpeak<span class="w"> </span>MQTT:<span class="w"> </span>Connection<span class="w"> </span>Error<span class="w"> </span><span class="o">[</span><span class="m">4</span><span class="o">]</span>
</span></code></pre></div>
<div style="text-align: center">
  <a href="../assets/Incorrect_Configuration_Connection_Failed_IoT_Service_ThingSpeak.JPG">
  <img src="../assets/Incorrect_Configuration_Connection_Failed_IoT_Service_ThingSpeak.JPG" width="600px" height="600px" alt="Configuration entered incorrectly, DataLogger not connecting to IoT Service - ThingSpeak"></a>
</div>

<p>In this case, the DataLogger IoT failed to connect to ThingSpeak service because the credentials were entered incorrectly. Ensure that the  and saved in persistent memory in order for the DataLogger IoT to successfully connect.</p>
<h4 id="arduino-cloud-error-1">Arduino Cloud Error 1<a class="headerlink" href="#arduino-cloud-error-1" title="Permanent link"></a></h4>
<p>The following error was occurred when the DataLogger IoT was initializing with Arduino Cloud.</p>
<div class="highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">[</span>W<span class="o">]</span><span class="w"> </span>ArduinoIoT<span class="w"> </span>-<span class="w"> </span>Thing<span class="w"> </span>Name<span class="w"> </span>not<span class="w"> </span>provided
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>.
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>.
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>.
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="o">[</span>I<span class="o">]</span><span class="w"> </span>Arduino<span class="w"> </span>IoT:<span class="w"> </span>setup<span class="w"> </span>variables...<span class="o">[</span>E<span class="o">]</span><span class="w"> </span>ArduinoIoT<span class="w"> </span>HTTP<span class="w"> </span>communication<span class="w"> </span>error<span class="w"> </span><span class="o">[</span><span class="m">401</span><span class="o">]</span><span class="w"> </span>-<span class="w"> </span>token<span class="w"> </span>request
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="o">[</span>E<span class="o">]</span><span class="w"> </span>Arduino<span class="w"> </span>IoT<span class="w"> </span>Cloud<span class="w"> </span>not<span class="w"> </span>available<span class="w"> </span>or<span class="w"> </span>account<span class="w"> </span>credentials<span class="w"> </span>incorrect
</span></code></pre></div>
<div style="text-align: center">
  <a href="../assets/Arduion_IoT_Error_Connecting_Incorrect_Configuration.JPG">
  <img src="../assets/Arduion_IoT_Error_Connecting_Incorrect_Configuration.JPG" width="600px" height="600px" alt="Configuration entered incorrectly, DataLogger not connecting to IoT Service"></a>
</div>

<p>In this case, the DataLogger IoT failed to connect to the Arduino Cloud service because the credentials were incorrect. Ensure that the credentials (i.e. API client ID, API secret, device secret, device ID) are entered correctly and saved in persistent memory in order for the DataLogger IoT to successfully connect.</p>
<h4 id="arduino-cloud-error-2">Arduino Cloud Error 2<a class="headerlink" href="#arduino-cloud-error-2" title="Permanent link"></a></h4>
<p>The following error was occurred when the DataLogger IoT was initializing with Arduino Cloud.</p>
<div class="highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="o">[</span>I<span class="o">]</span><span class="w"> </span>Arduino<span class="w"> </span>IoT:<span class="w"> </span>setup<span class="w"> </span>variables...<span class="o">[</span>E<span class="o">]</span><span class="w"> </span>Arduino<span class="w"> </span>IoT:<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">code</span><span class="o">=</span><span class="m">400</span>,<span class="w"> </span>failed<span class="w"> </span>to<span class="w"> </span>decode<span class="w"> </span>request<span class="w"> </span>body<span class="w"> </span>with<span class="w"> </span>content<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="s2">&quot;application/json&quot;</span>:<span class="w"> </span>uuid:<span class="w"> </span>incorrect<span class="w"> </span>UUID<span class="w"> </span>length<span class="w"> </span><span class="m">37</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>string<span class="w"> </span><span class="s2">&quot;a111aaa1-1111-1111-1a1a-1a11111a1111\r&quot;</span>
</span></code></pre></div>
<p>In this case, the DataLogger IoT failed to connect to the Arduino Cloud service because the credentials were incorrect. The string was supposed to be the device ID. When copying and pasting the device ID from a PDF that was generated with the Arduino Cloud, a carriage return (<code>\r</code>) was also copied and entered in the serial terminal. By pasting the device ID into a text editor and then re-copying/pasting it into the serial terminal helped to ensure that the credentials were entered correctly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The device ID in this example was a randomly generated string. You will need to check to make sure that your device matches the one that the Arduino Cloud generated specifically for your account.</p>
</div>
<h4 id="arduino-cloud-error-3">Arduino Cloud Error 3<a class="headerlink" href="#arduino-cloud-error-3" title="Permanent link"></a></h4>
<p>The following error was occurred when the DataLogger IoT was initializing with Arduino Cloud.</p>
<div class="highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="o">[</span>I<span class="o">]</span><span class="w"> </span>Arduino<span class="w"> </span>IoT:<span class="w"> </span>setup<span class="w"> </span>variables...ArduinoIoTCloudTCP::handle_ConnectMqttBroker<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>mqtts-up.iot.arduino.cc:8884
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>ArduinoIoTCloudTCP::handle_ConnectMqttBroker<span class="w"> </span><span class="m">1</span><span class="w"> </span>connection<span class="w"> </span>attempt<span class="w"> </span>at<span class="w"> </span>tick<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">301939</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>ArduinoIoTCloudTCP::handle_ConnectMqttBroker<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>mqtts-up.iot.arduino.cc:8884
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>ArduinoIoTCloudTCP::handle_ConnectMqttBroker<span class="w"> </span><span class="m">2</span><span class="w"> </span>connection<span class="w"> </span>attempt<span class="w"> </span>at<span class="w"> </span>tick<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">307420</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="o">[</span>E<span class="o">]</span><span class="w"> </span>Arduino<span class="w"> </span>IoT:<span class="w"> </span>No<span class="w"> </span>Arduino<span class="w"> </span>Thing<span class="w"> </span>ID<span class="w"> </span>provided.<span class="w"> </span>Enter<span class="w"> </span>ID,<span class="w"> </span>delete<span class="w"> </span>Thing<span class="w"> </span><span class="o">(</span>SparkFunThing1<span class="o">)</span><span class="w"> </span>on<span class="w"> </span>Cloud,<span class="w"> </span>or<span class="w"> </span>enter<span class="w"> </span>new<span class="w"> </span>Thing<span class="w"> </span>Name.
</span></code></pre></div>
<p>In this case, the DataLogger IoT failed to connect to the Arduino Cloud service because there was already a Thing that was created. By deleting the Thing in the Arduino Cloud, the DataLogger IoT was able to automatically create another Thing and setup the variables.</p>
<h3 id="thingspeak-data-points-not-updating">ThingSpeak Data Points Not Updating<a class="headerlink" href="#thingspeak-data-points-not-updating" title="Permanent link"></a></h3>
<p>If your DataLogger IoT is connected to ThingSpeak but you do not see any data, ensure that the device name matches the Qwiic device that is connect to the DataLogger IoT. For example, the DataLogger IoT and Qwiic-enabled ENS160 was able to connect to ThingSpeak as shown in the image on the bottom left. However, there were no data points in any of the graphs as shown on ThingSpeak as shown in the image on the bottom right.</p>
<div style="text-align: center; pointer-events:none;">
  <table style="border:none;>
    <tr style="vertical-align:middle;">
     <td style="text-align: center; vertical-align: middle; border: none;"><a href="../assets/DataLogger_Connected_ThingSpeak.JPG"><img src="../assets/DataLogger_Connected_ThingSpeak.JPG" width="600px" height="600px" alt="DataLogger Connected to ThingSpeak"></a></td>
     <td style="text-align: center; vertical-align: middle; border: none;"><a href="../assets/ThingSpeak_ENS160_No_Data.JPG"><img src="../assets/ThingSpeak_ENS160_No_Data.JPG" width="600px" height="600px" alt="No Data Points in ThingSpeak Channel"></a></td>
    </tr>
  </table>
</div>

<p>If you head back into the configuration menu for the DataLogger's ThingSpeak channel, make sure that the <em><device name></em> matches the connected Qwiic device's name that was shown during initialization.  In this case, the device that was loaded and detected was <strong>ENS160</strong>. Then add the channel ID before saving the system settings.</p>
<div style="text-align: center">
  <a href="../assets/Device_Name_ENS160.JPG">
  <img src="../assets/Device_Name_ENS160.JPG" width="600px" height="600px" alt="Matching Device Name with Qwiic-Enabled ENS160 Breakout Board"></a>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only one device can be loaded per channel! ThingSpeak is not able graph two different devices in the same channel.</p>
</div>
<p>Head back to your ThingSpeak Channel to verify that data is being plotted on the graphs.</p>
<div style="text-align: center">
  <a href="../assets/ThingSpeak_ENS160_with_Data.JPG">
  <img src="../assets/ThingSpeak_ENS160_with_Data.JPG" width="600px" height="600px" alt="ThingSpeak Outputting ENS160 Sensor Data on Graphs"></a>
</div>

<h3 id="u-blox-i2c-device-disappears-when-iot-datalogger-initializes">U-Blox I<sup>2</sup>C Device Disappears when IoT DataLogger Initializes<a class="headerlink" href="#u-blox-i2c-device-disappears-when-iot-datalogger-initializes" title="Permanent link"></a></h3>
<p>If you have issues where a u-blox device that is connected to the I<sup>2</sup>C port fails to connect a second time when the IoT DataLogger initializes, this is due to a bug in the firmware from an initial release. You may see an output similar to the following message and image shown below.</p>
<div class="highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="o">[</span>W<span class="o">]</span><span class="w"> </span>GNSS::isConnected<span class="w"> </span>no<span class="w"> </span>traffic<span class="w"> </span>seen<span class="w"> </span><span class="o">(</span>first<span class="w"> </span>attempt<span class="o">)</span>
</span></code></pre></div>
<div style="text-align: center">
  <a href="../assets/No_GNSS_Satellite_Lock.PNG">
  <img src="../assets/No_GNSS_Satellite_Lock.PNG" width="600px" height="600px" alt="No Satellite Lock... Bug"></a>
</div>

<p>If you see the following output and the IoT DataLogger not loading your u-blox device, you will need to <a href="https://github.com/sparkfun/SparkFun_DataLogger/releases">update the firmware to v01.00.03 and above</a>. For more information, make sure to check out the <a href="https://docs.sparkfun.com/SparkFun_DataLogger/updating_firmware/">tutorial on updating your IoT DataLogger's firmware</a>.</p>
<h1 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link"></a></h1>
<p>Now that you've successfully got your DataLogger IoT up and running, it's time to incorporate it into your own project! For more information, check out the resources below:</p>
<ul>
<li>DataLogger IoT - 9DoF<ul>
<li><a href="../assets/board_files/DataLogger_IoT_9DoF/SparkFun_Datalogger_IoT_9DOF_Schematic_v11.pdf">Schematic (PDF)</a></li>
<li><a href="../assets/board_files/DataLogger_IoT_9DoF/SparkFun_DataLogger_IoT_9DOF_v11.zip">Eagle Files (ZIP)</a></li>
<li><a href="../assets/board_files/DataLogger_IoT_9DoF/SparkFun_Datalogger_IoT_9DOF_Board_Dimensions.png">Board Dimensions (PNG)</a></li>
<li><a href="https://github.com/sparkfun/Fritzing_Parts/blob/main/products/20594_sfe_datalogger_iot_9dof_esp32_fuel_gauge_imu_micro_sd_card_qwiic.fzpz">Fritzing Part (FZPZ)</a></li>
</ul>
</li>
<li>DataLogger IoT<ul>
<li><a href="../assets/board_files/DataLogger_IoT/SparkFun_DataLogger_IoT_Schematic_V11.pdf">Schematic (PDF)</a></li>
<li><a href="../assets/board_files/DataLogger_IoT/SparkFun_DataLogger_IoT-V11.zip">Eagle Files (ZIP)</a></li>
<li><a href="../assets/board_files/DataLogger_IoT/SparkFun_DataLogger_IoT_Board_Dimensions.png">Board Dimensions (PNG)</a></li>
<li><a href="https://github.com/sparkfun/Fritzing_Parts/blob/main/products/22462_sfe_datalogger_iot_esp32_fuel_gauge_micro_sd_card_qwiic.fzpz">Fritzing Part (FZPZ)</a></li>
</ul>
</li>
<li><a href="https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers/all">CH340 Drivers</a></li>
<li><a href="https://github.com/sparkfun/SparkFun_DataLogger/releases">Firmware</a></li>
<li>GitHub Hardware Repo<ul>
<li><a href="https://github.com/sparkfun/SparkFun_DataLogger_IoT_9DoF">SparkFun DataLogger IoT - 9DoF</a></li>
<li><a href="https://github.com/sparkfun/SparkFun_DataLogger_IoT">SparkFun DataLogger IoT</a></li>
</ul>
</li>
<li>SFE Showcase<ul>
<li><a href="https://youtu.be/RwCu-60sQOI">DataLogger IoT - 9DoF</a></li>
<li><a href="https://youtu.be/iGVVyN-xJf0?si=zM0wO_6Qbf9--GVS">DataLogger IoT</a></li>
</ul>
</li>
</ul>
<p>Or check out these related blog posts.</p>
<div class="grid cards col-4">
<ul>
<li>
<p><a href="https://www.sparkfun.com/news/6808">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/home_page_posts/6/8/0/8/IMG_0194.jpg" style="width:264px; height:148px; object-fit:contain;" alt="IoT Platforms and Protocols">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/news/6808">
  <b>IoT Platforms and Protocols</b>
</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/news/7373">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/home_page_posts/7/3/7/3/Screenshot_2023-07-04_at_8.38.00_PM.jpg" style="width:264px; height:148px; object-fit:contain;" alt="Extending the Reach of Data Logging">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/news/7373">
  <b>Extending the Reach of Data Logging</b>
</a></p>
</li>
<li>
<p><a href="https://www.sparkfun.com/news/8028">
      <figure markdown>
        <img src="https://cdn.sparkfun.com/assets/home_page_posts/8/0/2/8/Screen_Shot_2023-08-28_at_9.56.02_AM.png" style="width:264px; height:148px; object-fit:contain;" alt="Send Sensor Data to AWS All In Under 15 Minutes">
      </figure>
    </a></p>
<hr />
<p><a href="https://www.sparkfun.com/news/8028">
  <b>Send Sensor Data to AWS All In Under 15 Minutes</b>
</a></p>
</li>
</ul>
</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-11-14T22:15:22+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-11-14</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-11-14T22:15:22+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-11-14</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:kirk.benell@sparkfun.com">Kirk Benell</a>
    </nav>
  </span>

    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/bboyho" class="md-author" title="@bboyho">
          
          <img src="https://avatars.githubusercontent.com/u/3209977?v=4&size=72" alt="bboyho">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>


  


  



                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright 2023 - <a href="https://www.sparkfun.com/" target="_blank" rel="noopener">SparkFun Electronics&#174;<br> <a href="https://goo.gl/maps/vkstCpQZW6jZMjzYA" target="_blank" rel="noopener">6333 Dry Creek Parkway, Niwot, Colorado 80503</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.sparkfun.com/" target="_blank" rel="noopener" title="www.sparkfun.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" width="15.955" height="24" viewbox="0 0 16 24"><path d="M13.03 3.838s.34 1.438-.745 1.638c-.756.134-1.976-.615-2.59-1.362-.756-.922-.66-1.647-.072-2.29.884-.978 2.397-.6 2.397-.6S9.248-1.209 6.362.783c-2.571 1.77-1.834 4.183.487 6.288 2.09 1.902.42 3.988-1.686 3.717-1.444-.184-2.035-1.343-1.688-2.054.299-.608 1.335-.982 1.335-.982s-1.19-.484-2.592.044C.96 8.27-.078 9.312.005 11.917V24s1.3-1.604 2.83-3.236c1.713-1.84 2.495-3.084 4.254-2.938 3.328.205 5.735-1.273 7.37-3.645 3.142-4.563.681-9.661-1.43-10.343" style="fill:#e0311d;fill-opacity:1;stroke-width:.66479"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/sparkfun" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.instagram.com/sparkfun" target="_blank" rel="noopener" title="www.instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141m0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7m146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8m76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.github.com/sparkfun" target="_blank" rel="noopener" title="www.github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/SparkFun" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/sparkfun" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
    <a href="./#__consent" target="_blank" rel="noopener" title="Change cookie settings" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M257.5 27.6c-.8-5.4-4.9-9.8-10.3-10.6-22.1-3.1-44.6.9-64.4 11.4l-74 39.5c-19.7 10.5-35.6 27-45.4 47.1l-36.7 75.6c-9.8 20.1-13 42.9-9.1 64.9l14.5 82.8c3.9 22.1 14.6 42.3 30.7 57.9l60.3 58.4c16.1 15.6 36.6 25.6 58.7 28.7l83 11.7c22.1 3.1 44.6-.9 64.4-11.4l74-39.5c19.7-10.5 35.6-27 45.4-47.2l36.7-75.5c9.8-20.1 13-42.9 9.1-64.9-.9-5.3-5.3-9.3-10.6-10.1-51.5-8.2-92.8-47.1-104.5-97.4-1.8-7.6-8-13.4-15.7-14.6-54.6-8.7-97.7-52-106.2-106.8zM208 144a32 32 0 1 1 0 64 32 32 0 1 1 0-64m-64 192a32 32 0 1 1 64 0 32 32 0 1 1-64 0m224-64a32 32 0 1 1 0 64 32 32 0 1 1 0-64"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  


  




<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
          
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate", "content.action.edit", "navigation.footer", "navigation.tracking", "navigation.tabs.sticky", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.path"], "search": "../assets/javascripts/workers/search.c7c1ca2c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.203fd0bc.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
        <script src="../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>